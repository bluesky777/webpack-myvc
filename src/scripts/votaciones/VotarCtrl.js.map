{
  "version": 3,
  "file": "VotarCtrl.js",
  "sourceRoot": "",
  "sources": [
    "VotarCtrl.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "'use strict'\n\nangular.module(\"myvcFrontApp\")\n\n.controller('VotarCtrl', ['$scope', '$http', 'toastr', ($scope, $http, toastr)->\n\n\n\t$scope.votaciones = []\n\t$scope.indexVotando = 0\n\n\t$http.get('::votaciones/en-accion-inscrito').then((r)->\n\t\tr = r.data\n\t\tif r.msg\n\t\t\ttoastr.warning r.msg, 'Atención'\n\t\telse\n\t\t\t$scope.votaciones = r\n\t\t\tfor vot in $scope.votaciones\n\t\t\t\tif vot.completos\n\t\t\t\t\t$scope.indexVotando++\n\t)\n\n\t$scope.$on 'termineDeVotar', ()->\n\t\t$scope.indexVotando++\n\t\t$scope.$broadcast 'terminaVotacion', $scope.indexVotando\n\n\n\treturn\n])\n\n\n\n\n.controller('chooseCandidatoCtrl', ['$scope', '$http', '$uibModalInstance', 'App', 'candidato', 'aspiracion', 'votacion_id', 'toastr', ($scope, $http, $modalInstance, App, candidato, aspiracion, votacion_id, toastr)->\n\n\t$scope.candidato = candidato\n\t$scope.aspiracion = aspiracion\n\t$scope.imagesPath = App.images + 'perfil/'\n\n\t$scope.ok = ()->\n\t\tdatos = {}\n\t\tdatos.votacion_id = votacion_id\n\n\t\tif candidato.voto_blanco\n\t\t\tdatos.blanco_aspiracion_id \t= aspiracion.id\n\t\t\tdatos.voto_blanco \t\t\t\t\t= true\n\t\telse\n\t\t\tdatos.candidato_id = candidato.candidato_id\n\n\t\t$http.post('::votos/store', datos).then((r)->\n\t\t\tr = r.data\n\t\t\tif r.msg\n\t\t\t\ttoastr.info r.msg\n\t\t\telse\n\t\t\t\ttoastr.success 'Voto guardado con éxito'\n\t\t\t$modalInstance.close(r)\n\t\t, (r2)->\n\t\t\tr2 = r2.data\n\t\t\tif r2.data\n\t\t\t\tif r2.data.msg\n\t\t\t\t\ttoastr.error r2.data.msg # Mensaje que me devuelve el servidor\n\t\t\t\telse\n\t\t\t\t\ttoastr.error 'No se pudo guardar el voto.'\n\t\t\telse\n\t\t\t\ttoastr.error 'No se pudo guardar el voto.'\n\n\t\t\t$modalInstance.dismiss('Error al guardar')\n\t\t)\n\n\t$scope.cancel = ()->\n\t\t$modalInstance.dismiss('cancel')\n])\n"
  ]
}