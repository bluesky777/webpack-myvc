{
  "version": 3,
  "file": "VotarPruebaCtrl.js",
  "sourceRoot": "",
  "sources": [
    "VotarPruebaCtrl.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "'use strict'\n\nangular.module(\"myvcFrontApp\")\n\n.controller('VotarPruebaCtrl', ['$scope', '$filter', '$http', 'App', '$state', '$uibModal', '$window', ($scope, $filter, $http, App, $state, $modal, $window)->\n\n\n\t$scope.hover = false\n\t$scope.aspiraciones = []\n\t$scope.maxi = $state.params.maxi\n\t$scope.windowHeight = $($window).height()-100\n\t$scope.wzStep = 0\n\n\n\t$scope.votacion = {\n\t\tlocked: false\n\t\tis_action: false\n\t\tfecha_inicio: ''\n\t\tfecha_fin: ''\n\t}\n\n\t$http.get('::votaciones/actual').then((r)->\n\t\t$scope.votacion = r.data\n\t\tif $scope.votacion.locked\n\t\t\t$scope.toastr.warning 'La votación actual está bloqueada'\n\t\t\t#$state.transitionTo 'panel'\n\n\t)\n\n\n\t$http.get('::candidatos/conaspiraciones').then((r)->\n\t\t$scope.aspiraciones = r.data\n\t, (r2)->\n\t\t$scope.toastr.error 'No se pudo traer las aspiraciones', 'Problema'\n\t)\n\n\t$http.get('::participantes/allinscritos').then((r)->\n\t\t$scope.allinscritos = r.data\n\t, (r2)->\n\t\t$scope.toastr.error 'No se pudo traer los inscritos', 'Problema'\n\t)\n\n\n\t$scope.currentImg = 'default_male.jpg'\n\t$scope.imagesPath = App.images + 'perfil/'\n\n\t$scope.mostrarImagen = (candidato)->\n\t\tcandidato.iluminado = true\n\t\t$scope.currentImg = candidato.imagen_nombre\n\n\t$scope.ocultarImagen = (candidato)->\n\t\tcandidato.iluminado = false\n\n\t$scope.nextAspiracion = ()->\n\t\t$scope.wzStep += 1 if $scope.wzStep < ($scope.aspiraciones.length)\n\n\t$scope.prevAspiracion = ()->\n\t\t$scope.wzStep -= 1 if $scope.wzStep > 0\n\n\t$scope.goAspiracion = (num)->\n\t\t$scope.wzStep = parseInt $scope.wzStep\n\t\tnum = parseInt(num)\n\n\t\t$scope.wzStep = num if num < $scope.wzStep\n\n\n\t$scope.open = (candidato, aspiracion)->\n\n\t\tif $scope.votacion.locked\n\t\t\t$scope.toastr.warning 'La votación actual está bloqueada'\n\t\t\treturn\n\t\telse\n\t\t\tmodalInstance = $modal.open({\n\t\t\t\ttemplateUrl: '==votaciones/chooseCandidato.tpl.html'\n\t\t\t\tcontroller: 'chooseCandidatoCtrl'\n\t\t\t\tresolve:\n\t\t\t\t\tcandidato: ()->\n\t\t\t\t\t\tcandidato\n\t\t\t\t\taspiracion: ()->\n\t\t\t\t\t\taspiracion\n\t\t\t\t\tvotacion_id: ()->\n\t\t\t\t\t\t$scope.votacion.id\n\n\t\t\t})\n\t\t\tmodalInstance.result.then( (selectedItem)->\n\t\t\t\taspiracion.votado.push selectedItem\n\t\t\t\t$scope.nextAspiracion()\n\t\t\t, ()->\n\t\t\t\t#console.log 'Modal dismissed at: ' + new Date()\n\t\t\t)\n\n\n\treturn\n])\n\n.controller('chooseCandidatoPruebaCtrl', ['$scope', '$http', '$uibModalInstance', 'App', 'candidato', 'aspiracion', 'toastr', ($scope, $http, $modalInstance, App, candidato, aspiracion, toastr)->\n\n\t$scope.candidato = candidato\n\t$scope.aspiracion = aspiracion\n\t$scope.imagesPath = App.images + 'perfil/'\n\n\t$scope.ok = ()->\n\t\tdatos = {}\n\t\tdatos.candidato_id = candidato.candidato_id\n\n\t\tr = {\n\t\t\tlocked: false\n\t\t\tis_action: false\n\t\t\tfecha_inicio: ''\n\t\t\tfecha_fin: ''\n\t\t\tcompleto: false\n\t\t}\n\n\t\ttoastr.success 'Voto guardado con éxito'\n\t\t$modalInstance.close(r)\n\n\n\t$scope.cancel = ()->\n\t\t$modalInstance.dismiss('cancel')\n])\n"
  ]
}