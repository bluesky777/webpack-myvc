{
  "version": 3,
  "file": "UserCtrl.js",
  "sourceRoot": "",
  "sources": [
    "UserCtrl.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "angular.module('myvcFrontApp')\n.controller('UserCtrl', ['$scope', '$http', '$state', 'AuthService', 'Perfil', 'App', 'perfilactual', '$filter', ($scope, $http, $state, AuthService, Perfil, App, perfilactual, $filter) ->\n\n\tusername = $state.params.username\n\t$scope.perfilactual = perfilactual\n\t$scope.companieros = []\n\t$scope.profesores = []\n\t$scope.materias = []\n\t$scope.canConfig = false\n\t$scope.hasRoleOrPerm = AuthService.hasRoleOrPerm\n\t$scope.perfilPath = App.images+'perfil/'\n\n\t$scope.setImagenPrincipal()\n\n\tif $scope.USER.user_id == $scope.perfilactual.user_id\n\t\t$scope.canConfig = true\n\n\n\n\t$scope.setImagenPrincipal = ()->\n\t\tini = App.images+'perfil/'\n\n\t\timgUsuario = $scope.perfilactual.imagen_nombre\n\t\timgOficial = $scope.perfilactual.foto_nombre\n\n\t\tpathUsu = ini + imgUsuario\n\t\tpathOfi = ini + imgOficial\n\n\t\t$scope.imagenPrincipal = pathUsu\n\t\t$scope.imagenOficial = pathOfi\n\n\ttraerDatos = ()->\n\t\t$http.get('::perfiles/profesormispersonas').then((r)->\n\t\t\tr = r.data\n\t\t\t$scope.perfilactual = r[0]\n\t\t\t$scope.setImagenPrincipal()\n\t\t,(r2)->\n\t\t\ttoastr.error 'No se pudo traer el usuario'\n\t\t\treturn $state.transitionTo 'panel'\n\t\t)\n\n\n\t$scope.paisNacSelect = ($item, $model)->\n\t\t$http.get(\"::ciudades/departamentos/\"+$item.id).then((r)->\n\t\t\t$scope.departamentosNac = r.data\n\n\t\t\tif typeof $scope.perfilactual.pais_doc is 'undefined'\n\t\t\t\t$scope.perfilactual.pais_doc = $item\n\t\t\t\t$scope.paisDocSelecionado($item)\n\t\t)\n\n\t$scope.departNacSelect = ($item)->\n\t\t$http.get(\"::ciudades/por-departamento/\"+$item.departamento).then((r)->\n\t\t\t$scope.ciudadesNac = r.data\n\n\t\t\tif typeof $scope.perfilactual.departamento_doc is 'undefined'\n\t\t\t\t$scope.perfilactual.departamento_doc = $item\n\t\t\t\t$scope.departDocSeleccionado($item)\n\t\t)\n\n\t$scope.paisDocSelecionado = ($item, $model)->\n\n\t\t$http.get(\"::ciudades/departamentos/\"+$item.id).then((r)->\n\t\t\t$scope.departamentos = r.data\n\t\t)\n\n\t$scope.departDocSeleccionado = ($item)->\n\t\t$http.get(\"::ciudades/por-departamento/\"+$item.departamento).then((r)->\n\t\t\t$scope.ciudades = r.data\n\t\t)\n\n\t$http.get('::paises').then((r)->\n\t\t$scope.paises = r.data\n\t)\n\n\t$http.get('::tiposdocumento').then (r)->\n\t\t$scope.tipos_doc = r.data\n\t\t# ARREGLO PAIS DE NACIMIENTO\n\t\tif $scope.perfilactual.tipo_doc\n\t\t\ttipo_temp = $filter('filter')($scope.tipos_doc, {id: $scope.perfilactual.tipo_doc})\n\t\t\tif tipo_temp.length > 0\n\t\t\t\t$scope.perfilactual.tipo_doc = tipo_temp[0]\n\n\n\n\n\t# ARREGLO PAIS DE NACIMIENTO\n\tif $scope.perfilactual.ciudad_nac == null\n\t\t$scope.perfilactual.pais_nac = {id: 1, pais: 'COLOMBIA', abrev: 'CO'}\n\t\t$scope.paisNacSelect($scope.perfilactual.pais_nac, $scope.perfilactual.pais_nac)\n\telse\n\t\tif $scope.perfilactual.ciudad_nac == 'N/A'\n\t\t\treturn\n\t\t$http.get('::ciudades/datosciudad/'+$scope.perfilactual.ciudad_nac).then (r2)->\n\t\t\t$scope.paises = r2.data.paises\n\t\t\t$scope.departamentosNac = r2.departamentos\n\t\t\t$scope.ciudadesNac = r2.ciudades\n\t\t\t$scope.perfilactual.pais_nac = r2.pais\n\t\t\t$scope.perfilactual.departamento_nac = r2.departamento\n\t\t\t$scope.perfilactual.ciudad_nac = r2.ciudad\n\n\t\t$http.get('::ciudades/datosciudad/'+$scope.perfilactual.ciudad_doc).then (r2)->\n\t\t\t$scope.paises = r2.data.paises\n\t\t\t$scope.departamentos = r2.departamentos\n\t\t\t$scope.ciudades = r2.ciudades\n\t\t\t$scope.perfilactual.pais_doc = r2.pais\n\t\t\t$scope.perfilactual.departamento_doc = r2.departamento\n\t\t\t$scope.perfilactual.ciudad_doc = r2.ciudad\n\n\n\n\n\n\t$scope.nameToShow = ()->\n\t\tif $scope.perfilactual.tipo == 'Usu'\n\t\t\treturn $scope.perfilactual.username.toUpperCase()\n\t\telse\n\t\t\treturn $scope.perfilactual.nombres + ' ' + $scope.perfilactual.apellidos\n\n])\n"
  ]
}