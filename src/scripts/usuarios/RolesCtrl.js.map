{
  "version": 3,
  "file": "RolesCtrl.js",
  "sourceRoot": "",
  "sources": [
    "RolesCtrl.coffee"
  ],
  "names": [],
  "mappings": "AAAA;EAAA,OAAO,CAAC,MAAR,CAAe,cAAf,CACA,CAAC,UADD,CACY,WADZ,EACyB;IAAC,QAAD;IAAW,OAAX;IAAoB,QAApB;IAA8B,YAA9B;IAA4C,aAA5C;IAA2D,QAA3D;IAAqE,KAArE;IAA4E,SAA5E;IAAuF,QAAA,CAAC,MAAD;IAAS,KAAT;IAAgB,MAAhB;IAAwB,UAAxB;IAAoC,WAApC;IAAiD,MAAjD;IAAyD,GAAzD;IAA8D,OAA9D,CAAA;MAE/G,WAAW,CAAC,gBAAZ,CAAA;MACA,MAAM,CAAC,aAAP,GAAuB,WAAW,CAAC;MAGnC,MAAM,CAAC,IAAP,GAAc,CAAA;MACd,MAAM,CAAC,KAAP,GAAe;MACf,MAAM,CAAC,WAAP,GAAqB;MAErB,KAAK,CAAC,GAAN,CAAU,SAAV,CAAoB,CAAC,IAArB,CAA0B,QAAA,CAAC,CAAD,CAAA;eACzB,MAAM,CAAC,KAAP,GAAe,CAAC,CAAC;MADQ,CAA1B;IAEE,QAAA,CAAC,EAAD,CAAA;eACD,MAAM,CAAC,KAAP,CAAa,6BAAb;IAA4C,EAA5C;MADC,CAFF;MAMA,KAAK,CAAC,GAAN,CAAU,eAAV,CAA0B,CAAC,IAA3B,CAAgC,QAAA,CAAC,CAAD,CAAA;eAC/B,MAAM,CAAC,WAAP,GAAqB,CAAC,CAAC;MADQ,CAAhC;IAEE,QAAA,CAAC,EAAD,CAAA;eACD,MAAM,CAAC,KAAP,CAAa,mCAAb;IAAkD,EAAlD;MADC,CAFF;MAMA,MAAM,CAAC,MAAP,GAAgB,QAAA,CAAC,GAAD,CAAA;eACf,GAAG,CAAC,iBAAJ,GAAwB;MADT;MAGhB,MAAM,CAAC,QAAP,GAAkB,QAAA,CAAC,GAAD,CAAA;eACjB,GAAG,CAAC,iBAAJ,GAAwB;MADP;MAGlB,MAAM,CAAC,cAAP,GAAwB,QAAA,CAAC,GAAD,CAAA;eAEvB,KAAK,CAAC,GAAN,CAAU,wBAAA,GAA2B,GAAG,CAAC,EAAzC;IAA6C;UAAC,aAAA,EAAe,GAAG,CAAC,OAAO,CAAC;QAA5B,CAA7C,CAA6E,CAAC,IAA9E,CAAmF,QAAA,CAAC,CAAD,CAAA;UAClF,GAAG,CAAC,KAAK,CAAC,IAAV,CAAe,CAAC,CAAC,IAAjB;iBACA,MAAM,CAAC,OAAP,CAAe,0BAAA,GAA6B,GAAG,CAAC,YAAhD;QAFkF,CAAnF;IAGE,QAAA,CAAC,EAAD,CAAA;iBACD,MAAM,CAAC,KAAP,CAAa,+BAAb;IAA8C,UAA9C;QADC,CAHF;MAFuB;aASxB,MAAM,CAAC,gBAAP,GAA0B,QAAA,CAAC,GAAD;IAAM,IAAN,CAAA;eAEzB,KAAK,CAAC,GAAN,CAAU,2BAAA,GAA8B,GAAG,CAAC,EAA5C;IAAgD;UAAC,aAAA,EAAe,IAAI,CAAC;QAArB,CAAhD,CAAyE,CAAC,IAA1E,CAA+E,QAAA,CAAC,CAAD,CAAA;UAC9E,GAAG,CAAC,KAAJ,GAAY,OAAA,CAAQ,QAAR,CAAA,CAAkB,GAAG,CAAC,KAAtB;IAA6B;YAAC,EAAA,EAAI,GAAA,GAAI,IAAI,CAAC;UAAd,CAA7B;iBACZ,MAAM,CAAC,OAAP,CAAe,4BAAA,GAA+B,GAAG,CAAC,YAAlD;QAF8E,CAA/E;IAGE,QAAA,CAAC,EAAD,CAAA;iBACD,MAAM,CAAC,KAAP,CAAa,8BAAb;IAA6C,UAA7C;QADC,CAHF;MAFyB;IArCqF,CAAvF;GADzB;AAAA",
  "sourcesContent": [
    "angular.module('myvcFrontApp')\n.controller('RolesCtrl', ['$scope', '$http', '$state', '$rootScope', 'AuthService', 'toastr', 'App', '$filter', ($scope, $http, $state, $rootScope, AuthService, toastr, App, $filter) ->\n\n\tAuthService.verificar_acceso()\n\t$scope.hasRoleOrPerm = AuthService.hasRoleOrPerm\n\n\n\t$scope.dato = {}\n\t$scope.roles = []\n\t$scope.permissions = []\n\n\t$http.get('::roles').then((r)->\n\t\t$scope.roles = r.data\n\t, (r2)->\n\t\ttoastr.error 'No se pudo traer los roles ', r2\n\t)\n\n\t$http.get('::permissions').then((r)->\n\t\t$scope.permissions = r.data\n\t, (r2)->\n\t\ttoastr.error 'No se pudo traer los permissions ', r2\n\t)\n\n\t$scope.expand = (rol)->\n\t\trol.mostrandoPermisos = true\n\n\t$scope.collapse = (rol)->\n\t\trol.mostrandoPermisos = false\n\n\t$scope.addPermissions = (rol)->\n\n\t\t$http.put('::roles/addpermission/' + rol.id, {permission_id: rol.newperm.id}).then((r)->\n\t\t\trol.perms.push r.data\n\t\t\ttoastr.success 'Permiso agregado al rol ' + rol.display_name\n\t\t, (r2)->\n\t\t\ttoastr.error 'No se pudo agregar el permiso', 'Problema'\n\t\t)\n\n\t$scope.removePermission = (rol, perm)->\n\t\t\n\t\t$http.put('::roles/removepermission/' + rol.id, {permission_id: perm.id}).then((r)->\n\t\t\trol.perms = $filter('filter')(rol.perms, {id: '!'+perm.id})\n\t\t\ttoastr.success 'Permiso eliminado del rol ' + rol.display_name\n\t\t, (r2)->\n\t\t\ttoastr.error 'No se pudo quitar el permiso', 'Problema'\n\t\t)\n])\n\n"
  ]
}