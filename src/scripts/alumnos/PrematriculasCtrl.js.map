{
  "version": 3,
  "file": "PrematriculasCtrl.js",
  "sourceRoot": "",
  "sources": [
    "PrematriculasCtrl.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "'use strict'\n\nangular.module(\"myvcFrontApp\")\n\n.controller('PrematriculasCtrl', ['$scope', 'App', '$rootScope', '$state', '$interval', 'uiGridConstants', 'uiGridEditConstants', '$uibModal', '$filter', 'AuthService', 'toastr', '$http', 'DownloadServ', 'Upload', 'Acentos', ($scope, App, $rootScope, $state, $interval, uiGridConstants, uiGridEditConstants, $modal, $filter, AuthService, toastr, $http, DownloadServ, Upload, Acentos)->\n\n\tAuthService.verificar_acceso()\n\n\tif AuthService.hasRoleOrPerm('Profesor') and !$scope.USER.profes_can_edit_alumnos\n\t\ttoastr.warning 'No tienes permiso para editar alumnos'\n\t\t$state.transitionTo 'panel'\n\n\t#$scope.$parent.bigLoader\t\t\t= true\n\t$scope.dato \t\t\t\t\t\t= {}\n\t$scope.dato.mostrartoolgrupo \t\t= true\n\t$scope.gridScope \t\t\t\t\t= $scope # Para getExternalScopes de ui-Grid\n\t$scope.views \t\t\t\t\t\t= App.views\n\t$scope.perfilPath \t\t  \t      \t= App.images+'perfil/'\n\t$scope.year_ant \t\t\t\t\t= $scope.USER.year - 1\n\t$scope.gridOptions \t\t\t        = {}\n\t$scope.gridOptionsSinMatricula \t\t= {}\n\t$scope.paises \t\t\t\t\t\t= []\n\t$scope.tipos_sangre \t\t\t\t= App.tipos_sangre\n\t$scope.mostrar_pasado     = true\n\t$scope.mostrar_retirados  = false\n\t$scope.texto_a_buscar    = ''\n\t$scope.hombresGrupo       = 0\n\t$scope.mujeresGrupo       = 0\n\n\t$scope.parentescos \t\t\t= App.parentescos\n\n\n\n\t$scope.dato.grupo = ''\n\t$http.get('::grupos/con-paises-tipos-next-year').then((r)->\n\t\tmatr_grupo = 0\n\n\t\tif localStorage.matr_grupo_premat\n\t\t\tmatr_grupo = parseInt(localStorage.matr_grupo_premat)\n\n\t\t$scope.grupos \t\t= r.data.grupos\n\t\t$scope.paises \t\t= r.data.paises\n\t\t$scope.tipos_doc \t= r.data.tipos_doc\n\n\t\tfor grupo in $scope.grupos\n\n\t\t\tif parseInt(grupo.id) == parseInt(matr_grupo)\n\t\t\t\t$scope.dato.grupo = grupo\n\t\t\t\t$scope.selectGrupo($scope.dato.grupo)\n\n\n\t\tcant_matr   = 0\n\t\tsin_matr    = 0\n\t\tcant_cupo   = 0\n\t\tfaltan      = 0\n\t\tformus      = 0\n\t\tmatris      = 0\n\t\tasiste      = 0\n\n\t\tfor grup in $scope.grupos\n\t\t\tcant_matr   += grup.cantidad\n\t\t\tsin_matr    += grup.sin_matricular\n\t\t\tcant_cupo   += grup.cupo\n\t\t\tfaltan      += grup.cant_faltantes\n\t\t\tformus      += grup.cant_formularios\n\t\t\tmatris      += grup.cant_matriculados\n\t\t\tasiste      += grup.cant_asistentes\n\n\t\t\tgrup.active = false\n\n\t\t$scope.total_prematriculados  = cant_matr\n\t\t$scope.total_sin_prematric    = sin_matr\n\t\t$scope.total_cupo             = cant_cupo\n\t\t$scope.total_taltantes        = faltan\n\t\t$scope.total_formularios      = formus\n\t\t$scope.total_matriculados     = matris\n\t\t$scope.total_asistentes       = asiste\n\n\t\t#$scope.$parent.bigLoader \t= false\n\t)\n\n\n\t$scope.selectGrupo = (grupo)->\n\t\tlocalStorage.matr_grupo_premat = grupo.id\n\t\t$scope.dato.grupo \t\t= grupo\n\n\t\tcant_matr   = 0\n\t\tsin_matr    = 0\n\n\t\tfor grup in $scope.grupos\n\t\t\tcant_matr   += grup.cantidad\n\t\t\tsin_matr    += grup.sin_matricular\n\n\t\t\tgrup.active = false\n\n\t\t$scope.total_prematriculados  = cant_matr\n\t\t$scope.total_sin_prematric    = sin_matr\n\n\t\tgrupo.active = true\n\n\t\t# Traer alumnos\n\t\tgrupos_ant = []\n\n\t\tfor grup in $scope.grupos\n\t\t\tif grup.orden_grado == (grupo.orden_grado - 1)\n\t\t\t\tgrupos_ant.push grup\n\n\n\t\t# Quería mandar los grupos anteriores, pero solo voy a mandar el grado_id\n\t\tif grupos_ant.length > 0\n\t\t\tgrado_ant_id \t= grupos_ant[0].grado_id\n\t\telse\n\t\t\tgrado_ant_id \t= null\n\n\n\t\t$scope.traerAlumnnosConGradosAnterior = ()->\n\t\t\t$http.put(\"::prematriculas/alumnos-con-grado-anterior\", {grupo_actual: grupo, grado_ant_id: grado_ant_id, year_ant: $scope.year_ant}).then((r)->\n\t\t\t\t$scope.gridOptions.data \t            = r.data.AlumnosActuales\n\t\t\t\t$scope.gridOptionsSinMatricula.data \t= r.data.AlumnosSinMatricula\n\t\t\t\t$scope.AlumnosFormularios \t          = r.data.AlumnosFormularios\n\t\t\t\t$scope.AlumnosPrematriculadosA \t      = r.data.AlumnosPrematriculadosA\n\n\t\t\t\tfor alumno in $scope.gridOptions.data\n\t\t\t\t\t#console.log alumno.fecha_retiro, new Date(alumno.fecha_retiro.replace( /(\\d{2})-(\\d{2})-(\\d{4})/, \"$2/$1/$3\"))\n\t\t\t\t\talumno.estado_ant \t\t\t= alumno.estado\n\t\t\t\t\talumno.fecha_retiro_ant \t= alumno.fecha_retiro\n\t\t\t\t\talumno.fecha_retiro \t\t= if alumno.fecha_retiro then new Date(alumno.fecha_retiro.replace(/-/g, '\\/')) else alumno.fecha_retiro\n\t\t\t\t\talumno.fecha_matricula_ant \t= alumno.fecha_matricula\n\t\t\t\t\talumno.fecha_matricula \t\t= if alumno.fecha_matricula then new Date(alumno.fecha_matricula.replace(/-/g, '\\/')) else alumno.fecha_matricula\n\t\t\t\t\talumno.premarticulado_ant \t= alumno.prematriculado\n\t\t\t\t\talumno.prematriculado \t\t= if alumno.prematriculado then new Date(alumno.prematriculado.replace(/-/g, '\\/')) else alumno.prematriculado\n\n\t\t\t\t\tfor tipo_doc in $scope.tipos_doc\n\t\t\t\t\t\tif tipo_doc.id == alumno.tipo_doc\n\t\t\t\t\t\t\talumno.tipo_doc = tipo_doc\n\n\t\t\t\t\tfor pariente in alumno.subGridOptions.data\n\t\t\t\t\t\tpariente.fecha_nac_ant \t= pariente.fecha_nac\n\t\t\t\t\t\tpariente.fecha_nac \t\t= if pariente.fecha_nac then new Date(pariente.fecha_nac.replace(/-/g, '\\/')) else pariente.fecha_nac\n\n\n\n\t\t\t\t\talumno.subGridOptions.onRegisterApi = ( gridApi ) ->\n\t\t\t\t\t\tgridApi.edit.on.afterCellEdit($scope, (rowEntity, colDef, newValue, oldValue)->\n\t\t\t\t\t\t\tif newValue != oldValue\n\t\t\t\t\t\t\t\tif colDef.field == \"sexo\"\n\t\t\t\t\t\t\t\t\tnewValue = newValue.toUpperCase()\n\t\t\t\t\t\t\t\t\tif !(newValue == 'M' or newValue == 'F')\n\t\t\t\t\t\t\t\t\t\ttoastr.warning 'Debe usar M o F'\n\t\t\t\t\t\t\t\t\t\trowEntity.sexo = oldValue\n\t\t\t\t\t\t\t\t\t\treturn\n\n\t\t\t\t\t\t\t\tif colDef.field == 'email'\n\t\t\t\t\t\t\t\t\tre = /\\S+@\\S+\\.\\S+/\n\t\t\t\t\t\t\t\t\tif !re.test(newValue)\n\t\t\t\t\t\t\t\t\t\ttoastr.warning 'Email no válido'\n\t\t\t\t\t\t\t\t\t\trowEntity.email = oldValue\n\t\t\t\t\t\t\t\t\t\treturn\n\n\t\t\t\t\t\t\t\t$http.put('::acudientes/guardar-valor', {parentesco_id: rowEntity.parentesco_id, acudiente_id: rowEntity.id, user_id: rowEntity.user_id, propiedad: colDef.field, valor: newValue } ).then((r)->\n\t\t\t\t\t\t\t\t\ttoastr.success 'Acudiente actualizado con éxito'\n\t\t\t\t\t\t\t\t, (r2)->\n\t\t\t\t\t\t\t\t\trowEntity[colDef.field] = oldValue\n\t\t\t\t\t\t\t\t\ttoastr.error 'Cambio no guardado', 'Error'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t$scope.$apply()\n\t\t\t\t\t\t)\n\n\t\t\t\tfor alumno in $scope.gridOptionsSinMatricula.data\n\t\t\t\t\t#console.log alumno.fecha_retiro, new Date(alumno.fecha_retiro.replace( /(\\d{2})-(\\d{2})-(\\d{4})/, \"$2/$1/$3\"))\n\t\t\t\t\talumno.estado_ant \t\t\t= alumno.estado\n\t\t\t\t\talumno.fecha_retiro_ant \t= alumno.fecha_retiro\n\t\t\t\t\talumno.fecha_retiro \t\t= if alumno.fecha_retiro then new Date(alumno.fecha_retiro.replace(/-/g, '\\/')) else alumno.fecha_retiro\n\t\t\t\t\talumno.fecha_matricula_ant \t= alumno.fecha_matricula\n\t\t\t\t\talumno.fecha_matricula \t\t= if alumno.fecha_matricula then new Date(alumno.fecha_matricula.replace(/-/g, '\\/')) else alumno.fecha_matricula\n\n\t\t\t)\n\n\t\t$scope.traerAlumnnosConGradosAnterior()\n\n\n\n\n\t$scope.editar = (row)->\n\t\t$state.go('panel.alumnos.editar', {alumno_id: row.alumno_id})\n\n\t$scope.eliminar = (row)->\n\t\tmodalInstance = $modal.open({\n\t\t\ttemplateUrl: '==alumnos/removeAlumno.tpl.html'\n\t\t\tcontroller: 'RemoveAlumnoCtrl'\n\t\t\tresolve:\n\t\t\t\talumno: ()->\n\t\t\t\t\trow\n\t\t})\n\t\tmodalInstance.result.then( (alum)->\n\t\t\t$scope.gridOptions.data = $filter('filter')($scope.gridOptions.data, {alumno_id: '!'+alum.alumno_id})\n\t\t, ()->\n\t\t\t# nada\n\t\t)\n\n\t$scope.agregarAcudiente = (rowAlum)->\n\t\tdelete $rootScope.acudiente_cambiar\n\n\t\tmodalInstance = $modal.open({\n\t\t\ttemplateUrl: '==alumnos/newAcudienteModal.tpl.html'\n\t\t\tcontroller: 'NewAcudienteModalCtrl'\n\t\t\tresolve:\n\t\t\t\talumno: ()->\n\t\t\t\t\trowAlum\n\t\t\t\tpaises: ()->\n\t\t\t\t\t$scope.paises\n\t\t\t\ttipos_doc: ()->\n\t\t\t\t\t$scope.tipos_doc\n\t\t\t\tparentescos: ()->\n\t\t\t\t\t$scope.parentescos\n\t\t})\n\t\tmodalInstance.result.then( (acud)->\n\t\t\trowAlum.subGridOptions.data.splice(rowAlum.subGridOptions.data.length-1, 0, acud)\n\t\t, ()->\n\t\t\t# nada\n\t\t)\n\n\n\t$scope.cambiarAcudiente = (rowAlum, acudiente)->\n\t\t$rootScope.acudiente_cambiar = acudiente\n\n\t\tmodalInstance = $modal.open({\n\t\t\ttemplateUrl: '==alumnos/newAcudienteModal.tpl.html'\n\t\t\tcontroller: 'NewAcudienteModalCtrl'\n\t\t\tresolve:\n\t\t\t\talumno: ()->\n\t\t\t\t\trowAlum\n\t\t\t\tpaises: ()->\n\t\t\t\t\t$scope.paises\n\t\t\t\ttipos_doc: ()->\n\t\t\t\t\t$scope.tipos_doc\n\t\t\t\tparentescos: ()->\n\t\t\t\t\t$scope.parentescos\n\t\t})\n\t\tmodalInstance.result.then( (acud)->\n\t\t\tfor pariente, indice in rowAlum.subGridOptions.data\n\t\t\t\tif pariente\n\t\t\t\t\tif pariente.id == acudiente.id\n\t\t\t\t\t\trowAlum.subGridOptions.data.splice(indice, 1, acud)\n\t\t, ()->\n\t\t\t# nada\n\t\t)\n\n\n\t$scope.restaurar = (row)->\n\t\t$scope.restaurando = true\n\t\t$http.put('::alumnos/restore/' + row.alumno_id).then((r)->\n\t\t\ttoastr.success 'Alumno restaurado, para verlo, debe recargar la página'\n\t\t\t$scope.restaurando = false\n\t\t\trow.restaurado = true\n\t\t, (r2)->\n\t\t\ttoastr.error 'Alumno no restaurado', 'Error'\n\t\t\t$scope.restaurando = false\n\t\t)\n\n\n\n\t$scope.quitarAcudiente = (rowAlum, acudiente)->\n\n\t\tmodalInstance = $modal.open({\n\t\t\ttemplateUrl: '==alumnos/quitarAcudienteModalConfirm.tpl.html'\n\t\t\tcontroller: 'QuitarAcudienteModalConfirmCtrl'\n\t\t\tresolve:\n\t\t\t\talumno: ()->\n\t\t\t\t\trowAlum\n\t\t\t\tacudiente: ()->\n\t\t\t\t\tacudiente\n\t\t})\n\t\tmodalInstance.result.then( (acud)->\n\t\t\tfor pariente, indice in rowAlum.subGridOptions.data\n\t\t\t\tif pariente\n\t\t\t\t\tif pariente.id == acud.id\n\t\t\t\t\t\trowAlum.subGridOptions.data.splice(indice, 1)\n\t\t, ()->\n\t\t\t# nada\n\t\t)\n\n\t$scope.cantidadDeudores = ()->\n\t\tsum = 0\n\t\thombres = 0\n\t\tmujeres = 0\n\n\t\tif $scope.gridOptions.data\n\t\t\tfor alumno in $scope.gridOptions.data\n\t\t\t\tif !alumno.pazysalvo\n\t\t\t\t\tsum = sum + 1\n\t\t\t\tif alumno.sexo == 'M'\n\t\t\t\t\thombres++\n\t\t\t\telse\n\t\t\t\t\tmujeres++\n\t\t$scope.hombresGrupo = hombres\n\t\t$scope.mujeresGrupo = mujeres\n\n\t\treturn sum\n\n\n\n\t$scope.crear_alumno = ()->\n\t\t$rootScope.grupos_siguientes = $scope.grupos\n\t\t$state.go('panel.prematriculas.nuevo')\n\n\t$scope.cambiarCiudad = (row, tipo_ciudad)->\n\t\tmodalInstance = $modal.open({\n\t\t\ttemplateUrl: '==alumnos/cambiarCiudadModal.tpl.html'\n\t\t\tcontroller: 'CambiarCiudadModalCtrl'\n\t\t\tresolve:\n\t\t\t\tpersona: ()->\n\t\t\t\t\trow\n\t\t\t\tpaises: ()->\n\t\t\t\t\t$scope.paises\n\t\t\t\ttipo_ciudad: ()->\n\t\t\t\t\ttipo_ciudad\n\t\t\t\ttipo_persona: ()->\n\t\t\t\t\tif row.subGridOptions\n\t\t\t\t\t\treturn 'alumno'\n\t\t\t\t\telse\n\t\t\t\t\t\treturn 'acudiente'\n\t\t})\n\t\tmodalInstance.result.then( (alum)->\n\t\t\trow = alum\n\t\t)\n\n\n\t$scope.cambiarPazysalvo = (fila)->\n\t\tfila.pazysalvo = !fila.pazysalvo\n\t\tif not fila.alumno_id\n\t\t\tfila.alumno_id = fila.id\n\n\t\tdatos =\n\t\t\talumno_id: \tfila.alumno_id\n\t\t\tpropiedad: \t'pazysalvo'\n\t\t\tvalor: \t\tfila.pazysalvo\n\n\t\t$http.put('::alumnos/guardar-valor', datos).then((r)->\n\t\t\tconsole.log 'Cambios guardados'\n\t\t, (r2)->\n\t\t\tfila.pazysalvo = !fila.pazysalvo\n\t\t\ttoastr.error 'Cambio no guardado', 'Error'\n\t\t)\n\n\n\n\t$scope.toggleNuevo = (fila)->\n\t\tfila.nuevo = !fila.nuevo\n\t\tif not fila.alumno_id\n\t\t\tfila.alumno_id = fila.id\n\n\t\tdatos =\n\t\t\talumno_id: \tfila.alumno_id\n\t\t\tpropiedad: \t'nuevo'\n\t\t\tvalor: \t\tfila.nuevo\n\n\t\t$http.put('::alumnos/guardar-valor', datos).then((r)->\n\t\t\tconsole.log 'Cambios guardados'\n\t\t, (r2)->\n\t\t\tfila.nuevo = !fila.nuevo\n\t\t\ttoastr.error 'Cambio no guardado', 'Error'\n\t\t)\n\n\n\t$scope.toggleRepitente = (fila)->\n\t\tfila.repitente = !fila.repitente\n\t\tif not fila.alumno_id\n\t\t\tfila.alumno_id = fila.id\n\n\t\tdatos =\n\t\t\talumno_id: \tfila.alumno_id\n\t\t\tpropiedad: \t'repitente'\n\t\t\tvalor: \t\tfila.repitente\n\n\t\t$http.put('::alumnos/guardar-valor', datos).then((r)->\n\t\t\tconsole.log 'Cambios guardados'\n\t\t, (r2)->\n\t\t\tfila.repitente = !fila.repitente\n\t\t\ttoastr.error 'Cambio no guardado', 'Error'\n\t\t)\n\n\n\n\t$scope.toggleEgresado = (fila)->\n\t\tfila.egresado = !fila.egresado\n\t\tif not fila.alumno_id\n\t\t\tfila.alumno_id = fila.id\n\n\t\tdatos =\n\t\t\talumno_id: \tfila.alumno_id\n\t\t\tpropiedad: \t'egresado'\n\t\t\tvalor: \t\tfila.egresado\n\n\t\t$http.put('::alumnos/guardar-valor', datos).then((r)->\n\t\t\tconsole.log 'Cambios guardados'\n\t\t, (r2)->\n\t\t\tfila.egresado = !fila.egresado\n\t\t\ttoastr.error 'Cambio no guardado', 'Error'\n\t\t)\n\n\n\n\t$scope.crearUsuario = (row)->\n\n\t\tif row.user_id\n\t\t\ttoastr.warning 'Ya tiene usuario'\n\t\t\treturn\n\n\t\tif row.tipo == 'Acudiente'\n\n\t\t\tif !row.id\n\t\t\t\ttoastr.info 'Solo con acudientes creados'\n\t\t\t\treturn\n\n\t\t\t$http.post('::acudientes/crear-usuario', {acudiente: row}).then((r)->\n\t\t\t\t$scope.usuario_creado = true\n\t\t\t\trow.user_id \t= r.data.id\n\t\t\t\trow.username \t= r.data.username\n\t\t\t\ttoastr.success 'Usuario creado'\n\n\t\t\t, ()->\n\t\t\t\ttoastr.error 'No se pudo crear el usuario'\n\t\t\t)\n\n\t\tif row.tipo != 'Acudiente'\n\t\t\ttoastr.info 'Aquí solo puede crear usuario de acudiente', 'Lo sentimos'\n\n\n\t$scope.resetPass = (row)->\n\n\t\tif !row.user_id\n\t\t\ttoastr.warning 'Aún no tiene usuario'\n\t\t\treturn\n\n\t\tmodalInstance = $modal.open({\n\t\t\ttemplateUrl: App.views + 'usuarios/resetPass.tpl.html'\n\t\t\tcontroller: 'ResetPassCtrl'\n\t\t\tresolve:\n\t\t\t\tusuario: ()->\n\t\t\t\t\trow\n\t\t})\n\t\tmodalInstance.result.then( (user)->\n\t\t\t#console.log 'Resultado del modal: ', user\n\t\t)\n\n\n\t$scope.cambiaUsernameCheck = (texto)->\n\t\t$scope.verificandoUsername = true\n\t\treturn $http.put('::users/usernames-check', {texto: texto}).then((r)->\n\t\t\t$scope.username_match \t\t= r.data.usernames\n\t\t\t$scope.verificandoUsername \t= false\n\t\t\treturn $scope.username_match.map((item)->\n\t\t\t\treturn item.username\n\t\t\t)\n\t\t)\n\n\n\n\n\n\n\n\t$scope.eliminarMatricula = (row)->\n\n\t\t$http.delete('::matriculas/destroy/'+row.matricula_id).then((r)->\n\t\t\trow.currentyear = 0\n\t\t\ttoastr.success 'Alumno desmatriculado'\n\t\t\treturn row\n\t\t, (r2)->\n\t\t\ttoastr.error 'No se pudo desmatricular', 'Problema'\n\t\t)\n\n\tbtGrid1 = '<a uib-tooltip=\"Editar\" tooltip-placement=\"left\" class=\"btn btn-default btn-xs shiny icon-only info\" ng-click=\"grid.appScope.editar(row.entity)\"><i class=\"fa fa-edit \"></i></a>'\n\tbtGrid2 = ''\n\t#btGrid2 = '<a uib-tooltip=\"X Eliminar\" tooltip-placement=\"right\" class=\"btn btn-default btn-xs shiny icon-only danger\" ng-click=\"grid.appScope.eliminar(row.entity)\"><i class=\"fa fa-trash \"></i></a>'\n\tbt2 \t= '<span style=\"padding-left: 2px; padding-top: 4px;\" class=\"btn-group\">' + btGrid1 + btGrid2 + '</span>'\n\tbtMatricular = \"==directives/botonesPrematricularMas.tpl.html\"\n\tbtPazysalvo = \"==directives/botonPazysalvo.tpl.html\"\n\tbtIsNuevo = \"==directives/botonIsNuevo.tpl.html\"\n\tbtIsRepitente = \"==directives/botonIsRepitente.tpl.html\"\n\tbtIsEgresado = \"==directives/botonIsEgresado.tpl.html\"\n\tbtUsuario = \"==directives/botonesResetPassword.tpl.html\"\n\tbtCiudadDoc = \"==directives/botonCiudadDoc.tpl.html\"\n\tbtTipoDoc = \"==directives/botonTipoDoc.tpl.html\"\n\tbtEditUsername = \"==alumnos/botonEditUsername.tpl.html\"\n\n\tappendPopover1 = \"'==alumnos/popoverAlumnoGrid.tpl.html'\"\n\tappendPopover2 = \"'mouseenter'\"\n\tappend3 = \"' '\"\n\tappendPopover = 'uib-popover-template=\"views+' + appendPopover1 + '\" popover-trigger=\"'+appendPopover2+'\" popover-title=\"{{ row.entity.nombres + ' + append3 + ' + row.entity.apellidos }}\" popover-popup-delay=\"500\" popover-append-to-body=\"true\"'\n\tgridFooterCartera = \"==alumnos/gridFooterCartera.tpl.html\"\n\n\n\t$scope.gridOptions =\n\t\tshowGridFooter: true,\n\t\tshowColumnFooter: true,\n\t\tgridFooterTemplate: gridFooterCartera,\n\t\tenableSorting: true,\n\t\tenableFiltering: true,\n\t\texporterSuppressColumns: [ 'edicion' ],\n\t\texporterCsvColumnSeparator: ';',\n\t\texporterMenuPdf: false,\n\t\texporterMenuExcel: false,\n\t\texporterCsvFilename: \"Alumnos - MyVC.csv\",\n\t\tenableGridMenu: true,\n\t\tenebleGridColumnMenu: false,\n\t\tenableCellEditOnFocus: true,\n\t\texpandableRowTemplate: '==alumnos/expandableRowTemplate.tpl.html',\n\t\texpandableRowHeight: 120,\n\t\texpandableRowScope:\n\t\t\tagregarAcudiente: \t\t$scope.agregarAcudiente\n\t\t\tquitarAcudiente: \t\t\t$scope.quitarAcudiente\n\t\t\tcambiarAcudiente: \t\t$scope.cambiarAcudiente\n\t\t\tcrearUsuario: \t\t\t\t$scope.crearUsuario\n\t\t\tresetPass: \t\t\t\t\t\t$scope.resetPass\n\t\t\tcambiarCiudad: \t\t\t\t$scope.cambiarCiudad\n\t\t\tcambiaUsernameCheck: \t$scope.cambiaUsernameCheck\n\n\t\tcolumnDefs: [\n\t\t\t{ field: 'no', pinnedLeft:true, cellTemplate: '<div class=\"ui-grid-cell-contents\">{{grid.renderContainers.body.visibleRowCache.indexOf(row) + 1}}</div>', width: 40, enableCellEdit: false }\n\t\t\t{ field: 'nombres', minWidth: 130, pinnedLeft:true,\n\t\t\tfilter: {\n\t\t\t\tcondition: Acentos.buscarEnGrid\n\t\t\t}\n\t\t\tenableHiding: false, cellTemplate: '<div class=\"ui-grid-cell-contents\" style=\"padding: 0px;\" ' + appendPopover + '><img ng-src=\"{{grid.appScope.perfilPath + row.entity.foto_nombre}}\" style=\"width: 35px\" />{{row.entity.nombres}}</div>' }\n\t\t\t{ field: 'apellidos', minWidth: 110, filter: { condition: Acentos.buscarEnGrid }}\n\t\t\t{ name: 'edicion', displayName:'Edit', width: 54, enableSorting: false, enableFiltering: false, cellTemplate: bt2, enableCellEdit: false, enableColumnMenu: true}\n\t\t\t{ field: 'sexo', displayName: 'Sex', width: 40 }\n\t\t\t{ field: 'grupo_id', displayName: 'Matrícula', enableCellEdit: false, cellTemplate: btMatricular, minWidth: 270, enableFiltering: false }\n\t\t\t{ field: 'prematriculado', displayName: 'Fech prematriculado', cellFilter: \"date:mediumDate\", type: 'date', minWidth: 120 }\n\t\t\t{ field: 'fecha_matricula', displayName: 'Fecha matrícula', cellFilter: \"date:mediumDate\", type: 'date', minWidth: 100 }\n\t\t\t{ field: 'no_matricula', displayName: '# matrícula', minWidth: 80, enableColumnMenu: true }\n\t\t\t{ field: 'username', filter: { condition: Acentos.buscarEnGrid }, displayName: 'Usuario', cellTemplate: btUsuario, editableCellTemplate: btEditUsername, minWidth: 135 }\n\t\t\t{ field: 'deuda', displayName: 'Deuda', type: 'number', cellFilter: 'currency:\"$\":0', minWidth: 70 }\n\t\t\t{ field: 'pazysalvo', displayName: 'A paz?', cellTemplate: btPazysalvo, minWidth: 60, enableCellEdit: false }\n\t\t\t{ field: 'nuevo', displayName: 'Nuevo?', cellTemplate: btIsNuevo, minWidth: 60, enableCellEdit: false }\n\t\t\t{ field: 'repitente', displayName: 'Repitente?', cellTemplate: btIsRepitente, minWidth: 60, enableCellEdit: false }\n\t\t\t{ field: 'egresado', displayName: 'Egresado?', cellTemplate: btIsEgresado, minWidth: 60, enableCellEdit: false }\n\t\t\t{ field: 'tipo_doc', displayName: 'Tipo documento', minWidth: 120, cellTemplate: btTipoDoc, enableCellEdit: false }\n\t\t\t{ field: 'documento', minWidth: 100, cellFilter: 'formatNumberDocumento' }\n\t\t\t{ field: 'ciudad_doc', displayName: 'Ciud Docu', minWidth: 120, cellTemplate: btCiudadDoc, enableCellEdit: false }\n\t\t],\n\t\tmultiSelect: false,\n\t\t#filterOptions: $scope.filterOptions,\n\t\texporterHeaderFilter: ( displayName )->\n\t\t\tif( displayName == 'A paz?' )\n\t\t\t\treturn 'Paz y salvo';\n\t\t\telse if displayName == 'Matrícula'\n\t\t\t\treturn 'Grupo'\n\t\t\telse\n\t\t\t\treturn displayName;\n\t\t,\n\t\texporterFieldCallback: ( grid, row, col, input )->\n\t\t\tif col.name == 'no'\n\t\t\t\treturn grid.renderContainers.body.visibleRowCache.indexOf(row) + 1\n\t\t\tif col.name == 'grupo_id'\n\t\t\t\treturn $scope.dato.grupo.nombre\n\t\t\tif col.name == 'ciudad_nac'\n\t\t\t\treturn row.entity.ciudad_nac_nombre\n\n\t\t\tif( col.name == 'pazysalvo' or col.name == 'nuevo' )\n\t\t\t\tif input\n\t\t\t\t\treturn 'Si'\n\t\t\t\telse\n\t\t\t\t\treturn 'No'\n\t\t\telse if col.name == 'tipo_doc'\n\t\t\t\tif input\n\t\t\t\t\tif input.tipo\n\t\t\t\t\t\treturn input.tipo\n\t\t\t\t\telse\n\t\t\t\t\t\treturn input\n\t\t\t\telse\n\t\t\t\t\treturn input\n\t\t\telse\n\t\t\t\treturn input;\n\t\t,\n\t\tonRegisterApi: ( gridApi ) ->\n\t\t\t$scope.gridApi = gridApi\n\t\t\tgridApi.edit.on.afterCellEdit($scope, (rowEntity, colDef, newValue, oldValue)->\n\n\t\t\t\tif newValue != oldValue\n\n\t\t\t\t\tif not rowEntity.alumno_id\n\t\t\t\t\t\trowEntity.alumno_id = fila.id\n\n\n\t\t\t\t\tif colDef.field == \"sexo\"\n\t\t\t\t\t\tnewValue = newValue.toUpperCase()\n\t\t\t\t\t\tif !(newValue == 'M' or newValue == 'F')\n\t\t\t\t\t\t\ttoastr.warning 'Debe usar M o F'\n\t\t\t\t\t\t\trowEntity.sexo = oldValue\n\t\t\t\t\t\t\treturn\n\n\t\t\t\t\tif colDef.field == \"fecha_matricula\"\n\t\t\t\t\t\treturn $scope.cambiarFechaMatricula(rowEntity)\n\n\n\t\t\t\t\tif colDef.field == \"tipo_sangre\"\n\t\t\t\t\t\tnewValue = newValue.toUpperCase()\n\t\t\t\t\t\tif !($scope.tipos_sangre.indexOf(newValue) > -1)\n\t\t\t\t\t\t\ttoastr.warning 'Debe usar: ' + $scope.tipos_sangre.join(' ')\n\t\t\t\t\t\t\trowEntity.tipo_sangre = oldValue\n\t\t\t\t\t\t\treturn\n\n\n\t\t\t\t\tif colDef.field == \"estrato\"\n\t\t\t\t\t\tif newValue < 0 or newValue > 9\n\t\t\t\t\t\t\ttoastr.warning 'Valor no admitido'\n\t\t\t\t\t\t\trowEntity.estrato = oldValue\n\t\t\t\t\t\t\treturn\n\n\n\t\t\t\t\tif colDef.field == \"documento\"\n\t\t\t\t\t\tif newValue.length != 10 and newValue.length != 0\n\t\t\t\t\t\t\ttoastr.warning 'Debe ser de diez dígitos'\n\t\t\t\t\t\t\t#rowEntity.documento = oldValue\n\t\t\t\t\t\t\treturn\n\n\t\t\t\t\t$http.put('::alumnos/guardar-valor', {alumno_id: rowEntity.alumno_id, propiedad: colDef.field, valor: newValue } ).then((r)->\n\t\t\t\t\t\ttoastr.success 'Alumno(a) actualizado con éxito'\n\t\t\t\t\t, (r2)->\n\t\t\t\t\t\trowEntity[colDef.field] = oldValue\n\t\t\t\t\t\ttoastr.error 'Cambio no guardado', 'Error'\n\t\t\t\t\t)\n\t\t\t\t$scope.$apply()\n\t\t\t)\n\n\n\n\n\n\n\n\t### ---------------- ---------------- ---------------- ---------------- ----------------\n\tAlumnos del año pasado Grid\n\t---------------- ---------------- ---------------- ---------------- ---------------- ###\n\tbtMatr0 = '<label ng-click=\"grid.appScope.setPrematriculado(row.entity)\" uib-tooltip=\"Prematricular\" tooltip-append-to-body=\"true\" class=\"btn btn-success shiny btn-xs\">Prem</label>'\n\tbtMatr1 = '<label ng-click=\"grid.appScope.setNewAsistente(row.entity)\" uib-tooltip=\"Inscribir como asistente\" tooltip-append-to-body=\"true\" class=\"btn btn-success shiny btn-xs\">Asis</label>'\n\tbtMatr2 = '<label ng-click=\"grid.appScope.matricularUno(row.entity, true)\" uib-tooltip=\"Matricular\" tooltip-append-to-body=\"true\" tooltip-popup-delay=\"1000\" class=\"btn btn-success shiny btn-xs\">Matric</label>'\n\tbtMatr3 = '<label ng-click=\"grid.appScope.matricularEn(row.entity)\" uib-tooltip=\"Prematricular en...\" tooltip-append-to-body=\"true\" tooltip-placement=\"right\" class=\"btn btn-success shiny btn-xs\">Otro grupo...</label>'\n\tbtMatrCom \t= '<span style=\"padding-left: 2px; padding-top: 4px;\" class=\"btn-group\">' + btMatr0 + btMatr1 + btMatr2 + btMatr3 + '</span>'\n\n\n\t$scope.gridOptionsSinMatricula =\n\t\tshowGridFooter: true,\n\t\tenableSorting: true,\n\t\tenableFiltering: true,\n\t\tcolumnDefs: [\n\t\t\t{ field: 'no', cellTemplate: '<div class=\"ui-grid-cell-contents\">{{grid.renderContainers.body.visibleRowCache.indexOf(row) + 1}}</div>', width: 40 }\n\t\t\t{ field: 'nombres', minWidth: 120,\n\t\t\tfilter: {\n\t\t\t\tcondition: (searchTerm, cellValue, row)->\n\t\t\t\t\tentidad = row.entity\n\t\t\t\t\treturn (entidad.nombres.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1)\n\t\t\t}\n\t\t\tenableHiding: false, cellTemplate: '<div class=\"ui-grid-cell-contents\" style=\"padding: 0px;\" ' + appendPopover + '><img ng-src=\"{{grid.appScope.perfilPath + row.entity.foto_nombre}}\" style=\"width: 35px\" />{{row.entity.nombres}}</div>' }\n\t\t\t{ field: 'apellidos', minWidth: 80, filter: { condition: uiGridConstants.filter.CONTAINS }}\n\t\t\t{ field: 'sexo', displayName: 'Sex', width: 40 }\n\t\t\t{ field: 'grupo_id', displayName: 'Matrícula', cellTemplate: btMatrCom, minWidth: 230, enableFiltering: false }\n\t\t\t{ field: 'fecha_matricula', displayName: 'Fecha matrícula', cellFilter: \"date:mediumDate\", type: 'date', minWidth: 100 }\n\t\t\t{ field: 'no_matricula', displayName: '# matrícula', minWidth: 80, enableColumnMenu: true }\n\t\t\t{ field: 'fecha_nac', displayName:'Nacimiento', cellFilter: \"date:mediumDate\", type: 'date', minWidth: 100}\n\t\t],\n\t\tmultiSelect: true,\n\n\n\t$scope.tipoDocSeleccionado = ($item, row)->\n\t\tdatos = { propiedad: 'tipo_doc', valor: $item.id }\n\t\tperson = 'acudientes'\n\n\t\tif row.subGridOptions\n\t\t\tperson \t\t\t= 'alumnos'\n\t\t\tdatos.alumno_id = row.alumno_id\n\t\telse\n\t\t\tdatos.acudiente_id \t= row.acudiente_id\n\t\t\tdatos.parentesco_id = row.parentesco_id\n\t\t\tdatos.user_acud_id \t= row.user_id\n\n\t\t$http.put('::' + person + '/guardar-valor', datos ).then((r)->\n\t\t\ttoastr.success 'Alumno(a) actualizado con éxito', 'Actualizado'\n\t\t, (r2)->\n\t\t\trow.tipo_doc = oldValue\n\t\t\ttoastr.error 'Cambio no guardado', 'Error'\n\t\t)\n\n\n\t$scope.matricularUno = (row, recargar)->\n\t\tif not $scope.dato.grupo.id\n\t\t\ttoastr.warning 'Debes definir el grupo al que vas a matricular.', 'Falta grupo'\n\t\t\treturn\n\n\t\tdatos = { alumno_id: row.alumno_id, grupo_id: $scope.dato.grupo.id, year_id: $scope.dato.grupo.year_id }\n\n\t\t$http.post('::matriculas/matricularuno', datos).then((r)->\n\t\t\tr = r.data\n\t\t\trow.matricula_id \t\t\t= r.id\n\t\t\trow.grupo_id \t\t\t\t= r.grupo_id\n\t\t\trow.estado \t\t\t\t\t= 'MATR'\n\t\t\trow.fecha_matricula_ant \t= r.fecha_matricula.date\n\t\t\trow.fecha_matricula \t\t= new Date(r.fecha_matricula.date)\n\t\t\ttoastr.success 'Alumno matriculado con éxito', 'Matriculado'\n\t\t\tif recargar\n\t\t\t\t$scope.traerAlumnnosConGradosAnterior()\n\t\t\treturn row\n\t\t, (r2)->\n\t\t\ttoastr.error 'No se pudo matricular el alumno.', 'Error'\n\n\t\t)\n\n\t$scope.cambiaEpsCheck = (texto)->\n\t\t$scope.verificandoEps = true\n\t\treturn $http.put('::alumnos/eps-check', {texto: texto}).then((r)->\n\t\t\t$scope.eps_match \t\t= r.data.eps\n\t\t\t$scope.verificandoEps \t= false\n\t\t\treturn $scope.eps_match.map((item)->\n\t\t\t\treturn item.eps\n\t\t\t)\n\t\t)\n\n\n\t$scope.reMatricularUno = (row)->\n\n\t\tif not $scope.dato.grupo.id\n\t\t\ttoastr.warning 'Debes definir el grupo al que vas a matricular.', 'Falta grupo'\n\t\t\treturn\n\n\t\tdatos = { matricula_id: row.matricula_id }\n\n\t\t$http.put('::matriculas/re-matricularuno', datos).then((r)->\n\t\t\tr = r.data\n\t\t\ttoastr.success 'Alumno rematriculado', 'Matriculado'\n\t\t\treturn row\n\t\t, (r2)->\n\t\t\ttoastr.error 'No se pudo matricular el alumno.', 'Error'\n\n\t\t)\n\n\n\t$scope.matricularEn = (row)->\n\t\tmodalInstance = $modal.open({\n\t\t\ttemplateUrl: '==alumnos/matricularEn.tpl.html'\n\t\t\tcontroller: 'MatricularEnCtrl'\n\t\t\tresolve:\n\t\t\t\talumno: ()->\n\t\t\t\t\trow\n\t\t\t\tgrupos: ()->\n\t\t\t\t\t$scope.grupos\n\t\t\t\tUSER: ()->\n\t\t\t\t\t$scope.USER\n\t\t})\n\t\tmodalInstance.result.then( (alum)->\n\t\t\tconsole.log 'Cierra'\n\t\t\t$scope.traerAlumnnosConGradosAnterior()\n\t\t)\n\n\n\n\t$scope.setAsistente = (fila)->\n\n\t\t$http.put('::matriculas/set-asistente', {matricula_id: fila.matricula_id, grupo_id: $scope.dato.grupo.grupo_id}).then((r)->\n\t\t\ttoastr.success 'Guardado como asistente'\n\t\t, (r2)->\n\t\t\ttoastr.error 'No se pudo guardar como asistente', 'Error'\n\t\t)\n\n\n\t$scope.setPrematriculado = (fila)->\n\n\t\t$http.put('::matriculas/prematricular', {alumno_id: fila.alumno_id, grupo_id: $scope.dato.grupo.id}).then((r)->\n\t\t\tconsole.log 'Cambios guardados'\n\t\t\t$scope.traerAlumnnosConGradosAnterior()\n\t\t, (r2)->\n\t\t\ttoastr.error 'No se pudo crear asistente', 'Error'\n\t\t)\n\n\n\t$scope.setNewAsistente = (fila)->\n\n\t\t$http.put('::matriculas/set-new-asistente', {alumno_id: fila.alumno_id, grupo_id: $scope.dato.grupo.id}).then((r)->\n\t\t\tconsole.log 'Cambios guardados'\n\t\t\t$scope.traerAlumnnosConGradosAnterior()\n\t\t, (r2)->\n\t\t\ttoastr.error 'No se pudo crear asistente', 'Error'\n\t\t)\n\n\n\t$scope.cambiarFechaRetiro = (row)->\n\n\t\t$http.put('::matriculas/cambiar-fecha-retiro', { matricula_id: row.matricula_id, fecha_retiro: row.fecha_retiro }).then((r)->\n\t\t\ttoastr.success 'Fecha retiro guardada'\n\t\t, (r2)->\n\t\t\trow.fecha_retiro = row.fecha_retiro_ant\n\t\t\ttoastr.error 'No se pudo guardar la fecha', 'Error'\n\t\t)\n\n\n\t$scope.cambiarFechaMatricula = (row)->\n\n\t\t$http.put('::matriculas/cambiar-fecha-matricula', { matricula_id: row.matricula_id, fecha_matricula: row.fecha_matricula }).then((r)->\n\t\t\ttoastr.success 'Fecha matrícula guardada'\n\t\t, (r2)->\n\t\t\trow.fecha_matricula = row.fecha_matricula_ant\n\t\t\ttoastr.error 'No se pudo guardar la fecha', 'Error'\n\t\t)\n\n\n\n\n\n\t$scope.desertar = (row)->\n\t\tfecha = row.fecha_retiro\n\t\tif row.fecha_retiro_ant == null\n\t\t\tfecha \t\t\t\t= new Date()\n\t\t\trow.fecha_retiro \t= fecha\n\n\t\t$http.put('::matriculas/desertar', {matricula_id: row.matricula_id, fecha_retiro: row.fecha_retiro }).then((r)->\n\t\t\ttoastr.success 'Alumno desertado'\n\t\t, (r2)->\n\t\t\ttoastr.error 'No se pudo desertar', 'Problema'\n\t\t)\n\n\n\n\n\t$scope.retirar = (row)->\n\t\tfecha = row.fecha_retiro\n\t\tif row.fecha_retiro_ant == null\n\t\t\tfecha \t\t\t\t= new Date()\n\t\t\trow.fecha_retiro \t= fecha\n\n\t\t$http.put('::matriculas/retirar', {matricula_id: row.matricula_id, fecha_retiro: row.fecha_retiro }).then((r)->\n\t\t\ttoastr.success 'Alumno retirado'\n\t\t, (r2)->\n\t\t\ttoastr.error 'No se pudo desmatricular', 'Problema'\n\t\t)\n\n\n\n\t$scope.buscar_por = (campo)->\n\n\t\tif $scope.texto_a_buscar == \"\"\n\t\t\ttoastr.warning 'Escriba término a buscar'\n\t\t\treturn\n\n\t\t$http.put('::buscar/por-'+campo, {texto_a_buscar: $scope.texto_a_buscar }).then((r)->\n\t\t\t$scope.alumnos_encontrados = r.data\n\t\t, (r2)->\n\t\t\ttoastr.error 'No se pudo buscar', 'Problema'\n\t\t)\n\n\n\n\n\n\n\t$scope.exportarAlumnos = ()->\n\t\tDownloadServ.download('::simat/alumnos-exportar', 'Alumnos a importar '+$scope.USER.year+'.xls')\n\n\n\t$scope.importarSimat = (file, errFiles)->\n\t\t$scope.f = file;\n\t\t$scope.errFile = errFiles && errFiles[0];\n\t\tif (file)\n\t\t\tfile.upload = Upload.upload({\n\t\t\t\t\turl: App.Server + 'importar/algo/'+$scope.USER.year,\n\t\t\t\t\tdata: {file: file}\n\t\t\t});\n\n\t\t\tfile.upload.then( (response)->\n\t\t\t\t\t$timeout( ()->\n\t\t\t\t\t\t\tfile.result = response.data;\n\t\t\t\t\t);\n\t\t\t,  (response)->\n\t\t\t\t\tif (response.status > 0)\n\t\t\t\t\t\t\t$scope.errorMsg = response.status + ': ' + response.data;\n\t\t\t, (evt)->\n\t\t\t\t\tfile.progress = Math.min(100, parseInt(100.0 * evt.loaded / evt.total));\n\t\t\t);\n\n\n\n\n\t$scope.verObservacionesRequisitos = ()->\n\t\t$scope.viendo_requisitos = !$scope.viendo_requisitos\n\n\t\tif $scope.viendo_requisitos\n\t\t\t$http.put('::requisitos/listado-observaciones').then((r)->\n\t\t\t\t$scope.requisitos   \t\t\t\t\t\t\t= r.data.requisitos\n\t\t\t, ()->\n\t\t\t\ttoastr.error('Error trayendo observaciones de requisitos')\n\t\t\t)\n\t\telse\n\t\t\t$scope.viendo_observaciones_requisitos = false\n\n\n\t$scope.requisitoSeleccionado = (requisito)->\n\t\t$scope.viendo_observaciones_requisitos = true\n\t\t$scope.alumnos_observaciones = requisito.alumnos_observaciones\n\n\t$scope.guardarCambioRequisito = (alumno)->\n\t\t$http.post('::requisitos/alumno', alumno ).then((r)->\n\t\t\ttoastr.success 'Requisito actualizado'\n\t\t, (r2)->\n\t\t\ttoastr.error 'Cambio no guardado', 'Error'\n\t\t)\n\n\n\n\n\n\n\n\t$scope.$on 'alumnoguardado', (data, alum)->\n\t\t$scope.gridOptions.data.push alum\n\n\treturn\n])\n\n.controller('RemoveAlumnoCtrl', ['$scope', '$uibModalInstance', 'alumno', '$http', 'toastr', 'App', ($scope, $modalInstance, alumno, $http, toastr, App)->\n\t$scope.alumno \t\t= alumno\n\t$scope.perfilPath \t= App.images+'perfil/'\n\n\t$scope.ok = ()->\n\n\t\t$http.delete('::alumnos/destroy/'+alumno.alumno_id).then((r)->\n\t\t\ttoastr.success 'Alumno enviado a la papelera.', 'Eliminado'\n\t\t, (r2)->\n\t\t\ttoastr.warning 'No se pudo enviar a la papelera.', 'Problema'\n\t\t)\n\t\t$modalInstance.close(alumno)\n\n\t$scope.cancel = ()->\n\t\t$modalInstance.dismiss('cancel')\n\n])\n"
  ]
}