{
  "version": 3,
  "file": "EditAcudienteModalCtrl.js",
  "sourceRoot": "",
  "sources": [
    "EditAcudienteModalCtrl.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "'use strict'\n\nangular.module(\"myvcFrontApp\")\n\n\n.controller('EditAcudienteModalCtrl', ['$scope', 'App', '$uibModalInstance', 'acudiente', 'paises', 'tipos_doc', 'parentescos', '$http', 'toastr', '$filter', '$rootScope', ($scope, App, $modalInstance, acudiente, paises, tipos_doc, parentescos, $http, toastr, $filter, $rootScope)->\n\t$scope.acudiente \t\t\t\t= acudiente\n\t$scope.paises \t\t\t\t= paises\n\t$scope.parentescos \t\t\t= parentescos\n\t$scope.datos \t\t\t\t= {}\n\t$scope.tipos_doc \t\t\t= tipos_doc\n\t$scope.perfilPath \t\t\t= App.images+'perfil/'\n\n\n\n\n\t$scope.cancel = ()->\n\t\t$modalInstance.dismiss('cancel')\n\n\n\n\n\t$scope.paisNacSelect = ($item, $model)->\n\t\t$http.get(\"::ciudades/departamentos/\"+$item.id).then((r)->\n\t\t\t$scope.departamentosNac = r.data\n\t\t)\n\n\t$scope.departNacSelect = ($item)->\n\t\t$http.get(\"::ciudades/por-departamento/\"+$item.departamento).then((r)->\n\t\t\t$scope.ciudadesNac = r.data\n\n\t\t\tif typeof $scope.acudiente.departamento_doc is 'undefined'\n\t\t\t\t$scope.acudiente.departamento_doc = $item\n\t\t\t\t$scope.departSeleccionado($item)\n\t\t)\n\n\t$scope.paisSelecionado = ($item, $model)->\n\n\t\t$http.get(\"::ciudades/departamentos/\"+$item.id).then((r)->\n\t\t\t$scope.departamentos = r.data\n\n\t\t\tif typeof $scope.acudiente.pais_nac is 'undefined'\n\t\t\t\tfor un_pais in $scope.paises\n\t\t\t\t\tif un_pais.id == $item.id\n\t\t\t\t\t\t$scope.acudiente.pais_nac = un_pais\n\t\t\t\t\t\t$scope.paisNacSelect(un_pais)\n\t\t)\n\n\t$scope.departSeleccionado = ($item)->\n\t\t$http.get(\"::ciudades/por-departamento/\"+$item.departamento).then((r)->\n\t\t\t$scope.ciudades = r.data\n\t\t)\n\n\t$scope.dateOptions =\n\t\tformatYear: 'yy'\n\n\n\t$scope.restarEstrato = ()->\n\t\tif $scope.alumno.estrato > 0\n\t\t\t$scope.alumno.estrato = $scope.alumno.estrato - 1\n\t$scope.sumarEstrato = ()->\n\t\tif $scope.alumno.estrato < 10\n\t\t\t$scope.alumno.estrato = $scope.alumno.estrato + 1\n\n\n\t$scope.crearAcudiente = ()->\n\n\t\t$scope.acudiente.alumno_id = alumno.alumno_id\n\n\t\t$http.post('::acudientes/crear', $scope.acudiente ).then((r)->\n\t\t\ttoastr.success 'Acudiente creado con Ã©xito.'\n\t\t\t$modalInstance.close(r.data)\n\t\t, (r2)->\n\t\t\ttoastr.warning 'No se pudo crear al alumno.', 'Problema'\n\t\t)\n\n\n\t$scope.seleccionarAcudiente = ()->\n\t\tdatos = { acudiente_id: $scope.datos.acudiente.id, alumno_id: alumno.alumno_id, parentesco: $scope.acudiente.parentesco.parentesco, ocupacion: $scope.acudiente.ocupacion }\n\n\t\tif $rootScope.acudiente_cambiar\n\t\t\tdatos.parentesco_acudiente_cambiar_id = $rootScope.acudiente_cambiar.parentesco_id\n\n\t\t$http.put('::acudientes/seleccionar-parentesco', datos ).then((r)->\n\t\t\ttoastr.success 'Acudiente seleccionado.'\n\t\t\tdelete $rootScope.acudiente_cambiar\n\t\t\t$modalInstance.close(r.data)\n\t\t, (r2)->\n\t\t\ttoastr.warning 'No se pudo seleccionar.', 'Problema'\n\t\t)\n\n\n\t$scope.ocupacionCheck = (texto)->\n\t\t$scope.verificandoOcupacion = true\n\t\treturn $http.put('::acudientes/ocupaciones-check', {texto: texto}).then((r)->\n\t\t\t$scope.ocupaciones_match \t\t= r.data.ocupaciones\n\t\t\t$scope.verificandoOcupacion \t= false\n\t\t\treturn $scope.ocupaciones_match.map((item)->\n\t\t\t\treturn item.ocupacion\n\t\t\t)\n\t\t)\n\n\n\n\tif $scope.acudiente.tipo_doc == null\n\t\t$scope.acudiente.tipo_doc = $scope.tipos_doc[0]\n\telse\n\t\tfor tipo_d in $scope.tipos_doc\n\t\t\tif $scope.acudiente.tipo_doc == tipo_d.id\n\t\t\t\t$scope.acudiente.tipo_doc = tipo_d\n\n\n\tif $scope.acudiente.ciudad_nac == null\n\t\t$scope.acudiente.pais_nac = {id: 1, pais: 'COLOMBIA', abrev: 'CO'}\n\t\t$scope.paisNacSelect($scope.acudiente.pais_nac, $scope.acudiente.pais_nac)\n\telse\n\t\t$http.get('::ciudades/datosciudad/' + $scope.acudiente.ciudad_nac).then (r2)->\n\t\t\t$scope.paises             = r2.data.paises\n\t\t\t$scope.departamentosNac   = r2.data.departamentos\n\t\t\t$scope.ciudadesNac        = r2.data.ciudades\n\n\t\t\tfor pais in $scope.paises\n\t\t\t\tif pais.id == r2.data.pais.id\n\t\t\t\t\t$scope.acudiente.pais_nac = pais\n\n\t\t\tfor depart in $scope.departamentosNac\n\t\t\t\tif depart.departamento == r2.data.departamento.departamento\n\t\t\t\t\t$scope.acudiente.departamento_nac = depart\n\n\t\t\tfor ciudad in $scope.ciudadesNac\n\t\t\t\tif ciudad.id == r2.data.ciudad.id\n\t\t\t\t\t$scope.acudiente.ciudad_nac = ciudad\n\n\n\t\tif $scope.acudiente.ciudad_doc == null\n\t\t\t$scope.acudiente.pais_doc = {id: 1, pais: 'COLOMBIA', abrev: 'CO'}\n\t\t\t$scope.paisDocSelect($scope.acudiente.pais_doc, $scope.acudiente.pais_doc)\n\t\telse\n\t\t\t$http.get('::ciudades/datosciudad/' + $scope.acudiente.ciudad_doc).then (r2)->\n\t\t\t\tr2 = r2.data\n\t\t\t\t$scope.paises = r2.paises\n\t\t\t\t$scope.departamentos = r2.departamentos\n\t\t\t\t$scope.ciudades = r2.ciudades\n\t\t\t\t$scope.acudiente.pais_doc = r2.pais\n\t\t\t\t$scope.acudiente.departamento_doc = r2.departamento\n\t\t\t\t$scope.acudiente.ciudad_doc = r2.ciudad\n\n\n\n\n])\n"
  ]
}