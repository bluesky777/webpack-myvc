{
  "version": 3,
  "file": "AcudientesCtrl.js",
  "sourceRoot": "",
  "sources": [
    "AcudientesCtrl.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "'use strict'\n\nangular.module(\"myvcFrontApp\")\n\n.controller('AcudientesCtrl', ['$scope', 'App', '$state', '$interval', '$uibModal', '$filter', 'AuthService', 'toastr', '$http', 'uiGridConstants', 'DownloadServ', 'Acentos', ($scope, App, $state, $interval, $modal, $filter, AuthService, toastr, $http, uiGridConstants, DownloadServ, Acentos)->\n\n\t\tAuthService.verificar_acceso()\n\n\t\t$scope.dato = {}\n\t\t$scope.gridOptions = {}\n\t\t$scope.perfilPath \t\t\t\t= App.images+'perfil/'\n\t\t$scope.views \t\t\t\t\t= App.views\n\t\t$scope.gridScope = $scope # Para getExternalScopes de ui-Grid\n\n\n\t\t$scope.dato.grupo = ''\n\n\t\t$http.get('::grupos/con-paises-tipos').then((r)->\n\n\t\t\t\tacud_grupo = 0\n\n\t\t\t\tif localStorage.acud_grupo\n\t\t\t\t\t\tacud_grupo = parseInt(localStorage.acud_grupo)\n\n\t\t\t\t$scope.grupos \t\t= r.data.grupos\n\t\t\t\t$scope.paises \t\t= r.data.paises\n\t\t\t\t$scope.tipos_doc \t= r.data.tipos_doc\n\n\t\t\t\tfor grupo in $scope.grupos\n\t\t\t\t\t\tif parseInt(grupo.id) == parseInt(acud_grupo)\n\t\t\t\t\t\t\t\t$scope.dato.grupo = grupo\n\t\t\t\t\t\t\t\t$scope.selectGrupo($scope.dato.grupo)\n\n\t\t)\n\n\t\t$scope.selectGrupo = (grupo)->\n\t\t\t\tlocalStorage.acud_grupo = grupo.id\n\t\t\t\t$scope.dato.grupo \t\t= grupo\n\n\t\t\t\tfor grup in $scope.grupos\n\t\t\t\t\t\tgrup.active = false\n\n\t\t\t\tgrupo.active = true\n\n\t\t\t\t# Traer acudientes\n\t\t\t\tgrupos_ant = []\n\n\t\t\t\tfor grup in $scope.grupos\n\t\t\t\t\t\tif grup.orden_grado == (grupo.orden_grado - 1)\n\t\t\t\t\t\t\t\tgrupos_ant.push grup\n\n\n\t\t\t\t$scope.traerAcudientes = ()->\n\t\t\t\t\t\t$http.put(\"::acudientes/datos\", {grupo_actual: grupo}).then((r)->\n\t\t\t\t\t\t\t\t$scope.gridOptions.data \t            = r.data.acudientes\n\n\t\t\t\t\t\t\t\tfor pariente in $scope.gridOptions.data\n\t\t\t\t\t\t\t\t\t\tpariente.fecha_nac_ant \t= pariente.fecha_nac\n\t\t\t\t\t\t\t\t\t\tpariente.fecha_nac \t\t= if pariente.fecha_nac then new Date(pariente.fecha_nac.replace(/-/g, '\\/')) else pariente.fecha_nac\n\n\t\t\t\t\t\t\t\t\t\tpariente.subGridOptions.onRegisterApi = ( gridApi ) ->\n\t\t\t\t\t\t\t\t\t\t\t\tgridApi.edit.on.afterCellEdit($scope, (rowEntity, colDef, newValue, oldValue)->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoastr.warning 'Desde aquí solo podrás editar Acudientes', 'No guardado'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$scope.$apply()\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\n\n\t\t\t\t\t\t)\n\n\t\t\t\t$scope.traerAcudientes()\n\n\n\n\t\tbtGrid1 = '<a uib-tooltip=\"Editar\" tooltip-placement=\"left\" class=\"btn btn-default btn-xs shiny icon-only info\" ng-click=\"grid.appScope.editar(row.entity)\"><i class=\"fa fa-edit \"></i></a>'\n\t\tbtGrid2 = '<a uib-tooltip=\"X Eliminar\" tooltip-placement=\"right\" class=\"btn btn-default btn-xs shiny icon-only danger\" ng-click=\"grid.appScope.eliminar(row.entity)\"><i class=\"fa fa-trash \"></i></a>'\n\t\tbt2 \t= '<span style=\"padding-left: 2px; padding-top: 4px;\" class=\"btn-group\">' + btGrid1 + btGrid2 + '</span>'\n\t\tbtPazysalvo = \"==directives/botonesPazysalvo.tpl.html\"\n\t\tbtUsuario = \"==directives/botonesResetPassword.tpl.html\"\n\n\n\t\t$scope.gridOptions =\n\t\t\t\tshowGridFooter: true,\n\t\t\t\tenableSorting: true,\n\t\t\t\tenableFiltering: true,\n\t\t\t\tenebleGridColumnMenu: false,\n\t\t\t\tenableCellEdit: true,\n\t\t\t\tenableCellEditOnFocus: true,\n\t\t\t\texporterSuppressColumns: [ 'edicion' ],\n\t\t\t\texporterCsvColumnSeparator: ';',\n\t\t\t\texporterMenuPdf: false,\n\t\t\t\texporterMenuExcel: false,\n\t\t\t\texporterCsvFilename: \"Alumnos - MyVC.csv\",\n\t\t\t\tenableGridMenu: true,\n\t\t\t\texpandableRowTemplate: '==alumnos/expandableRowTemplate.tpl.html',\n\t\t\t\texpandableRowHeight: 110,\n\t\t\t\tcolumnDefs: [\n\t\t\t\t\t\t{ name: 'no', displayName:'No', width: 45, enableCellEdit: false, enableColumnMenu: false, cellTemplate: '<div class=\"ui-grid-cell-contents\">{{grid.renderContainers.body.visibleRowCache.indexOf(row)+1}}</div>'}\n\t\t\t\t\t\t{ field: 'id', width: 60, enableCellEdit: false }\n\t\t\t\t\t\t{ name: 'edicion', displayName:'Edición', width: 60, enableSorting: false, enableFiltering: false, cellTemplate: bt2, enableCellEdit: false, enableColumnMenu: true}\n\t\t\t\t\t\t{ field: 'foto_nombre', displayName:'Foto', cellTemplate: \"<img width=\\\"35px\\\" ng-src=\\\"{{grid.appScope.perfilPath + grid.getCellValue(row, col)}}\\\">\", width: 40}\n\t\t\t\t\t\t{ field: 'nombres', minWidth: 100,\n\t\t\t\t\t\tfilter: {\n\t\t\t\t\t\t\t\tcondition: Acentos.buscarEnGrid\n\t\t\t\t\t\t}\n\t\t\t\t\t\tenableHiding: false }\n\t\t\t\t\t\t{ field: 'apellidos', minWidth: 100, filter: { condition: Acentos.buscarEnGrid }}\n\t\t\t\t\t\t{ field: 'sexo', width: 60 }\n\t\t\t\t\t\t{ field: 'username', filter: { condition: Acentos.buscarEnGrid }, displayName: 'Usuario', cellTemplate: btUsuario, minWidth: 150 }\n\t\t\t\t\t\t{ field: 'documento', displayName: 'Documento', minWidth: 100, cellFilter: 'formatNumberDocumento' }\n\t\t\t\t\t\t{ field: 'direccion', displayName: 'Dirección', minWidth: 90 }\n\t\t\t\t\t\t{ field: 'barrio', minWidth: 80 }\n\t\t\t\t\t\t{ field: 'telefono', displayName: 'Teléfono', minWidth: 90 }\n\t\t\t\t\t\t{ field: 'celular', displayName: 'Celular', minWidth: 90 }\n\t\t\t\t\t\t{ field: 'ocupacion', displayName: 'Ocupación', minWidth: 90 }\n\t\t\t\t],\n\t\t\t\tmultiSelect: false,\n\t\t\t\tonRegisterApi: ( gridApi ) ->\n\t\t\t\t\t\t$scope.gridApi = gridApi\n\t\t\t\t\t\tgridApi.edit.on.afterCellEdit($scope, (rowEntity, colDef, newValue, oldValue)->\n\t\t\t\t\t\t\t\tif $scope.usuario_creado\n\t\t\t\t\t\t\t\t\t\t$scope.usuario_creado = false\n\t\t\t\t\t\t\t\t\t\treturn\n\n\t\t\t\t\t\t\t\tif newValue != oldValue\n\n\t\t\t\t\t\t\t\t\t\tif colDef.field == \"sexo\"\n\t\t\t\t\t\t\t\t\t\t\t\tif newValue == 'M' or newValue == 'F'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t# Es correcto...\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$http.put('::acudientes/guardar-valor', {acudiente_id: rowEntity.id, parentesco_id: rowEntity.parentesco_id, user_id: rowEntity.user_id, propiedad: colDef.field, valor: newValue }).then((r)->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoastr.success 'Acudiente actualizado con éxito', 'Actualizado'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t, (r2)->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoastr.error 'Cambio no guardado', 'Error'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoastr.warning 'Debe usar M o F'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trowEntity.sexo = oldValue\n\t\t\t\t\t\t\t\t\t\telse\n\n\t\t\t\t\t\t\t\t\t\t\t\t$http.put('::acudientes/guardar-valor', {acudiente_id: rowEntity.id, parentesco_id: rowEntity.parentesco_id, user_id: rowEntity.user_id, propiedad: colDef.field, valor: newValue }).then((r)->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoastr.success 'Acudiente actualizado con éxito', 'Actualizado'\n\t\t\t\t\t\t\t\t\t\t\t\t, (r2)->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoastr.error 'Cambio no guardado', 'Error'\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t\t$scope.$apply()\n\t\t\t\t\t\t)\n\n\n\n\n\n\n\n\t\t$scope.eliminar = (row)->\n\t\t\t\tmodalInstance = $modal.open({\n\t\t\t\t\t\ttemplateUrl: '==alumnos/removeAcudiente.tpl.html'\n\t\t\t\t\t\tcontroller: 'RemoveAcudienteCtrl'\n\t\t\t\t\t\tresolve:\n\t\t\t\t\t\t\t\tacudiente: ()->\n\t\t\t\t\t\t\t\t\t\trow\n\t\t\t\t})\n\t\t\t\tmodalInstance.result.then( (acu)->\n\t\t\t\t\t\t$scope.gridOptions.data = $filter('filter')($scope.gridOptions.data, {id: '!'+acu.id})\n\t\t\t\t, ()->\n\t\t\t\t\t\t# nada\n\t\t\t\t)\n\n\n\t\t$scope.editar = (row)->\n\t\t\t\tmodalInstance = $modal.open({\n\t\t\t\t\t\ttemplateUrl: '==alumnos/editAcudienteModal.tpl.html'\n\t\t\t\t\t\tcontroller: 'EditAcudienteModalCtrl'\n\t\t\t\t\t\tresolve:\n\t\t\t\t\t\t\t\tacudiente: ()->\n\t\t\t\t\t\t\t\t\t\trow\n\t\t\t\t\t\t\t\tpaises: ()->\n\t\t\t\t\t\t\t\t\t\t$scope.paises\n\t\t\t\t\t\t\t\ttipos_doc: ()->\n\t\t\t\t\t\t\t\t\t\t$scope.tipos_doc\n\t\t\t\t\t\t\t\tparentescos: ()->\n\t\t\t\t\t\t\t\t\t\t$scope.parentescos\n\t\t\t\t})\n\t\t\t\tmodalInstance.result.then( (acu)->\n\t\t\t\t\t\t$scope.gridOptions.data = $filter('filter')($scope.gridOptions.data, {id: '!'+acu.id})\n\t\t\t\t, ()->\n\t\t\t\t\t\t# nada\n\t\t\t\t)\n\n\n\t\t$scope.cambiarPazysalvo = (fila)->\n\t\t\tfila.pazysalvo = !fila.pazysalvo\n\t\t\tif not fila.alumno_id\n\t\t\t\tfila.alumno_id = fila.id\n\n\t\t\tdatos =\n\t\t\t\talumno_id: \tfila.alumno_id\n\t\t\t\tpropiedad: \t'pazysalvo'\n\t\t\t\tvalor: \t\tfila.pazysalvo\n\n\t\t\t$http.put('::alumnos/guardar-valor', datos).then((r)->\n\t\t\t\tconsole.log 'Cambios guardados'\n\t\t\t, (r2)->\n\t\t\t\tfila.pazysalvo = !fila.pazysalvo\n\t\t\t\ttoastr.error 'Cambio no guardado', 'Error'\n\t\t\t)\n\n\n\t\t$scope.resetPass = (row)->\n\n\t\t\t\tif !row.user_id\n\t\t\t\t\t\ttoastr.warning 'Aún no tiene usuario'\n\t\t\t\t\t\treturn\n\n\t\t\t\tmodalInstance = $modal.open({\n\t\t\t\t\t\ttemplateUrl: App.views + 'usuarios/resetPass.tpl.html'\n\t\t\t\t\t\tcontroller: 'ResetPassCtrl'\n\t\t\t\t\t\tresolve:\n\t\t\t\t\t\t\t\tusuario: ()->\n\t\t\t\t\t\t\t\t\t\trow\n\t\t\t\t})\n\t\t\t\tmodalInstance.result.then( (user)->\n\t\t\t\t\t\t#console.log 'Resultado del modal: ', user\n\t\t\t\t)\n\n\t\t$scope.traerNOAsignados = ()->\n\t\t\t\t$http.put('::acudientes/no-asignados').then((r)->\n\t\t\t\t\t\t$scope.gridOptions.data \t= r.data.acudientes\n\n\t\t\t\t\t\tfor pariente in $scope.gridOptions.data\n\t\t\t\t\t\t\t\tpariente.fecha_nac_ant \t= pariente.fecha_nac\n\t\t\t\t\t\t\t\tpariente.fecha_nac \t\t  = if pariente.fecha_nac then new Date(pariente.fecha_nac.replace(/-/g, '\\/')) else pariente.fecha_nac\n\n\t\t\t\t, ()->\n\t\t\t\t\t\ttoastr.error 'No se pudo traer los acudientes sin asignar'\n\t\t\t\t)\n\n\t\t$scope.crearUsuario = (row)->\n\n\t\t\t\tif row.user_id\n\t\t\t\t\t\ttoastr.warning 'Ya tiene usuario'\n\t\t\t\t\t\treturn\n\n\t\t\t\t$http.post('::acudientes/crear-usuario', {acudiente: row}).then((r)->\n\t\t\t\t\t\t$scope.usuario_creado = true\n\t\t\t\t\t\trow.user_id \t= r.data.id\n\t\t\t\t\t\trow.username \t= r.data.username\n\t\t\t\t\t\ttoastr.success 'Usuario creado'\n\n\t\t\t\t, ()->\n\t\t\t\t\t\ttoastr.error 'No se pudo crear el usuario'\n\t\t\t\t)\n\n\n\n\t\t$scope.exportarAcudientesPlanillas = ()->\n\t\t\tDownloadServ.download('::acudientes-export/acudientes', 'Asistencia acudientes Per ' + $scope.USER.numero_periodo + ' - ' +$scope.USER.year+'.xls')\n\n\n\n\t\t$scope.verPlanillas = ()->\n\t\t\t\t$state.go('panel.informes.planillas-ausencias-acudientes');\n\n\n\n\n\n\n\n\t\treturn\n])\n\n\n\n\n.controller('RemoveAcudienteCtrl', ['$scope', '$uibModalInstance', 'acudiente', '$http', 'toastr', 'App', ($scope, $modalInstance, acudiente, $http, toastr, App)->\n\t\t$scope.acudiente \t\t= acudiente\n\t\t$scope.perfilPath \t= App.images+'perfil/'\n\n\t\t$scope.ok = ()->\n\n\t\t\t\t$http.delete('::acudientes/destroy/'+acudiente.id).then((r)->\n\t\t\t\t\t\ttoastr.success 'Acudiente enviado a la papelera.', 'Eliminado'\n\t\t\t\t, (r2)->\n\t\t\t\t\t\ttoastr.warning 'No se pudo enviar a la papelera.', 'Problema'\n\t\t\t\t)\n\t\t\t\t$modalInstance.close(acudiente)\n\n\t\t$scope.cancel = ()->\n\t\t\t\t$modalInstance.dismiss('cancel')\n\n])\n\n"
  ]
}