{
  "version": 3,
  "file": "AlumnosCtrl.js",
  "sourceRoot": "",
  "sources": [
    "AlumnosCtrl.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "'use strict'\n\nangular.module(\"myvcFrontApp\")\n\n.controller('AlumnosCtrl', ['$scope', 'App', '$rootScope', '$state', '$interval', 'uiGridConstants', 'uiGridEditConstants', '$uibModal', '$filter', 'AuthService', 'toastr', '$http', 'DownloadServ', 'Upload', 'Acentos', '$timeout', ($scope, App, $rootScope, $state, $interval, uiGridConstants, uiGridEditConstants, $modal, $filter, AuthService, toastr, $http, DownloadServ, Upload, Acentos, $timeout)->\n\n  AuthService.verificar_acceso()\n\n  if AuthService.hasRoleOrPerm('Profesor') and !$scope.USER.profes_can_edit_alumnos\n    toastr.warning 'No tienes permiso para editar alumnos'\n    $state.transitionTo 'panel'\n\n  #$scope.$parent.bigLoader\t\t\t= true\n  $scope.dato \t\t\t\t\t\t= {}\n  $scope.dato.mostrartoolgrupo \t\t= true\n  $scope.gridScope \t\t\t\t\t= $scope # Para getExternalScopes de ui-Grid\n  $scope.views \t\t\t\t\t\t= App.views\n  $scope.perfilPath \t\t  \t      \t= App.images+'perfil/'\n  $scope.year_ant \t\t\t\t\t= $scope.USER.year - 1\n  $scope.gridOptions \t\t\t        = {}\n  $scope.gridOptionsSinMatricula \t\t= {}\n  $scope.paises \t\t\t\t\t\t= []\n  $scope.religiones\t\t\t\t\t= App.religiones\n  $scope.tipos_sangre \t\t\t\t= App.tipos_sangre\n  $scope.mostrar_pasado     = false\n  $scope.mostrar_retirados  = false\n  $scope.texto_a_buscar    = ''\n  $scope.hombresGrupo       = 0\n  $scope.mujeresGrupo       = 0\n\n  $scope.parentescos \t\t\t= App.parentescos\n\n\n\n  $scope.dato.grupo = ''\n  $http.get('::grupos/con-paises-tipos').then((r)->\n    matr_grupo = 0\n\n    if localStorage.matr_grupo\n      matr_grupo = parseInt(localStorage.matr_grupo)\n\n    $scope.grupos \t\t= r.data.grupos\n    $scope.paises \t\t= r.data.paises\n    $scope.tipos_doc \t= r.data.tipos_doc\n\n    for grupo in $scope.grupos\n      if parseInt(grupo.id) == parseInt(matr_grupo)\n        $scope.dato.grupo = grupo\n        $scope.selectGrupo($scope.dato.grupo)\n\n    #$scope.$parent.bigLoader \t= false\n  )\n\n\n  $scope.selectGrupo = (grupo)->\n    localStorage.matr_grupo = grupo.id\n    $scope.dato.grupo \t\t= grupo\n\n    for grup in $scope.grupos\n      grup.active = false\n\n    grupo.active = true\n\n    # Traer alumnos\n    grupos_ant = []\n\n    for grup in $scope.grupos\n      if grup.orden_grado == (grupo.orden_grado - 1)\n        grupos_ant.push grup\n\n\n    # Quería mandar los grupos anteriores, pero solo voy a mandar el grado_id\n    if grupos_ant.length > 0\n      grado_ant_id \t= grupos_ant[0].grado_id\n    else\n      grado_ant_id \t= null\n\n\n    $scope.traerAlumnnosConGradosAnterior = ()->\n      $http.put(\"::matriculas/alumnos-con-grado-anterior\", {grupo_actual: grupo, grado_ant_id: grado_ant_id, year_ant: $scope.year_ant}).then((r)->\n        $scope.gridOptions.data \t            = r.data.AlumnosActuales\n        $scope.AlumnosDesertRetir \t          = r.data.AlumnosDesertRetir\n        $scope.gridOptionsSinMatricula.data \t= r.data.AlumnosSinMatricula\n\n        for alumno in $scope.gridOptions.data\n          #console.log alumno.fecha_retiro, new Date(alumno.fecha_retiro.replace( /(\\d{2})-(\\d{2})-(\\d{4})/, \"$2/$1/$3\"))\n          alumno.estado_ant \t\t\t= alumno.estado\n          alumno.fecha_retiro_ant \t= alumno.fecha_retiro\n          alumno.fecha_retiro \t\t= if alumno.fecha_retiro then new Date(alumno.fecha_retiro.replace(/-/g, '\\/')) else alumno.fecha_retiro\n          alumno.fecha_matricula_ant \t= alumno.fecha_matricula\n          alumno.fecha_matricula \t\t= if alumno.fecha_matricula then new Date(alumno.fecha_matricula.replace(/-/g, '\\/')) else alumno.fecha_matricula\n          alumno.fecha_nac \t\t\t= if alumno.fecha_nac then new Date(alumno.fecha_nac.replace(/-/g, '\\/')) else alumno.fecha_nac\n\n          for tipo_doc in $scope.tipos_doc\n            if tipo_doc.id == alumno.tipo_doc\n              alumno.tipo_doc = tipo_doc\n\n          for pariente in alumno.subGridOptions.data\n            pariente.fecha_nac_ant \t= pariente.fecha_nac\n            pariente.fecha_nac \t\t= if pariente.fecha_nac then new Date(pariente.fecha_nac.replace(/-/g, '\\/')) else pariente.fecha_nac\n\n\n          alumno.subGridOptions.onRegisterApi = ( gridApi ) ->\n            gridApi.edit.on.afterCellEdit($scope, (rowEntity, colDef, newValue, oldValue)->\n              if newValue != oldValue\n                if colDef.field == \"sexo\"\n                  newValue = newValue.toUpperCase()\n                  if !(newValue == 'M' or newValue == 'F')\n                    toastr.warning 'Debe usar M o F'\n                    rowEntity.sexo = oldValue\n                    return\n\n                if colDef.field == 'email'\n                  re = /\\S+@\\S+\\.\\S+/\n                  if !re.test(newValue)\n                    toastr.warning 'Email no válido'\n                    rowEntity.email = oldValue\n                    return\n\n                $http.put('::acudientes/guardar-valor', {parentesco_id: rowEntity.parentesco_id, acudiente_id: rowEntity.id, user_id: rowEntity.user_id, propiedad: colDef.field, valor: newValue } ).then((r)->\n                  toastr.success 'Acudiente actualizado con éxito'\n                , (r2)->\n                  rowEntity[colDef.field] = oldValue\n                  toastr.error 'Cambio no guardado', 'Error'\n                )\n              $scope.$apply()\n            )\n\n\n        for alumno in $scope.AlumnosDesertRetir\n          #console.log alumno.fecha_retiro, new Date(alumno.fecha_retiro.replace( /(\\d{2})-(\\d{2})-(\\d{4})/, \"$2/$1/$3\"))\n          alumno.estado_ant \t\t\t= alumno.estado\n          alumno.fecha_retiro_ant \t= alumno.fecha_retiro\n          alumno.fecha_retiro \t\t= if alumno.fecha_retiro then new Date(alumno.fecha_retiro.replace(/-/g, '\\/')) else alumno.fecha_retiro\n          alumno.fecha_matricula_ant \t= alumno.fecha_matricula\n          alumno.fecha_matricula \t\t= if alumno.fecha_matricula then new Date(alumno.fecha_matricula.replace(/-/g, '\\/')) else alumno.fecha_matricula\n\n        for alumno in $scope.gridOptionsSinMatricula.data\n          #console.log alumno.fecha_retiro, new Date(alumno.fecha_retiro.replace( /(\\d{2})-(\\d{2})-(\\d{4})/, \"$2/$1/$3\"))\n          alumno.estado_ant \t\t\t= alumno.estado\n          alumno.fecha_retiro_ant \t= alumno.fecha_retiro\n          alumno.fecha_retiro \t\t= if alumno.fecha_retiro then new Date(alumno.fecha_retiro.replace(/-/g, '\\/')) else alumno.fecha_retiro\n          alumno.fecha_matricula_ant \t= alumno.fecha_matricula\n          alumno.fecha_matricula \t\t= if alumno.fecha_matricula then new Date(alumno.fecha_matricula.replace(/-/g, '\\/')) else alumno.fecha_matricula\n\n      )\n\n    $scope.traerAlumnnosConGradosAnterior()\n\n\n\n  $scope.cambiandoClave = false\n  $scope.cambiarVariasClaves = ()->\n    $scope.cambiandoClave = !$scope.cambiandoClave\n  \n  $scope.guardarClaves = ()->\n    if !$scope.dato.grupo.id > 0 \n      toastr.info \"Primero debes elegir el grupo\"\n\n    $http.put('::alumnos/cambiar-claves', { clave: $scope.clave_cambiar, grupo_id: $scope.dato.grupo.id }).then((r)->\n      toastr.success 'Claves cambiadas'\n    , (r2)->\n      toastr.error 'Hubo un problema cambiando las claves', 'Error'\n    )\n\n\n\n  $scope.guardarClavesTodosAlumnos = ()->\n    resp = confirm('¿Seguro que quiere cambiar la contraseña a TODOS los alumnos?')\n    if resp\n\n      $http.put('::cambiar-usuarios/poner-password-todos-alumnos', { clave: $scope.clave_cambiar }).then((r)->\n        toastr.success 'Claves cambiadas'\n      , (r2)->\n        toastr.error 'Hubo un problema cambiando las claves', 'Error'\n      )\n\n\n\n  $scope.guardarClavesTodosAcudientes = ()->\n    resp = confirm('¿Seguro que quiere cambiar la contraseña a TODOS los ACUDIENTES?')\n    if resp\n\n      $http.put('::cambiar-usuarios/poner-password-todos-acudientes', { clave: $scope.clave_cambiar }).then((r)->\n        toastr.success 'Claves cambiadas'\n      , (r2)->\n        toastr.error 'Hubo un problema cambiando las claves', 'Error'\n      )\n\n\n\n\n  $scope.PonerDocumentoComoUsernameAlumnos = ()->\n    resp = confirm('¿Seguro que quiere establecer documento de identidad como usuario a TODOS los alumnos?')\n    if resp\n\n      $http.put('::cambiar-usuarios/poner-documento-como-username-alumnos').then((r)->\n        toastr.success 'Usuarios de alumnos cambiados'\n      , (r2)->\n        toastr.error 'Hubo un problema cambiando los usuarios', 'Error'\n      )\n\n\n\n  $scope.PonerDocumentoComoUsernameAcudientes = ()->\n    resp = confirm('¿Seguro que quiere establecer documento de identidad como usuario a TODOS los ACUDIENTES?')\n    if resp\n\n      $http.put('::cambiar-usuarios/poner-documento-como-username-acudientes').then((r)->\n        toastr.success 'Usuarios de acudientes cambiados'\n      , (r2)->\n        toastr.error 'Hubo un problema cambiando los usuarios', 'Error'\n      )\n\n\n\n\n  $scope.editar = (row)->\n    #$state.go('panel.cartera.editar', {alumno_id: row.alumno_id})\n    $state.go('panel.persona', { persona_id: row.alumno_id, tipo: 'alumno' })\n\n\n\n  $scope.restaurar = (row)->\n    $scope.restaurando = true\n    $http.put('::alumnos/restore/' + row.alumno_id).then((r)->\n      toastr.success 'Alumno restaurado, para verlo, debe recargar la página'\n      $scope.restaurando = false\n      row.restaurado = true\n    , (r2)->\n      toastr.error 'Alumno no restaurado', 'Error'\n      $scope.restaurando = false\n    )\n\n\n\n\n  $scope.eliminar = (row)->\n    modalInstance = $modal.open({\n      templateUrl: '==alumnos/removeAlumno.tpl.html'\n      controller: 'RemoveAlumnoCtrl'\n      resolve:\n        alumno: ()->\n          row\n    })\n    modalInstance.result.then( (alum)->\n      $scope.gridOptions.data = $filter('filter')($scope.gridOptions.data, {alumno_id: '!'+alum.alumno_id})\n    , ()->\n      # nada\n    )\n\n  $scope.agregarAcudiente = (rowAlum)->\n    delete $rootScope.acudiente_cambiar\n\n    modalInstance = $modal.open({\n      templateUrl: '==alumnos/newAcudienteModal.tpl.html'\n      controller: 'NewAcudienteModalCtrl'\n      resolve:\n        alumno: ()->\n          rowAlum\n        paises: ()->\n          $scope.paises\n        tipos_doc: ()->\n          $scope.tipos_doc\n        parentescos: ()->\n          $scope.parentescos\n    })\n    modalInstance.result.then( (acud)->\n      rowAlum.subGridOptions.data.splice(rowAlum.subGridOptions.data.length-1, 0, acud)\n    , ()->\n      # nada\n    )\n\n\n  $scope.cambiarAcudiente = (rowAlum, acudiente)->\n    $rootScope.acudiente_cambiar = acudiente\n\n    modalInstance = $modal.open({\n      templateUrl: '==alumnos/newAcudienteModal.tpl.html'\n      controller: 'NewAcudienteModalCtrl'\n      resolve:\n        alumno: ()->\n          rowAlum\n        paises: ()->\n          $scope.paises\n        tipos_doc: ()->\n          $scope.tipos_doc\n        parentescos: ()->\n          $scope.parentescos\n    })\n    modalInstance.result.then( (acud)->\n      for pariente, indice in rowAlum.subGridOptions.data\n        if pariente\n          if pariente.id == acudiente.id\n            rowAlum.subGridOptions.data.splice(indice, 1, acud)\n    , ()->\n      # nada\n    )\n\n\n  $scope.quitarAcudiente = (rowAlum, acudiente)->\n\n    modalInstance = $modal.open({\n      templateUrl: '==alumnos/quitarAcudienteModalConfirm.tpl.html'\n      controller: 'QuitarAcudienteModalConfirmCtrl'\n      resolve:\n        alumno: ()->\n          rowAlum\n        acudiente: ()->\n          acudiente\n    })\n    modalInstance.result.then( (acud)->\n      console.log(rowAlum.subGridOptions.data, acud)\n      for pariente, indice in rowAlum.subGridOptions.data\n        if pariente\n          if pariente.id == acud.acudiente_id\n            rowAlum.subGridOptions.data.splice(indice, 1)\n    , ()->\n      # nada\n    )\n\n\n  $scope.cambiarPromovido = (row)->\n    modalInstance = $modal.open({\n      animation: false\n      templateUrl: '==alumnos/cambiarPromovido.tpl.html'\n      controller: 'CambiarPromovidoModalCtrl'\n      resolve:\n        persona: ()->\n          row\n    })\n    modalInstance.result.then( (alum)->\n      row = alum\n    )\n\n\n  $scope.cambiarCiudad = (row, tipo_ciudad)->\n    modalInstance = $modal.open({\n      templateUrl: '==alumnos/cambiarCiudadModal.tpl.html'\n      controller: 'CambiarCiudadModalCtrl'\n      resolve:\n        persona: ()->\n          row\n        paises: ()->\n          $scope.paises\n        tipo_ciudad: ()->\n          tipo_ciudad\n        tipo_persona: ()->\n          if row.subGridOptions\n            return 'alumno'\n          else\n            return 'acudiente'\n    })\n    modalInstance.result.then( (alum)->\n      row = alum\n    )\n\n\n\n  $scope.cambiarPazysalvo = (fila)->\n    fila.pazysalvo = !fila.pazysalvo\n    if not fila.alumno_id\n      fila.alumno_id = fila.id\n\n    datos =\n      alumno_id: \tfila.alumno_id\n      propiedad: \t'pazysalvo'\n      valor: \t\tfila.pazysalvo\n\n    $http.put('::alumnos/guardar-valor', datos).then((r)->\n      console.log 'Cambios guardados'\n    , (r2)->\n      fila.pazysalvo = !fila.pazysalvo\n      toastr.error 'Cambio no guardado', 'Error'\n    )\n\n\n\n  $scope.toggleNuevo = (fila)->\n    fila.nuevo = !fila.nuevo\n    if not fila.alumno_id\n      fila.alumno_id = fila.id\n\n    datos =\n      alumno_id: \tfila.alumno_id\n      propiedad: \t'nuevo'\n      valor: \t\tfila.nuevo\n\n    $http.put('::alumnos/guardar-valor', datos).then((r)->\n      console.log 'Cambios guardados'\n    , (r2)->\n      fila.nuevo = !fila.nuevo\n      toastr.error 'Cambio no guardado', 'Error'\n    )\n\n\n  $scope.toggleRepitente = (fila)->\n    fila.repitente = !fila.repitente\n    if not fila.alumno_id\n      fila.alumno_id = fila.id\n\n    datos =\n      alumno_id: \tfila.alumno_id\n      propiedad: \t'repitente'\n      valor: \t\tfila.repitente\n\n    $http.put('::alumnos/guardar-valor', datos).then((r)->\n      console.log 'Cambios guardados'\n    , (r2)->\n      fila.repitente = !fila.repitente\n      toastr.error 'Cambio no guardado', 'Error'\n    )\n\n\n\n  $scope.toggleEgresado = (fila)->\n    fila.egresado = !fila.egresado\n    if not fila.alumno_id\n      fila.alumno_id = fila.id\n\n    datos =\n      alumno_id: \tfila.alumno_id\n      propiedad: \t'egresado'\n      valor: \t\tfila.egresado\n\n    $http.put('::alumnos/guardar-valor', datos).then((r)->\n      console.log 'Cambios guardados'\n    , (r2)->\n      fila.egresado = !fila.egresado\n      toastr.error 'Cambio no guardado', 'Error'\n    )\n\n\n\n  $scope.toggleActive = (fila)->\n    fila.is_active = !fila.is_active\n    if not fila.alumno_id\n      fila.alumno_id = fila.id\n\n    datos =\n      alumno_id: \tfila.alumno_id\n      user_id: \tfila.user_id\n      propiedad: \t'is_active'\n      valor: \t\tfila.is_active\n\n    $http.put('::alumnos/guardar-valor', datos).then((r)->\n      console.log 'Cambios guardados'\n    , (r2)->\n      fila.is_active = !fila.is_active\n      toastr.error 'Cambio no guardado', 'Error'\n    )\n\n\n\n  $scope.toggleNEE = (fila)->\n    fila.nee = !fila.nee\n    if not fila.alumno_id\n      fila.alumno_id = fila.id\n\n    datos =\n      alumno_id: \tfila.alumno_id\n      user_id: \t  fila.user_id\n      propiedad: \t'nee'\n      valor: \t\t  fila.nee\n\n    $http.put('::alumnos/guardar-valor', datos).then((r)->\n      console.log 'Cambios guardados'\n    , (r2)->\n      fila.nee = !fila.nee\n      toastr.error 'Cambio no guardado', 'Error'\n    )\n\n\n\n  $scope.crearUsuario = (row)->\n\n    if row.user_id\n      toastr.warning 'Ya tiene usuario'\n      return\n\n    if row.tipo == 'Acudiente'\n\n      if !row.id\n        toastr.info 'Solo con acudientes creados'\n        return\n\n      $http.post('::acudientes/crear-usuario', {acudiente: row}).then((r)->\n        $scope.usuario_creado = true\n        row.user_id \t= r.data.id\n        row.username \t= r.data.username\n        toastr.success 'Usuario creado'\n\n      , ()->\n        toastr.error 'No se pudo crear el usuario'\n      )\n\n    if row.tipo != 'Acudiente'\n      toastr.info 'Aquí solo puede crear usuario de acudiente', 'Lo sentimos'\n\n\n  $scope.resetPass = (row)->\n\n    if !row.user_id\n      toastr.warning 'Aún no tiene usuario'\n      return\n\n    modalInstance = $modal.open({\n      templateUrl: App.views + 'usuarios/resetPass.tpl.html'\n      controller: 'ResetPassCtrl'\n      resolve:\n        usuario: ()->\n          row\n    })\n    modalInstance.result.then( (user)->\n      #console.log 'Resultado del modal: ', user\n    )\n\n\n  $scope.cambiaUsernameCheck = (texto)->\n    $scope.verificandoUsername = true\n    return $http.put('::users/usernames-check', {texto: texto}).then((r)->\n      $scope.username_match \t\t= r.data.usernames\n      $scope.verificandoUsername \t= false\n      return $scope.username_match.map((item)->\n        return item.username\n      )\n    )\n\n\n\n\n  $scope.asignarAOtro = (acudiente)->\n    modalInstance = $modal.open({\n      templateUrl: '==alumnos/asignarAcudienteAOtro.tpl.html'\n      controller: 'AsignarAcudienteAOtroModalCtrl'\n      resolve:\n        elemento: ()->\n          acudiente\n    })\n    modalInstance.result.then( (alum)->\n      toastr.success('Asignado.')\n    )\n\n\n\n\n\n  $scope.eliminarMatricula = (row)->\n\n    $http.delete('::matriculas/destroy/'+row.matricula_id).then((r)->\n      row.currentyear = 0\n      toastr.success 'Alumno desmatriculado'\n      return row\n    , (r2)->\n      toastr.error 'No se pudo desmatricular', 'Problema'\n    )\n\n  btGrid1         = '<a uib-tooltip=\"Editar\" tooltip-placement=\"left\" class=\"btn btn-default btn-xs shiny icon-only info\" ng-click=\"grid.appScope.editar(row.entity)\"><i class=\"fa fa-edit \"></i></a>'\n  #btGrid2 = ''\n  btGrid2         = '<a uib-tooltip=\"X Eliminar\" tooltip-placement=\"right\" class=\"btn btn-default btn-xs shiny icon-only danger\" ng-click=\"grid.appScope.eliminar(row.entity)\"><i class=\"fa fa-trash \"></i></a>'\n  bt2 \t          = '<span style=\"padding-left: 2px; padding-top: 4px;\" class=\"btn-group\">' + btGrid1 + btGrid2 + '</span>'\n  btMatricular    = \"==directives/botonesPrematricularMas.tpl.html\"\n  btEditReligion  = \"==alumnos/botonEditReligion.tpl.html\"\n  btPazysalvo     = \"==directives/botonPazysalvo.tpl.html\"\n  btIsNuevo       = \"==directives/botonIsNuevo.tpl.html\"\n  btIsRepitente   = \"==directives/botonIsRepitente.tpl.html\"\n  btIsEgresado    = \"==directives/botonIsEgresado.tpl.html\"\n  btPromovido     = \"==directives/botonPromovido.tpl.html\"\n  btIsActive      = \"==directives/botonIsActive.tpl.html\"\n  btNEE           = \"==directives/botonNEE.tpl.html\"\n  btUsuario       = \"==directives/botonesResetPassword.tpl.html\"\n  btCiudadNac     = \"==directives/botonCiudadNac.tpl.html\"\n  btCiudadDoc     = \"==directives/botonCiudadDoc.tpl.html\"\n  btCiudadResid   = \"==directives/botonCiudadResid.tpl.html\"\n  btTipoDoc       = \"==directives/botonTipoDoc.tpl.html\"\n  btEditUsername  = \"==alumnos/botonEditUsername.tpl.html\"\n  btEditEPS       = \"==alumnos/botonEditEps.tpl.html\"\n\n  appendPopover1 = \"'==alumnos/popoverAlumnoGrid.tpl.html'\"\n  appendPopover2 = \"'mouseenter'\"\n  append3 = \"' '\"\n  appendPopover = 'uib-popover-template=\"views+' + appendPopover1 + '\" popover-trigger=\"'+appendPopover2+'\" popover-title=\"{{ row.entity.nombres + ' + append3 + ' + row.entity.apellidos }}\" popover-popup-delay=\"500\" popover-append-to-body=\"true\"'\n  gridFooterCartera = \"==alumnos/gridFooterCartera.tpl.html\"\n\n\n  $scope.gridOptions =\n    showGridFooter: true,\n    showColumnFooter: true,\n    showFooter: true,\n    gridFooterTemplate: gridFooterCartera,\n    enableSorting: true,\n    enableFiltering: true,\n    exporterSuppressColumns: [ 'edicion' ],\n    exporterCsvColumnSeparator: ';',\n    exporterMenuPdf: false,\n    exporterMenuExcel: false,\n    exporterCsvFilename: \"Alumnos - MyVC.csv\",\n    enableGridMenu: true,\n    enebleGridColumnMenu: false,\n    enableCellEditOnFocus: true,\n    expandableRowTemplate: '==alumnos/expandableRowTemplate.tpl.html',\n    expandableRowHeight: 120,\n    #footerTemplate: '<div class=\"ui-grid-bottom-panel\" style=\"text-align: center\">Toma lo tuyo Footer</div>'\n    expandableRowScope:\n      agregarAcudiente: \t\t$scope.agregarAcudiente\n      quitarAcudiente: \t\t\t$scope.quitarAcudiente\n      cambiarAcudiente: \t\t$scope.cambiarAcudiente\n      asignarAOtro: \t\t\t\t$scope.asignarAOtro\n      crearUsuario: \t\t\t\t$scope.crearUsuario\n      resetPass: \t\t\t\t\t\t$scope.resetPass\n      cambiarCiudad: \t\t\t\t$scope.cambiarCiudad\n      cambiarPromovido: \t\t$scope.cambiarPromovido\n      cambiaUsernameCheck: \t$scope.cambiaUsernameCheck\n\n    columnDefs: [\n      { field: 'no', pinnedLeft:true, cellTemplate: '<div class=\"ui-grid-cell-contents\">{{grid.renderContainers.body.visibleRowCache.indexOf(row) + 1}}</div>', width: 40, enableCellEdit: false }\n      { field: 'nombres', minWidth: 130, pinnedLeft:true,\n      filter: {\n        condition: Acentos.buscarEnGrid\n      }\n      enableHiding: false, cellTemplate: '<div class=\"ui-grid-cell-contents\" style=\"padding: 0px;\" ' + appendPopover + '><img ng-src=\"{{grid.appScope.perfilPath + row.entity.foto_nombre}}\" style=\"width: 35px\" />{{row.entity.nombres}}</div>' }\n      { field: 'apellidos', minWidth: 110, filter: { condition: Acentos.buscarEnGrid }}\n      { name: 'edicion', displayName:'Edit', width: 54, enableSorting: false, enableFiltering: false, cellTemplate: bt2, enableCellEdit: false, enableColumnMenu: true}\n      { field: 'sexo', displayName: 'Sex', width: 40 }\n      { field: 'grupo_id', displayName: 'Matrícula', enableCellEdit: false, cellTemplate: btMatricular, minWidth: 270, enableFiltering: false }\n      { field: 'promovido', displayName: 'Promovido?', minWidth: 120, cellTemplate: btPromovido, enableCellEdit: false }\n      { field: 'fecha_matricula', displayName: 'Fecha matrícula', cellFilter: \"date:mediumDate\", type: 'date', minWidth: 100 }\n      { field: 'no_matricula', displayName: '# matrícula', minWidth: 80, enableColumnMenu: true }\n      { field: 'username', filter: { condition: Acentos.buscarEnGrid }, displayName: 'Usuario', cellTemplate: btUsuario, editableCellTemplate: btEditUsername, minWidth: 135 }\n      { field: 'deuda', displayName: 'Deuda', type: 'number', cellFilter: 'currency:\"$\":0', minWidth: 85, aggregationType: uiGridConstants.aggregationTypes.sum, aggregationHideLabel: true, footerCellTemplate: '<div class=\"ui-grid-cell-contents\" >{{col.getAggregationValue() | currency:\"$\":0 }}</div>' }\n      { field: 'pazysalvo', displayName: 'A paz?', cellTemplate: btPazysalvo, minWidth: 60, enableCellEdit: false }\n      { field: 'nuevo', displayName: 'Nuevo?', cellTemplate: btIsNuevo, minWidth: 60, enableCellEdit: false }\n      { field: 'repitente', displayName: 'Repitente?', cellTemplate: btIsRepitente, minWidth: 60, enableCellEdit: false }\n      { field: 'egresado', displayName: 'Egresado?', cellTemplate: btIsEgresado, minWidth: 60, enableCellEdit: false }      \n      { field: 'is_active', displayName: 'Activo?', cellTemplate: btIsActive, minWidth: 60, enableCellEdit: false }\n      { field: 'nee', displayName: 'NEE?', cellTemplate: btNEE, minWidth: 60, enableCellEdit: false }\n      { field: 'religion', displayName: 'Religión', minWidth: 70, editableCellTemplate: btEditReligion }\n      { field: 'tipo_doc', displayName: 'Tipo documento', minWidth: 120, cellTemplate: btTipoDoc, enableCellEdit: false }\n      { field: 'documento', minWidth: 100, cellFilter: 'formatNumberDocumento' }\n      { field: 'ciudad_doc', displayName: 'Ciud Docu', minWidth: 120, cellTemplate: btCiudadDoc, enableCellEdit: false }\n      #{ field: 'tipo_sangre', displayName: 'RH', minWidth: 70 }\n      { field: 'estrato', minWidth: 70, type: 'number' }\n      { field: 'fecha_nac', displayName:'Nacimiento', cellFilter: \"date:mediumDate\", type: 'date', minWidth: 100}\n      { field: 'edad', minWidth: 70, enableCellEdit: false }\n      #{ field: 'ciudad_nac', displayName: 'Ciud Nacimi', minWidth: 120, cellTemplate: btCiudadNac, enableCellEdit: false }\n      { field: 'direccion', displayName: 'Dirección', minWidth: 80 }\n      { field: 'barrio', minWidth: 80 }\n      #{ field: 'ciudad_resid', displayName: 'Ciud Resid', minWidth: 120, cellTemplate: btCiudadResid, enableCellEdit: false }\n      #{ field: 'telefono', displayName: 'Teléfono', minWidth: 80 }\n      { field: 'celular', displayName: 'Celular', minWidth: 80 }\n      #{ field: 'eps', displayName: 'EPS', minWidth: 100, editableCellTemplate: btEditEPS }\n    ],\n    multiSelect: false,\n    #filterOptions: $scope.filterOptions,\n    exporterHeaderFilter: ( displayName )->\n      if( displayName == 'A paz?' )\n        return 'Paz y salvo';\n      else if displayName == 'Matrícula'\n        return 'Grupo'\n      else\n        return displayName;\n    ,\n    exporterFieldCallback: ( grid, row, col, input )->\n      if col.name == 'no'\n        return grid.renderContainers.body.visibleRowCache.indexOf(row) + 1\n      if col.name == 'grupo_id'\n        return $scope.dato.grupo.nombre\n      if col.name == 'ciudad_nac'\n        return row.entity.ciudad_nac_nombre\n\n      if( col.name == 'pazysalvo' or col.name == 'nuevo' )\n        if input\n          return 'Si'\n        else\n          return 'No'\n      else if col.name == 'tipo_doc'\n        if input\n          if input.tipo\n            return input.tipo\n          else\n            return input\n        else\n          return input\n      else\n        return input;\n    ,\n    onRegisterApi: ( gridApi ) ->\n      $scope.gridApi = gridApi\n      gridApi.edit.on.afterCellEdit($scope, (rowEntity, colDef, newValue, oldValue)->\n\n        if newValue != oldValue\n\n          if not rowEntity.alumno_id\n            rowEntity.alumno_id = fila.id\n\n\n          if colDef.field == \"sexo\"\n            newValue = newValue.toUpperCase()\n            if !(newValue == 'M' or newValue == 'F')\n              toastr.warning 'Debe usar M o F'\n              rowEntity.sexo = oldValue\n              return\n\n          if colDef.field == \"fecha_matricula\"\n            return $scope.cambiarFechaMatricula(rowEntity)\n\n          if colDef.field == \"username\"\n            user_id_temp = rowEntity.user_id\n\n\n          if colDef.field == \"tipo_sangre\"\n            newValue = newValue.toUpperCase()\n            if !($scope.tipos_sangre.indexOf(newValue) > -1)\n              toastr.warning 'Debe usar: ' + $scope.tipos_sangre.join(' ')\n              rowEntity.tipo_sangre = oldValue\n              return\n\n\n          if colDef.field == \"estrato\"\n            if newValue < 0 or newValue > 9\n              toastr.warning 'Valor no admitido'\n              rowEntity.estrato = oldValue\n              return\n\n\n          if colDef.field == \"documento\"\n            if newValue.length != 10 and newValue.length != 0\n              toastr.warning 'Debe ser de diez dígitos'\n              #rowEntity.documento = oldValue\n              return\n\n          $http.put('::alumnos/guardar-valor', {alumno_id: rowEntity.alumno_id, propiedad: colDef.field, valor: newValue, user_id: user_id_temp } ).then((r)->\n            toastr.success 'Alumno(a) actualizado con éxito'\n          , (r2)->\n            rowEntity[colDef.field] = oldValue\n            toastr.error 'Cambio no guardado', 'Error'\n          )\n        if !(colDef.field == \"religion\")\n          $scope.$apply()\n      )\n\n\n\n\n\n  $scope.cantidadDeudores = ()->\n    sum = 0\n    hombres = 0\n    mujeres = 0\n\n    if $scope.gridOptions.data\n      for alumno in $scope.gridOptions.data\n        if !alumno.pazysalvo\n          sum = sum + 1\n        if alumno.sexo == 'M'\n          hombres++\n        else\n          mujeres++\n    $scope.hombresGrupo = hombres\n    $scope.mujeresGrupo = mujeres\n\n    return sum\n\n\n\n  ### ---------------- ---------------- ---------------- ---------------- ----------------\n  Alumnos del año pasado Grid\n  ---------------- ---------------- ---------------- ---------------- ---------------- ###\n  btMatr1 = '<label ng-click=\"grid.appScope.setNewAsistente(row.entity)\" uib-tooltip=\"Inscribir como asistente\" tooltip-append-to-body=\"true\" class=\"btn btn-success shiny btn-xs\">Asis</label>'\n  btMatr2 = '<label ng-click=\"grid.appScope.matricularUno(row.entity, true)\" uib-tooltip=\"Matricular\" tooltip-append-to-body=\"true\" tooltip-popup-delay=\"1000\" class=\"btn btn-success shiny btn-xs\">Matric</label>'\n  btMatr3 = '<label ng-click=\"grid.appScope.matricularEn(row.entity)\" uib-tooltip=\"Matricular en...\" tooltip-append-to-body=\"true\" tooltip-placement=\"right\" class=\"btn btn-success shiny btn-xs\">Otro grupo...</label>'\n  btMatrCom \t= '<span style=\"padding-left: 2px; padding-top: 4px;\" class=\"btn-group\">' + btMatr1 + btMatr2 + btMatr3 + '</span>'\n\n\n  $scope.gridOptionsSinMatricula =\n    showGridFooter: true,\n    enableSorting: true,\n    enableFiltering: true,\n    columnDefs: [\n      { field: 'no', cellTemplate: '<div class=\"ui-grid-cell-contents\">{{grid.renderContainers.body.visibleRowCache.indexOf(row) + 1}}</div>', width: 40 }\n      { field: 'nombres', minWidth: 120,\n      filter: {\n        condition: (searchTerm, cellValue, row)->\n          entidad = row.entity\n          return (entidad.nombres.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1)\n      }\n      enableHiding: false, cellTemplate: '<div class=\"ui-grid-cell-contents\" style=\"padding: 0px;\" ' + appendPopover + '><img ng-src=\"{{grid.appScope.perfilPath + row.entity.foto_nombre}}\" style=\"width: 35px\" />{{row.entity.nombres}}</div>' }\n      { field: 'apellidos', minWidth: 80, filter: { condition: uiGridConstants.filter.CONTAINS }}\n      { field: 'sexo', displayName: 'Sex', width: 40 }\n      { field: 'grupo_id', displayName: 'Matrícula', cellTemplate: btMatrCom, minWidth: 200, enableFiltering: false }\n      { field: 'fecha_matricula', displayName: 'Fecha matrícula', cellFilter: \"date:mediumDate\", type: 'date', minWidth: 100 }\n      { field: 'no_matricula', displayName: '# matrícula', minWidth: 80, enableColumnMenu: true }\n      #{ field: 'fecha_nac', displayName:'Nacimiento', cellFilter: \"date:mediumDate\", type: 'date', minWidth: 100}\n      { field: 'abrev_grupo', displayName:'Grupo '+($scope.USER.year-1), minWidth: 80}\n      { field: 'telefono', displayName: 'Teléfono', minWidth: 70 }\n    ],\n    multiSelect: true,\n\n\n  $scope.religionSelected = (row, evento)->\n    if $scope.religiones.indexOf(row.religion) > -1\n      $scope.$broadcast(uiGridEditConstants.events.END_CELL_EDIT);\n\n\n  $scope.religionEditPressEnter = (row)->\n    $scope.$broadcast(uiGridEditConstants.events.END_CELL_EDIT);\n\n\n  $scope.tipoDocSeleccionado = ($item, row)->\n    datos = { propiedad: 'tipo_doc', valor: $item.id }\n    person = 'acudientes'\n\n    if row.subGridOptions\n      person \t\t\t= 'alumnos'\n      datos.alumno_id = row.alumno_id\n    else\n      datos.acudiente_id \t= row.acudiente_id\n      datos.parentesco_id = row.parentesco_id\n      datos.user_acud_id \t= row.user_id\n\n    $http.put('::' + person + '/guardar-valor', datos ).then((r)->\n      toastr.success 'Alumno(a) actualizado con éxito', 'Actualizado'\n    , (r2)->\n      row.tipo_doc = oldValue\n      toastr.error 'Cambio no guardado', 'Error'\n    )\n\n\n  $scope.matricularUno = (row, recargar)->\n    if not $scope.dato.grupo.id\n      toastr.warning 'Debes definir el grupo al que vas a matricular.', 'Falta grupo'\n      return\n\n    datos = { alumno_id: row.alumno_id, grupo_id: $scope.dato.grupo.id, year_id: $scope.USER.year_id }\n\n    $http.post('::matriculas/matricularuno', datos).then((r)->\n      r = r.data\n      row.matricula_id \t\t\t= r.id\n      row.grupo_id \t\t\t\t= r.grupo_id\n      row.estado \t\t\t\t\t= 'MATR'\n      row.fecha_matricula_ant \t= r.fecha_matricula.date\n      row.fecha_matricula \t\t= new Date(r.fecha_matricula.date)\n      toastr.success 'Alumno matriculado con éxito', 'Matriculado'\n      if recargar\n        $scope.traerAlumnnosConGradosAnterior()\n      return row\n    , (r2)->\n      toastr.error 'No se pudo matricular el alumno.', 'Error'\n\n    )\n\n  $scope.cambiaEpsCheck = (texto)->\n    $scope.verificandoEps = true\n    return $http.put('::alumnos/eps-check', {texto: texto}).then((r)->\n      $scope.eps_match \t\t= r.data.eps\n      $scope.verificandoEps \t= false\n      return $scope.eps_match.map((item)->\n        return item.eps\n      )\n    )\n\n\n  $scope.reMatricularUno = (row)->\n\n    if not $scope.dato.grupo.id\n      toastr.warning 'Debes definir el grupo al que vas a matricular.', 'Falta grupo'\n      return\n\n    datos = { matricula_id: row.matricula_id }\n\n    $http.put('::matriculas/re-matricularuno', datos).then((r)->\n      r = r.data\n      toastr.success 'Alumno rematriculado.', 'Matriculado'\n      return row\n    , (r2)->\n      toastr.error 'No se pudo matricular el alumno.', 'Error'\n\n    )\n\n\n  $scope.matricularEn = (row)->\n    modalInstance = $modal.open({\n      templateUrl: '==alumnos/matricularEn.tpl.html'\n      controller: 'MatricularEnCtrl'\n      resolve:\n        alumno: ()->\n          row\n        grupos: ()->\n          $scope.grupos\n        USER: ()->\n          $scope.USER\n    })\n    modalInstance.result.then( (alum)->\n      console.log 'Cierra'\n      $scope.traerAlumnnosConGradosAnterior()\n    )\n\n\n\n  $scope.setAsistente = (fila)->\n\n    $http.put('::matriculas/set-asistente', {matricula_id: fila.matricula_id, grupo_id: $scope.dato.grupo.grupo_id}).then((r)->\n      toastr.success 'Guardado como asistente.'\n    , (r2)->\n      toastr.error 'No se pudo guardar como asistente', 'Error'\n    )\n\n\n  $scope.setPrematriculado = (fila)->\n\n    $http.put('::matriculas/prematricular', {alumno_id: fila.alumno_id, grupo_id: $scope.dato.grupo.id, anio_sig: 0}).then((r)->\n      toastr.success 'Guardado como Prematriculado.'\n      $scope.traerAlumnnosConGradosAnterior()\n    , (r2)->\n      toastr.error 'No se pudo crear asistente.', 'Error'\n    )\n\n\n  $scope.setPrematriculadoA = (fila)->\n\n    $http.put('::matriculas/prematricular', {alumno_id: fila.alumno_id, grupo_id: $scope.dato.grupo.id, anio_sig: 0, estado: 'PREA'}).then((r)->\n      toastr.success 'Prematriculado por acudiente en la plataforma.'\n      $scope.traerAlumnnosConGradosAnterior()\n    , (r2)->\n      toastr.error 'No se pudo crear asistente.', 'Error'\n    )\n\n\n  $scope.setNewAsistente = (fila)->\n\n    $http.put('::matriculas/set-new-asistente', {alumno_id: fila.alumno_id, grupo_id: $scope.dato.grupo.id}).then((r)->\n      console.log 'Cambios guardados'\n      $scope.traerAlumnnosConGradosAnterior()\n    , (r2)->\n      toastr.error 'No se pudo crear asistente', 'Error'\n    )\n\n\n  $scope.cambiarFechaRetiro = (row)->\n\n    $http.put('::matriculas/cambiar-fecha-retiro', { matricula_id: row.matricula_id, fecha_retiro: row.fecha_retiro }).then((r)->\n      toastr.success 'Fecha retiro guardada'\n    , (r2)->\n      row.fecha_retiro = row.fecha_retiro_ant\n      toastr.error 'No se pudo guardar la fecha', 'Error'\n    )\n\n\n  $scope.cambiarFechaMatricula = (row)->\n\n    $http.put('::matriculas/cambiar-fecha-matricula', { matricula_id: row.matricula_id, fecha_matricula: row.fecha_matricula }).then((r)->\n      toastr.success 'Fecha matrícula guardada'\n    , (r2)->\n      row.fecha_matricula = row.fecha_matricula_ant\n      toastr.error 'No se pudo guardar la fecha', 'Error'\n    )\n\n\n\n\n\n  $scope.desertar = (row)->\n    fecha = row.fecha_retiro\n    if row.fecha_retiro_ant == null\n      fecha \t\t\t\t= new Date()\n      row.fecha_retiro \t= fecha\n\n    $http.put('::matriculas/desertar', {matricula_id: row.matricula_id, fecha_retiro: row.fecha_retiro }).then((r)->\n      toastr.success 'Alumno desertado'\n    , (r2)->\n      toastr.error 'No se pudo desertar', 'Problema'\n    )\n\n\n\n\n  $scope.retirar = (row)->\n    fecha = row.fecha_retiro\n    if row.fecha_retiro_ant == null\n      fecha \t\t\t\t= new Date()\n      row.fecha_retiro \t= fecha\n\n    $http.put('::matriculas/retirar', {matricula_id: row.matricula_id, fecha_retiro: row.fecha_retiro }).then((r)->\n      toastr.success 'Alumno retirado'\n    , (r2)->\n      toastr.error 'No se pudo desmatricular', 'Problema'\n    )\n\n\n\n  $scope.buscar_por = (campo)->\n\n    if $scope.texto_a_buscar == \"\"\n      toastr.warning 'Escriba término a buscar'\n      return\n\n    $http.put('::buscar/por-'+campo, {texto_a_buscar: $scope.texto_a_buscar }).then((r)->\n      $scope.alumnos_encontrados = r.data\n    , (r2)->\n      toastr.error 'No se pudo buscar', 'Problema'\n    )\n\n\n\n\n\n\n  $scope.exportarAlumnos = ()->\n    DownloadServ.download('::simat/alumnos-exportar', 'Alumnos a importar '+$scope.USER.year+'.xls')\n\n\n  $scope.importarSimat = (file, errFiles)->\n    $scope.f = file;\n    $scope.errFile = errFiles && errFiles[0];\n    if (file)\n      file.upload = Upload.upload({\n          url: App.Server + 'importar/algo/'+$scope.USER.year,\n          data: {file: file}\n      });\n\n      file.upload.then( (response)->\n          $timeout( ()->\n              file.result = response.data;\n          );\n      ,  (response)->\n          if (response.status > 0)\n              $scope.errorMsg = response.status + ': ' + response.data;\n      , (evt)->\n          file.progress = Math.min(100, parseInt(100.0 * evt.loaded / evt.total));\n      );\n\n\n\n\n\n\n\n\n  $scope.$on 'alumnoguardado', (data, alum)->\n    $scope.gridOptions.data.push alum\n    $state.go('panel.alumnos')\n\n  return\n])\n\n.controller('RemoveAlumnoCtrl', ['$scope', '$uibModalInstance', 'alumno', '$http', 'toastr', 'App', ($scope, $modalInstance, alumno, $http, toastr, App)->\n  $scope.alumno \t\t= alumno\n  $scope.perfilPath \t= App.images+'perfil/'\n\n  $scope.ok = ()->\n\n    $http.delete('::alumnos/destroy/'+alumno.alumno_id).then((r)->\n      toastr.success 'Alumno enviado a la papelera.', 'Eliminado'\n    , (r2)->\n      toastr.warning 'No se pudo enviar a la papelera.', 'Problema'\n    )\n    $modalInstance.close(alumno)\n\n  $scope.cancel = ()->\n    $modalInstance.dismiss('cancel')\n\n])\n"
  ]
}