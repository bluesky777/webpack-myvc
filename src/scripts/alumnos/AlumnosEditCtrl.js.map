{
  "version": 3,
  "file": "AlumnosEditCtrl.js",
  "sourceRoot": "",
  "sources": [
    "AlumnosEditCtrl.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "'use strict'\n\nangular.module(\"myvcFrontApp\")\n\n.controller('AlumnosEditCtrl', ['$scope', '$state', '$http', 'toastr', ($scope, $state, $http, toastr)->\n\t$scope.data = {} # Para el popup del Datapicker\n\t\n\t$scope.alumno = {}\n\n\t$scope.sangres = [{sangre: 'O+'},{sangre: 'O-'}, {sangre: 'A+'}, {sangre: 'A-'}, {sangre: 'B+'}, {sangre: 'B-'}, {sangre: 'AB+'}, {sangre: 'AB-'}]\n\n\t$http.get('::alumnos/show/'+$state.params.alumno_id).then (r)->\n\t\t\n\t\t$scope.alumno \t\t\t\t= r.data\n\t\t$scope.alumno.username \t\t= r.data.user.username if r.data.user\n\t\t$scope.alumno.email2 \t\t= r.data.user.email if r.data.user\n\t\t$scope.alumno.ciudad_nac_id = r.data.ciudad_nac\n\t\t$scope.alumno.ciudad_doc_id = r.data.ciudad_doc\n\n\t\tif $scope.alumno.ciudad_nac == null\n\t\t\t$scope.alumno.pais_nac = {id: 1, pais: 'COLOMBIA', abrev: 'CO'}\n\t\t\t$scope.paisNacSelect($scope.alumno.pais_nac, $scope.alumno.pais_nac)\n\t\telse\n\t\t\t$http.get('::ciudades/datosciudad/'+$scope.alumno.ciudad_nac_id).then (r2)->\n\t\t\t\t$scope.paises \t\t\t\t= r2.data.paises\n\t\t\t\t$scope.departamentosNac \t= r2.departamentos\n\t\t\t\t$scope.ciudadesNac \t\t\t= r2.ciudades\n\t\t\t\t$scope.alumno.pais_nac \t\t= r2.pais\n\t\t\t\t$scope.alumno.departamento_nac = r2.departamento\n\t\t\t\t$scope.alumno.ciudad_nac \t= r2.ciudad\n\n\t\tif $scope.alumno.ciudad_doc > 0\n\t\t\t$http.get('::ciudades/datosciudad/'+$scope.alumno.ciudad_doc_id).then (r2)->\n\t\t\t\t$scope.paises \t\t\t\t= r2.data.paises\n\t\t\t\t$scope.departamentos \t\t= r2.departamentos\n\t\t\t\t$scope.ciudades \t\t\t= r2.ciudades\n\t\t\t\t$scope.alumno.pais_doc \t\t= r2.pais\n\t\t\t\t$scope.alumno.departamento_doc = r2.departamento\n\t\t\t\t$scope.alumno.ciudad_doc \t= r2.ciudad\n\n\n\t\n\n\t$http.get('::paises').then((r)->\n\t\t$scope.paises = r.data\n\t)\n\n\t$http.get('::tiposdocumento').then (r)->\n\t\t$scope.tipos_doc = r.data\n\t\n\t\n\t$scope.guardar = ()->\n\t\t$http.put('::alumnos/update/'+$scope.alumno.id, $scope.alumno).then((r)->\n\t\t\ttoastr.success 'Alumno actualizado correctamente'\n\t\t, (r2)->\n\t\t\ttoastr.error 'No se pudo guardar el alumno'\n\t\t)\n\n\n\t$scope.paisNacSelect = ($item, $model)->\n\t\t$http.get(\"::ciudades/departamentos/\"+$item.id).then((r)->\n\t\t\t$scope.departamentosNac = r.data\n\n\t\t\tif typeof $scope.alumno.pais_doc is 'undefined'\n\t\t\t\t$scope.alumno.pais_doc = $item\n\t\t\t\t$scope.paisSelecionado($item)\n\t\t)\n\n\t$scope.departNacSelect = ($item)->\n\t\t$http.get(\"::ciudades/por-departamento/\"+$item.departamento).then((r)->\n\t\t\t$scope.ciudadesNac = r.data\n\n\t\t\tif typeof $scope.alumno.departamento_doc is 'undefined'\n\t\t\t\t$scope.alumno.departamento_doc = $item\n\t\t\t\t$scope.departSeleccionado($item)\n\t\t)\n\n\t$scope.paisSelecionado = ($item, $model)->\n\t\t\n\t\t$http.get(\"::ciudades/departamentos/\"+$item.id).then((r)->\n\t\t\t$scope.departamentos = r.data\n\t\t)\n\n\t$scope.departSeleccionado = ($item)->\n\t\t$http.get(\"::ciudades/por-departamento/\"+$item.departamento).then((r)->\n\t\t\t$scope.ciudades = r.data\n\t\t)\n\n\t$scope.dateOptions = \n\t\tformatYear: 'yyyy'\n\n\n\t$scope.restarEstrato = ()->\n\t\tif $scope.alumno.estrato > 0\n\t\t\t$scope.alumno.estrato = $scope.alumno.estrato - 1\n\t$scope.sumarEstrato = ()->\n\t\tif $scope.alumno.estrato < 10\n\t\t\t$scope.alumno.estrato = parseInt($scope.alumno.estrato) + 1\n\n\treturn\n])\n"
  ]
}