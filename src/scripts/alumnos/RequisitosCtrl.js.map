{
  "version": 3,
  "file": "RequisitosCtrl.js",
  "sourceRoot": "",
  "sources": [
    "RequisitosCtrl.coffee"
  ],
  "names": [],
  "mappings": "AAAA;EAAA;EAEA,OAAO,CAAC,MAAR,CAAe,cAAf,CAEA,CAAC,UAFD,CAEY,gBAFZ,EAE8B;IAAC,QAAD;IAAW,KAAX;IAAkB,QAAlB;IAA4B,WAA5B;IAAyC,WAAzC;IAAsD,SAAtD;IAAiE,aAAjE;IAAgF,QAAhF;IAA0F,OAA1F;IAAmG,QAAA,CAAC,MAAD;IAAS,GAAT;IAAc,MAAd;IAAsB,SAAtB;IAAiC,MAAjC;IAAyC,OAAzC;IAAkD,WAAlD;IAA+D,MAA/D;IAAuE,KAAvE,CAAA;MAEhI,WAAW,CAAC,gBAAZ,CAAA;MACA,MAAM,CAAC,UAAP,GAA0B;MAC1B,MAAM,CAAC,aAAP,GAA0B;MAC1B,MAAM,CAAC,SAAP,GAA0B;MAC1B,MAAM,CAAC,SAAP,GAAuB;QACtB,SAAA,EAAW,EADW;QAEtB,WAAA,EAAa;MAFS;MAKvB,KAAK,CAAC,GAAN,CAAU,cAAV,CAAyB,CAAC,IAA1B,CAA+B,QAAA,CAAC,CAAD,CAAA;eAC9B,MAAM,CAAC,gBAAP,GAA0B,CAAC,CAAC;MADE,CAA/B;IAEE,QAAA,CAAC,EAAD,CAAA;eACD,MAAM,CAAC,KAAP,CAAa,iCAAb;MADC,CAFF;MAMA,MAAM,CAAC,eAAP,GAAyB,QAAA,CAAC,IAAD,CAAA;QACxB,MAAM,CAAC,aAAP,GAA4B;QAC5B,MAAM,CAAC,SAAS,CAAC,OAAjB,GAA4B,IAAI,CAAC;eACjC,MAAM,CAAC,SAAS,CAAC,IAAjB,GAA4B,IAAI,CAAC;MAHT;MAMzB,MAAM,CAAC,aAAP,GAAuB,QAAA,CAAA,CAAA;QACtB,MAAM,CAAC,SAAP,GAAmB;eAEnB,KAAK,CAAC,IAAN,CAAW,oBAAX;IAAiC,MAAM,CAAC,SAAxC,CAAkD,CAAC,IAAnD,CAAwD,QAAA,CAAC,CAAD,CAAA;AACvD,cAAA,CAAA;IAAA,GAAA;IAAA,GAAA;IAAA;AAAA;UAAA,KAAA,qCAAA;;YACC,OAAO,CAAC,GAAR,CAAY,KAAZ;IAAmB,KAAnB;IAA0B,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,OAA3C;YACA,IAAG,KAAK,CAAC,EAAN,KAAY,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,OAAhC;cACC,OAAO,CAAC,GAAR,CAAY,KAAZ;IAAmB,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,OAApC;cACA,KAAK,CAAC,UAAU,CAAC,IAAjB,CAAsB,CAAC,CAAC,IAAI,CAAC,SAA7B,EAFD;;UAFD;UAMA,MAAM,CAAC,aAAP,GAA0B;UAC1B,MAAM,CAAC,SAAP,GAA0B;iBAE1B,MAAM,CAAC,SAAP,GAAuB;YACtB,SAAA,EAAW,EADW;YAEtB,WAAA,EAAa;UAFS;QAVgC,CAAxD;IAeE,QAAA,CAAC,EAAD,CAAA;UACD,MAAM,CAAC,KAAP,CAAa,kBAAb;iBACA,MAAM,CAAC,SAAP,GAA0B;QAFzB,CAfF;MAHsB;MAyBvB,MAAM,CAAC,eAAP,GAAyB,QAAA,CAAC,QAAD,CAAA;QACxB,MAAM,CAAC,SAAP,GAAmB;eAEnB,KAAK,CAAC,GAAN,CAAU,qBAAV;IAAiC,QAAjC,CAA0C,CAAC,IAA3C,CAAgD,QAAA,CAAC,CAAD,CAAA;UAC/C,MAAM,CAAC,cAAP,GAA4B;iBAC5B,MAAM,CAAC,SAAP,GAA4B;QAFmB,CAAhD;IAIE,QAAA,CAAC,EAAD,CAAA;UACD,MAAM,CAAC,KAAP,CAAa,kBAAb;iBACA,MAAM,CAAC,SAAP,GAA0B;QAFzB,CAJF;MAHwB;MAczB,MAAM,CAAC,MAAP,GAAgB,QAAA,CAAC,SAAD;IAAY,IAAZ,CAAA;QACf,SAAS,CAAC,IAAV,GAA0B,IAAI,CAAC;QAC/B,SAAS,CAAC,OAAV,GAA0B,IAAI,CAAC;QAC/B,MAAM,CAAC,cAAP,GAA0B;eAC1B,MAAM,CAAC,QAAP,GAA0B;MAJX;MAShB,MAAM,CAAC,QAAP,GAAkB,QAAA,CAAC,GAAD,CAAA;AACjB,YAAA;QAAA,aAAA,GAAgB,MAAM,CAAC,IAAP,CAAY;UAC3B,WAAA,EAAa,oCADc;UAE3B,UAAA,EAAY,qBAFe;UAG3B,OAAA,EACC;YAAA,QAAA,EAAU,QAAA,CAAA,CAAA;qBACT;YADS;UAAV;QAJ0B,CAAZ;eAOhB,aAAa,CAAC,MAAM,CAAC,IAArB,CAA2B,QAAA,CAAC,IAAD,CAAA;AAC1B,cAAA,CAAA;IAAA,KAAA;IAAA,GAAA;IAAA,GAAA;IAAA,SAAA;IAAA;AAAA;AAAA;UAAA,KAAA,qDAAA;;YACC,IAAG,IAAI,CAAC,EAAL,KAAW,SAAS,CAAC,EAAxB;2BACC,MAAM,CAAC,UAAU,CAAC,MAAlB,CAAyB,KAAzB;IAAgC,CAAhC,GADD;aAAA,MAAA;mCAAA;;UADD,CAAA;;QAD0B,CAA3B;IAKE,QAAA,CAAA,CAAA,EAAA,CALF;MARiB;IAvE8G,CAAnG;;GAF9B,CA8FA,CAAC,UA9FD,CA8FY,qBA9FZ,EA8FmC;IAAC,QAAD;IAAW,mBAAX;IAAgC,UAAhC;IAA4C,OAA5C;IAAqD,QAArD;IAA+D,KAA/D;IAAsE,QAAA,CAAC,MAAD;IAAS,cAAT;IAAyB,QAAzB;IAAmC,KAAnC;IAA0C,MAA1C;IAAkD,GAAlD,CAAA;MACxG,MAAM,CAAC,QAAP,GAAoB;MACpB,MAAM,CAAC,UAAP,GAAqB,GAAG,CAAC,MAAJ,GAAW;MAEhC,MAAM,CAAC,EAAP,GAAY,QAAA,CAAA,CAAA;QAEX,KAAK,CAAC,MAAN,CAAa,uBAAA,GAAwB,QAAQ,CAAC,EAA9C,CAAiD,CAAC,IAAlD,CAAuD,QAAA,CAAC,CAAD,CAAA;iBACtD,MAAM,CAAC,OAAP,CAAe,qBAAf;IAAsC,WAAtC;QADsD,CAAvD;IAEE,QAAA,CAAC,EAAD,CAAA;iBACD,MAAM,CAAC,OAAP,CAAe,kCAAf;IAAmD,UAAnD;QADC,CAFF;eAKA,cAAc,CAAC,KAAf,CAAqB,QAArB;MAPW;aASZ,MAAM,CAAC,MAAP,GAAgB,QAAA,CAAA,CAAA;eACf,cAAc,CAAC,OAAf,CAAuB,QAAvB;MADe;IAbwF,CAAtE;GA9FnC;AAFA",
  "sourcesContent": [
    "'use strict'\n\nangular.module(\"myvcFrontApp\")\n\n.controller('RequisitosCtrl', ['$scope', 'App', '$state', '$interval', '$uibModal', '$filter', 'AuthService', 'toastr', '$http', ($scope, App, $state, $interval, $modal, $filter, AuthService, toastr, $http)->\n\n\tAuthService.verificar_acceso()\n\t$scope.requisitos       = []\n\t$scope.mostrar_crear    = false\n\t$scope.guardando        = false\n\t$scope.req_nuevo \t\t\t\t= {\n\t\trequisito: ''\n\t\tdescripcion: ''\n\t}\n\n\t$http.put('::requisitos').then((r)->\n\t\t$scope.years_requisitos = r.data\n\t, (r2)->\n\t\ttoastr.error 'No se pudo traer los requisitos'\n\t)\n\n\t$scope.crear_requisito = (year)->\n\t\t$scope.mostrar_crear      = true\n\t\t$scope.req_nuevo.year_id  = year.id\n\t\t$scope.req_nuevo.year     = year.year\n\n\n\t$scope.guardar_nuevo = ()->\n\t\t$scope.guardando = true\n\n\t\t$http.post('::requisitos/store', $scope.req_nuevo).then((r)->\n\t\t\tfor requi in $scope.years_requisitos\n\t\t\t\tconsole.log('oNO', requi, r.data.requisito.year_id)\n\t\t\t\tif requi.id == r.data.requisito.year_id\n\t\t\t\t\tconsole.log(requi, r.data.requisito.year_id)\n\t\t\t\t\trequi.requisitos.push(r.data.requisito)\n\n\t\t\t$scope.mostrar_crear    = false\n\t\t\t$scope.guardando        = false\n\n\t\t\t$scope.req_nuevo \t\t\t\t= {\n\t\t\t\trequisito: ''\n\t\t\t\tdescripcion: ''\n\t\t\t}\n\n\t\t, (r2)->\n\t\t\ttoastr.error 'No se pudo crear'\n\t\t\t$scope.guardando        = false\n\t\t)\n\n\n\n\t$scope.guardar_cambios = (req_edit)->\n\t\t$scope.guardando = true\n\n\t\t$http.put('::requisitos/update', req_edit).then((r)->\n\t\t\t$scope.mostrar_editar     = false\n\t\t\t$scope.guardando          = false\n\n\t\t, (r2)->\n\t\t\ttoastr.error 'No se pudo crear'\n\t\t\t$scope.guardando        = false\n\t\t)\n\n\n\n\t$scope.editar = (requisito, year)->\n\t\trequisito.year          = year.year\n\t\trequisito.year_id       = year.id\n\t\t$scope.mostrar_editar   = true\n\t\t$scope.req_edit         = requisito\n\n\n\n\n\t$scope.eliminar = (row)->\n\t\tmodalInstance = $modal.open({\n\t\t\ttemplateUrl: '==alumnos/removeRequisito.tpl.html'\n\t\t\tcontroller: 'RemoveRequisitoCtrl'\n\t\t\tresolve:\n\t\t\t\telemento: ()->\n\t\t\t\t\trow\n\t\t})\n\t\tmodalInstance.result.then( (elem)->\n\t\t\tfor requisito, index in $scope.requisitos\n\t\t\t\tif elem.id == requisito.id\n\t\t\t\t\t$scope.requisitos.splice(index, 1)\n\n\t\t, ()->\n\t\t\t# nada\n\t\t)\n\n\n\treturn\n])\n\n.controller('RemoveRequisitoCtrl', ['$scope', '$uibModalInstance', 'elemento', '$http', 'toastr', 'App', ($scope, $modalInstance, elemento, $http, toastr, App)->\n\t$scope.elemento \t\t= elemento\n\t$scope.perfilPath \t= App.images+'perfil/'\n\n\t$scope.ok = ()->\n\n\t\t$http.delete('::requisitos/destroy/'+elemento.id).then((r)->\n\t\t\ttoastr.success 'Requisito removido.', 'Eliminado'\n\t\t, (r2)->\n\t\t\ttoastr.warning 'No se pudo enviar a la papelera.', 'Problema'\n\t\t)\n\t\t$modalInstance.close(elemento)\n\n\t$scope.cancel = ()->\n\t\t$modalInstance.dismiss('cancel')\n\n])\n"
  ]
}