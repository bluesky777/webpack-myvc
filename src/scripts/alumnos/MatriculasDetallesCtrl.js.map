{
  "version": 3,
  "file": "MatriculasDetallesCtrl.js",
  "sourceRoot": "",
  "sources": [
    "MatriculasDetallesCtrl.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "'use strict'\n\nangular.module(\"myvcFrontApp\")\n\n.controller('MatriculasDetallesCtrl', ['$scope', 'App', '$state', '$uibModal', '$filter', 'AuthService', 'toastr', '$http', ($scope, App, $state, $modal, $filter, AuthService, toastr, $http)->\n\n\tAuthService.verificar_acceso()\n\n\t$scope.year_ant \t\t\t\t= $scope.USER.year - 1\n\t$scope.perfilPath \t\t\t\t= App.images+'perfil/'\n\t$scope.views \t\t\t\t\t= App.views\n\t$scope.matricula_detalle \t\t= false\n\t$scope.matric_cargando \t\t\t= false\n\n\n\t$scope.detallesAlumno = ()->\n\t\t$http.put('::detalles/alumno', { year_id: $scope.USER.year_id, alumno_id: parseInt($state.params.alumno_id) }).then((r)->\n\t\t\t$scope.matriculas = r.data\n\t\t)\n\t$scope.detallesAlumno()\n\n\n\t$scope.matricSeleccionada = (row)->\n\t\tfor matric in $scope.matriculas\n\t\t\tif matric.matricula_id == row.matricula_id\n\t\t\t\tmatric.seleccionada = true\n\t\t\telse\n\t\t\t\tmatric.seleccionada = false\n\n\n\t\tdatos = {\n\t\t\talumno_id: \t\trow.alumno_id,\n\t\t\tyear_id: \t\trow.year_id,\n\t\t\tmatricula_id: \trow.matricula_id\n\t\t}\n\n\t\t$scope.matric_cargando \t\t= true # Para que gire el spinner\n\t\t$scope.matricula_detalle \t= false\n\n\t\t$http.put('::detalles/grupos-periodos', datos).then((r)->\n\n\t\t\tr = r.data\n\t\t\t$scope.matricula_detalle \t= r\n\t\t\t$scope.matric_cargando \t\t= false\n\n\t\t\tfor matri in $scope.matricula_detalle\n\t\t\t\tmatri.year = row.year\n\n\n\t\t)\n\n\n\n\t$scope.eliminarMatric = (matricula_id)->\n\t\tres = false\n\t\tres = confirm('¿Está seguro que quiere eliminar la matricula ' + matricula_id + ' definitivamente?')\n\n\t\tif res\n\n\t\t\t$http.put('::detalles/eliminar-matricula-destroy', {matricula_id: matricula_id}).then((r)->\n\n\t\t\t\tif parseInt(r.data) == 0\n\t\t\t\t\ttoastr.warning 'No se eliminó matricula'\n\t\t\t\telse\n\t\t\t\t\ttoastr.success 'Matricula ' + matricula_id + ' eliminada.'\n\t\t\t\t\t$scope.matriculas = $filter('filter')($scope.matriculas, {matricula_id: '!'+matricula_id}, true)\n\t\t\t, (r2)->\n\t\t\t\ttoastr.error 'No se pudo eliminar la matricula ' + matricula_id, 'Error'\n\t\t\t)\n\n\n\n\n\n\treturn\n])\n\n"
  ]
}