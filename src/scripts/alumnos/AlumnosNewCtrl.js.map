{
  "version": 3,
  "file": "AlumnosNewCtrl.js",
  "sourceRoot": "",
  "sources": [
    "AlumnosNewCtrl.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "'use strict'\n\nangular.module(\"myvcFrontApp\")\n\n.controller('AlumnosNewCtrl', ['$scope', '$rootScope', 'toastr', '$http', '$filter', '$state', ($scope, $rootScope, toastr, $http, $filter, $state)->\n\t$scope.data       \t\t\t= {} # Para el popup del Datapicker\n\t$scope.$state     \t\t\t= $state;\n\t$scope.data.proceso    \t= 'matriculando'\n\n\t$scope.formatear_nuevo = ()->\n\t\t$scope.alumno =\n\t\t\t'no_matricula'\t: ''\n\t\t\t'nombres'\t\t: ''\n\t\t\t'apellidos'\t\t: ''\n\t\t\t'sexo'\t\t\t: 'M'\n\t\t\t'documento'\t\t: ''\n\t\t\t'password'\t\t: '1234567'\n\t\t\t'fecha_nac'\t\t: new Date('2000-06-26')\n\t\t\t'tipo_sangre'\t: {}\n\t\t\t'eps'\t\t\t: ''\n\t\t\t'telefono'\t\t: ''\n\t\t\t'celular'\t\t: ''\n\t\t\t'direccion'\t\t: ''\n\t\t\t'barrio'\t\t: ''\n\t\t\t'estrato'\t\t: 1\n\t\t\t'email'\t\t\t: '@gmail.com'\n\t\t\t'foto'\t\t\t: 'perfil/default_male.jpg'\n\t\t\t'pazysalvo'\t\t: true\n\t\t\t'deuda'\t\t\t: 0\n\t\t\t'nuevo'\t\t\t: 0\n\t\t\t'repitente'\t\t\t: 0\n\t\t\t'pais_nac'\t\t: {id: 1, pais: 'COLOMBIA', abrev: 'CO' }\n\n\t$scope.formatear_nuevo()\n\n\t$scope.sangres = [{sangre: 'O+'},{sangre: 'O-'}, {sangre: 'A+'}, {sangre: 'A-'}, {sangre: 'B+'}, {sangre: 'B-'}, {sangre: 'AB+'}, {sangre: 'AB-'}]\n\n\tif localStorage.mostrar_mas_new\n\t\t$scope.mostrar_mas_new = if localStorage.mostrar_mas_new == 'true' then true else false\n\n\t$http.get('::paises').then((r)->\n\t\tr = r.data\n\t\t$scope.paises = r\n\t\t$scope.pais_nac = r[0]\n\t\t$scope.paisNacSelect(r[0], $scope.pais_nac)\n\t, ()->\n\t\tconsole.log 'No se pudo traer los paises'\n\t)\n\n\t$http.get('::tiposdocumento').then (r)->\n\t\t$scope.tipos_doc = r.data\n\n\n\t$scope.persona_buscar \t\t= ''\n\t$scope.templateTypeahead  = '==alumnos/personaTemplateTypeahead.tpl.html'\n\t$scope.templateTypeDoc    = '==alumnos/documentoTemplateTypeahead.tpl.html'\n\n\t$scope.personaCheck = (texto)->\n\t\t$scope.verificandoPersona = true\n\t\treturn $http.put('::alumnos/personas-check', {texto: texto, todos_anios: $scope.dato.todos_anios }).then((r)->\n\t\t\t$scope.personas_match \t\t= r.data.personas\n\t\t\t$scope.personas_match.map((perso)->\n\t\t\t\tperso.perfilPath = $scope.perfilPath\n\t\t\t)\n\t\t\t$scope.verificandoPersona \t= false\n\t\t\treturn $scope.personas_match\n\t\t)\n\n\n\t$scope.documentoCheck = (texto)->\n\t\t$scope.verificandoDoc = true\n\t\treturn $http.put('::alumnos/documento-check', {texto: texto }).then((r)->\n\t\t\t$scope.personas_match \t\t= r.data.personas\n\t\t\t$scope.personas_match.map((perso)->\n\t\t\t\tperso.perfilPath = $scope.perfilPath\n\t\t\t)\n\t\t\t$scope.verificandoDoc \t= false\n\t\t\treturn $scope.personas_match\n\t\t)\n\n\n\t$scope.seleccionarPersona = ($item, $model, $label)->\n\t\ttoastr.info('Esta persona ya existe, búscala en Alumnos - Todos', 'No crear')\n\n\n\t$scope.mostarMasDetalleNew = ()->\n\t\t$scope.mostrar_mas_new = !$scope.mostrar_mas_new\n\t\tlocalStorage.mostrar_mas_new = $scope.mostrar_mas_new\n\n\n\tif $rootScope.grupos_siguientes\n\t\t$scope.grupos_siguientes    = $rootScope.grupos_siguientes\n\t\t$scope.data.proceso         = 'prematriculando'\n\telse\n\t\t$http.get('::grupos/next-year').then (r)->\n\t\t\t$scope.grupos_siguientes = r.data\n\t\t, ()->\n\t\t\tconsole.log 'No se pudo traer los grupos del siguiente año'\n\n\n\n\t$http.get('::grupos').then((r)->\n\t\t$scope.grupos = r.data\n\t, ()->\n\t\tconsole.log 'No se pudo traer los grupos'\n\t)\n\n\n\t$scope.crear = (alumno, proceso)->\n\n\t\talumno.nombres    = $.trim(alumno.nombres)\n\t\talumno.apellidos  = $.trim(alumno.apellidos)\n\t\talumno.documento  = $.trim(alumno.documento)\n\n\t\t$scope.guardando = true\n\n\t\tif !alumno.grupo and proceso=='matriculando'\n\t\t\t$scope.guardando = false\n\t\t\ttoastr.warning 'Debe seleccionar el grupo.'\n\t\t\treturn\n\n\t\tif !alumno.grupo_sig and proceso=='prematriculando'\n\t\t\t$scope.guardando = false\n\t\t\ttoastr.warning 'Debe seleccionar el grupo.'\n\t\t\treturn\n\n\t\tif alumno.nombres.length == 0\n\t\t\t$scope.guardando = false\n\t\t\ttoastr.warning 'Debe copiar el nombre.'\n\t\t\treturn\n\n\t\talumno.fecha_nac = $filter('date')(alumno.fecha_nac, 'yyyy-MM-dd')\n\n\t\tif proceso == 'prematriculando'\n\t\t\talumno.prematricula = true\n\t\t\talumno.grupo = alumno.grupo_sig\n\n\t\tif proceso == 'formulario'\n\t\t\talumno.llevo_formulario = true\n\t\t\talumno.grupo = alumno.grupo_sig\n\n\t\t$http.post('::alumnos/store', alumno).then((r)->\n\t\t\ttoastr.success 'Alumno '+r.data.nombres+' creado'\n\t\t\tif proceso == 'prematriculando'\n\t\t\t\t$state.go('panel.persona', {persona_id: r.data.id, tipo: 'alumno' })\n\n\t\t\t$scope.guardando = false\n\t\t\t$rootScope.grupos_siguientes = null\n\n\t\t\t$scope.formatear_nuevo()\n\n\t\t\t$scope.$emit 'alumnoguardado', r.data\n\t\t, (r2)->\n\t\t\t$scope.guardando = false\n\t\t\ttoastr.warning 'No se pudo guardar alumno', 'Problema'\n\t\t)\n\n\n\n\t$scope.paisNacSelect = ($item, $model)->\n\t\t$http.get(\"::ciudades/departamentos/\"+$item.id).then((r)->\n\t\t\t$scope.departamentosNac = r.data\n\n\t\t\tif typeof $scope.alumno.pais_doc is 'undefined'\n\t\t\t\t$scope.alumno.pais_doc = $item\n\t\t\t\t$scope.paisSelecionado($item)\n\t\t)\n\n\t$scope.departNacSelect = ($item)->\n\t\t$http.get(\"::ciudades/por-departamento/\"+$item.departamento).then((r)->\n\t\t\t$scope.ciudadesNac = r.data\n\n\t\t\tif typeof $scope.alumno.departamento_doc is 'undefined'\n\t\t\t\t$scope.alumno.departamento_doc = $item\n\t\t\t\t$scope.departSeleccionado($item)\n\t\t)\n\n\t$scope.paisSelecionado = ($item, $model)->\n\n\t\t$http.get(\"::ciudades/departamentos/\"+$item.id).then((r)->\n\t\t\t$scope.departamentos = r.data\n\t\t)\n\n\n\n\t$scope.cambiaUsernameCheck = (texto)->\n\t\t$scope.verificandoUsername = true\n\t\treturn $http.put('::users/usernames-check', {texto: texto}).then((r)->\n\t\t\t$scope.username_match \t\t= r.data.usernames\n\t\t\t$scope.verificandoUsername \t= false\n\t\t\treturn $scope.username_match.map((item)->\n\t\t\t\treturn item.username\n\t\t\t)\n\t\t)\n\n\n\t$scope.departSeleccionado = ($item)->\n\t\t$http.get(\"::ciudades/por-departamento/\"+$item.departamento).then((r)->\n\t\t\t$scope.ciudades = r.data\n\t\t)\n\n\t$scope.dateOptions =\n\t\tformatYear: 'yy'\n\n\n\t$scope.restarEstrato = ()->\n\t\tif $scope.alumno.estrato > 0\n\t\t\t$scope.alumno.estrato = $scope.alumno.estrato - 1\n\t$scope.sumarEstrato = ()->\n\t\tif $scope.alumno.estrato < 10\n\t\t\t$scope.alumno.estrato = $scope.alumno.estrato + 1\n\n\treturn\n])\n"
  ]
}