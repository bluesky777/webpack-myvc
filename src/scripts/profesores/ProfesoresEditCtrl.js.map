{
  "version": 3,
  "file": "ProfesoresEditCtrl.js",
  "sourceRoot": "",
  "sources": [
    "ProfesoresEditCtrl.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "'use strict'\n\nangular.module(\"myvcFrontApp\")\n\n.controller('ProfesoresEditCtrl', ['$scope', 'toastr', '$http', '$state', '$filter', ($scope, toastr, $http, $state, $filter)->\n\t$scope.data = {} # Para el popup del Datapicker\n\n\t$scope.profesor = {}\n\t$scope.paises = [{id:1, pais: 'COLOMBIA'}]\n\t$scope.tipos_doc = [{id:1, tipo: 'CC'}]\n\t$scope.departamentos = [{id:1, departamento: 'ANTIOQUIA'}]\n\t$scope.ciudades = [{id:1, ciudad: 'MEDELLÍN'}]\n\n\n\t$scope.sangres = [{sangre: 'O+'},{sangre: 'O-'}, {sangre: 'A+'}, {sangre: 'A-'}, {sangre: 'B+'}, {sangre: 'B-'}, {sangre: 'AB+'}, {sangre: 'AB-'}]\n\t$scope.estados_civiles = [{estado_civil: 'Soltero'},{estado_civil: 'Casado'}, {estado_civil: 'Divorciado'}, {estado_civil: 'Viudo'}]\n\n\n\n\t$http.get('::profesores/show/'+$state.params.profe_id).then (r)->\n\t\t$scope.profesor = r.data[0]\n\t\t$scope.profesor.fecha_nac = new Date($scope.profesor.fecha_nac)\n\t\t$scope.profesor.password  = ''\n\t\t$scope.profesor.password2 = ''\n\n\t\tif $scope.profesor.estado_civil\n\t\t\tfor estado in $scope.estados_civiles\n\t\t\t\tif estado.estado_civil == $scope.profesor.estado_civil\n\t\t\t\t\t$scope.profesor.estado_civil = estado\n\t\telse\n\t\t\t$scope.profesor.estado_civil = $scope.estados_civiles[0]\n\n\n\n\t\tif $scope.profesor.ciudad_nac == null\n\t\t\t$scope.profesor.pais_nac = {id: 1, pais: 'COLOMBIA', abrev: 'CO'}\n\t\t\t$scope.paisNacSelect($scope.profesor.pais_nac, $scope.profesor.pais_nac)\n\t\telse\n\t\t\t$http.get('::ciudades/datosciudad/' + $scope.profesor.ciudad_nac).then (r2)->\n\t\t\t\t$scope.paises             = r2.data.paises\n\t\t\t\t$scope.departamentosNac   = r2.data.departamentos\n\t\t\t\t$scope.ciudadesNac        = r2.data.ciudades\n\n\t\t\t\tfor pais in $scope.paises\n\t\t\t\t\tif pais.id == r2.data.pais.id\n\t\t\t\t\t\t$scope.profesor.pais_nac = pais\n\n\t\t\t\tfor depart in $scope.departamentosNac\n\t\t\t\t\tif depart.departamento == r2.data.departamento.departamento\n\t\t\t\t\t\t$scope.profesor.departamento_nac = depart\n\n\t\t\t\tfor ciudad in $scope.ciudadesNac\n\t\t\t\t\tif ciudad.id == r2.data.ciudad.id\n\t\t\t\t\t\t$scope.profesor.ciudad_nac = ciudad\n\n\n\t\tif $scope.profesor.ciudad_doc == null\n\t\t\t$scope.profesor.pais_doc = {id: 1, pais: 'COLOMBIA', abrev: 'CO'}\n\t\t\t$scope.paisDocSelect($scope.profesor.pais_doc, $scope.profesor.pais_doc)\n\t\telse\n\t\t\t$http.get('::ciudades/datosciudad/' + $scope.profesor.ciudad_doc).then (r2)->\n\t\t\t\tr2 = r2.data\n\t\t\t\t$scope.paises = r2.paises\n\t\t\t\t$scope.departamentos = r2.departamentos\n\t\t\t\t$scope.ciudades = r2.ciudades\n\t\t\t\t$scope.profesor.pais_doc = r2.pais\n\t\t\t\t$scope.profesor.departamento_doc = r2.departamento\n\t\t\t\t$scope.profesor.ciudad_doc = r2.ciudad\n\n\t\t$http.get('::tiposdocumento').then (r)->\n\t\t\t$scope.tipos_doc = r.data\n\n\t\t\tif $scope.profesor.tipo_doc == null\n\t\t\t\t$scope.profesor.tipo_doc = $scope.tipos_doc[0]\n\t\t\telse\n\t\t\t\tfor tipo_d in $scope.tipos_doc\n\t\t\t\t\tif $scope.profesor.tipo_doc == tipo_d.id\n\t\t\t\t\t\t$scope.profesor.tipo_doc = tipo_d\n\n\n\n\t$http.get('::paises').then((r)->\n\t\t$scope.paises = r.data\n\t, (r2)->\n\t\ttoastr.error 'No se pudo traer los paises'\n\t)\n\n\n\n\n\n\n\t$scope.guardar = ()->\n\n\t\tif $scope.profesor.password.length == 0\n\t\t\tif $scope.profesor.password.length > 0\n\t\t\t\ttoastr.warning 'Si lo quieres es cambiar la contraseña, debes copiarla 2 veces.'\n\t\t\t\treturn\n\t\telse\n\t\t\tif $scope.profesor.password.length < 3\n\t\t\t\ttoastr.warning 'La contraseña debe tener al menos 3 caracteres'\n\t\t\t\treturn\n\t\t\telse\n\t\t\t\tif $scope.profesor.password != $scope.profesor.password2\n\t\t\t\t\ttoastr.warning 'Las contraseñas deben ser iguales'\n\t\t\t\t\treturn\n\n\n\t\t$http.put('::profesores/update/'+$scope.profesor.profesor_id, $scope.profesor).then((r)->\n\t\t\ttoastr.success 'Profesor actualizado con éxito'\n\t\t, (r2)->\n\t\t\ttoastr.error 'No se guardaron los cambios', 'Problemas'\n\t\t)\n\n\n\n\n\t$scope.paisNacSelect = ($item, $model)->\n\t\t$http.get(\"::ciudades/departamentos/\"+$item.id).then((r)->\n\t\t\t$scope.departamentosNac = r.data\n\n\t\t\tif typeof $scope.profesor.pais_doc is 'undefined'\n\t\t\t\t$scope.profesor.pais_doc = $item\n\t\t\t\t$scope.paisDocSelect($item)\n\t\t)\n\n\t$scope.departNacSelect = ($item)->\n\t\t$http.get(\"::ciudades/por-departamento/\"+$item.departamento).then((r)->\n\t\t\t$scope.ciudadesNac = r.data\n\n\t\t\tif typeof $scope.profesor.departamento_doc is 'undefined'\n\t\t\t\t$scope.profesor.departamento_doc = $item\n\t\t\t\t$scope.departDocSelect($item)\n\t\t)\n\n\t$scope.paisDocSelect = ($item, $model)->\n\n\t\t$http.get(\"::ciudades/departamentos/\"+$item.id).then((r)->\n\t\t\t$scope.departamentos = r.data\n\t\t)\n\n\t$scope.departDocSelect = ($item)->\n\t\t$http.get(\"::ciudades/por-departamento/\"+$item.departamento).then((r)->\n\t\t\t$scope.ciudades = r.data\n\t\t)\n\n\t$scope.dateOptions =\n\t\tformatYear: 'yyyy'\n\n\n\treturn\n])\n"
  ]
}