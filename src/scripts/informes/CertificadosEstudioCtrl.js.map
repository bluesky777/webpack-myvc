{
  "version": 3,
  "file": "CertificadosEstudioCtrl.js",
  "sourceRoot": "",
  "sources": [
    "CertificadosEstudioCtrl.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "angular.module(\"myvcFrontApp\")\n\n.controller('CertificadosEstudioCtrl', ['$scope', '$state', 'alumnosDat', 'escalas', '$cookies', '$stateParams', '$http', 'toastr', ($scope, $state, alumnos, escalas, $cookies, $stateParams, $http, toastr)->\n\n\t$scope.grupo          = alumnos[0]\n\t$scope.year           = alumnos[1]\n\t$scope.alumnos        = alumnos[2]\n\t$scope.escalas_val    = alumnos[3]\n\t\n\n\t$scope.$stateParams \t= $stateParams\n\n\t$scope.escalas        = escalas\n\n\t$scope.config             = $cookies.getObject 'config'\n\t$scope.requested_alumnos  = $cookies.getObject 'requested_alumnos'\n\t$scope.requested_alumno   = $cookies.getObject 'requested_alumno'\n\n\n\t$scope.$on 'change_config', ()->\n\t\t$scope.config = $cookies.getObject 'config'\n\n\t$scope.cambia_contador_certificados = (contador, year_id, col)->\n\t\tconsole.log(contador, year_id)\n\t\t$http.put('::bolfinales/cambiar-'+col, {contador: contador, year_id: year_id} ).then((r)->\n\t\t\ttoastr.success 'Contador guardado'\n\t\t, (r2)->\n\t\t\ttoastr.error 'Cambio no guardado', 'Error'\n\t\t)\n\n\n\t$scope.espaciado = false\n\tif alumnos[2].length > 0\n\t\tif alumnos[2][0].asignaturas.length < 13\n\t\t\t$scope.espaciado = true\n\t\t\t\n\t\n\tfor alum in alumnos[2]\n\t\tfor area in alum.areas\n\t\t\tfor asign in area.asignaturas\n\t\t\t\tfor recupera in alum.recuperaciones\n\t\t\t\t\tif asign.asignatura_id == recupera.asignatura_id\n\t\t\t\t\t\tif $scope.year.show_subasignaturas_en_finales or $scope.year.cant_asignatura_pierde_year or area.asignaturas.length==1\n\t\t\t\t\t\t\trecupera.mostrar_en_certificado = true\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\n\n\n\tif $scope.requested_alumnos\n\t\t$scope.$emit 'cambia_descripcion', 'Mostrando ' + $scope.alumnos.length + ' boletines de ' + $scope.grupo.cantidad_alumnos + ' del grupo ' + $scope.grupo.nombre_grupo\n\telse if $scope.requested_alumno\n\t\t$scope.$emit 'cambia_descripcion', 'Mostrando un boletin de ' + $scope.grupo.cantidad_alumnos + ' del grupo ' + $scope.grupo.nombre_grupo\n\telse\n\t\t$scope.$emit 'cambia_descripcion', $scope.alumnos.length + ' boletines del grupo ' + $scope.grupo.nombre_grupo\n\n\n\t###\n\t\t$http.get('http://localhost/myvc_server/public/certificados-estudio/certificado-grupo/10', { responseType: 'arraybuffer' })\n\t\t\t.success((response)->\n\t\t\t\tfile = new Blob([response], { type: 'application/pdf' })\n\t\t\t\tfileURL = URL.createObjectURL(file);\n\t\t\t\t$scope.pdfContent = $sce.trustAsResourceUrl(fileURL);\n\t\t\t)\n\t\t\t.error((r2)->\n\t\t\t\tconsole.log 'Pailaaassss', r2\n\t\t\t);\n\n\n\t$http.get('certificados-estudio/certificado-grupo/10', {}, {responseType: 'blob', \"X-Auth-Token\": 'token'}).then((response)->\n\t\tconsole.log response\n\t\turl = (window.URL or window.webkitURL).createObjectURL(response);\n\t\twindow.open(url);\n\t);\n\t###\n\n])\n"
  ]
}