{
  "version": 3,
  "file": "BoletinesPeriodoCtrl.js",
  "sourceRoot": "",
  "sources": [
    "BoletinesPeriodoCtrl.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "angular.module(\"myvcFrontApp\")\n\n.controller('BoletinesPeriodoCtrl', ['$scope', 'alumnosDat', 'escalas', '$uibModal', '$cookies', '$state', 'AuthService', ($scope, alumnos, escalas, $modal, $cookies, $state, AuthService)->\n\n\t$scope.grupo    = alumnos[0]\n\t$scope.year     = alumnos[1]\n\t$scope.alumnos  = alumnos[2]\n\t$scope.hasRoleOrPerm = AuthService.hasRoleOrPerm\n\n\t$scope.escalas  = escalas\n\n\n\n\t# Para evitar que no calcule bien\n\tif $state.is('panel.boletin_acudiente')\n\t\tif parseInt($state.params.periodo_a_calcular) != $scope.USER.numero_periodo\n\t\t\t$state.go 'panel.boletin_acudiente', {periodo_a_calcular: $scope.USER.numero_periodo}, {reload: true}\n\n\t\t# Evitar el click derecho\n\t\t$('body').on('contextmenu', (ev)=> event.preventDefault())\n\n\n\tif $scope.year.mostrar_puesto_boletin and $scope.USER.tipo!='Acudiente' and $scope.USER.tipo!='Alumno'\n\t\tfor alumno in $scope.alumnos\n\t\t\talumno.texto_puesto = ' - Puesto: ' + alumno.puesto + '/' + $scope.grupo.cantidad_alumnos\n\n\n\t$scope.config = $cookies.getObject 'config'\n\t$scope.requested_alumnos = $cookies.getObject 'requested_alumnos'\n\t$scope.requested_alumno = $cookies.getObject 'requested_alumno'\n\n\n\n\n\tif $scope.config == undefined\n\t\t$scope.config = { mostrar_foto: true }\n\telse\n\t\tif $scope.config.mostrar_foto == undefined\n\t\t\t$scope.config.mostrar_foto = true\n\n\n\t# Cuadro el ancho que van a tener los gr√°ficos de los boletines\n\n\tif $scope.alumnos[0].asignaturas\n\n\t\tif $scope.alumnos[0].asignaturas.length < 14\n\t\t\t$scope.ancho_chart = 50 * $scope.alumnos[0].asignaturas.length\n\t\telse\n\t\t\t$scope.ancho_chart = 40 * $scope.alumnos[0].asignaturas.length\n\n\telse\n\t\tcant = 0\n\t\tfor area in $scope.alumnos[0].areas\n\t\t\tcant = cant + area.cant\n\n\t\tif cant < 14\n\t\t\t$scope.ancho_chart = 50 * cant\n\t\telse\n\t\t\t$scope.ancho_chart = 40 * cant\n\n\n\t#$scope.ancho_chart = 50 * $scope.alumnos[0].asignaturas.length\n\n\tif $scope.ancho_chart > 800\n\t\t$scope.ancho_chart = 800\n\n\n\t$scope.$on 'change_config', ()->\n\t\t$scope.config = $cookies.getObject 'config'\n\n\n\tif $scope.requested_alumnos\n\t\t$scope.$emit 'cambia_descripcion', 'Mostrando ' + $scope.alumnos.length + ' boletines de ' + $scope.grupo.cantidad_alumnos + ' del grupo ' + $scope.grupo.nombre_grupo\n\telse if $scope.requested_alumno\n\t\t$scope.$emit 'cambia_descripcion', 'Mostrando un boletin de ' + $scope.grupo.cantidad_alumnos + ' del grupo ' + $scope.grupo.nombre_grupo\n\telse\n\t\t$scope.$emit 'cambia_descripcion', $scope.alumnos.length + ' boletines del grupo ' + $scope.grupo.nombre_grupo\n\n\n\n])\n"
  ]
}