{
  "version": 3,
  "file": "InformesCtrl.js",
  "sourceRoot": "",
  "sources": [
    "InformesCtrl.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "angular.module('myvcFrontApp')\n.controller('InformesCtrl', ['$scope', '$http', '$state', '$uibModal', '$stateParams', '$filter', 'App', 'AuthService', 'ProfesoresServ', 'informes_datos', 'alumnos', '$timeout', '$cookies', 'toastr', '$interval', 'DownloadServ', 'Upload', ($scope, $http, $state, $modal, $stateParams, $filter, App, AuthService, ProfesoresServ, informes_datos, alumnos, $timeout, $cookies, toastr, $interval, DownloadServ, Upload) ->\n\n  AuthService.verificar_acceso()\n  $scope.rowsAlum = []\n  #alumnos \t\t= alumnos.data\n  $scope.$state \t      = $state\n  $scope.$stateParams \t= $stateParams\n  $scope.hasRoleOrPerm  = AuthService.hasRoleOrPerm\n  $scope.config \t= {\n    periodos_a_calcular: 1  # de_usuario, de_colegio, todos\n    mostrar_foto: true\n    show_firma_rector: true\n    show_rojos: true\n    show_porcentajes: true\n    show_tabla_perdidas: true\n    show_firma_titular: true\n    show_firma_secretario: true\n    show_cedulas: true\n    show_datos: true\n    periodo_a_calcular: $scope.USER.numero_periodo\n    generar_bol_final_prees: false\n  }\n\n  $scope.filtered_alumnos = alumnos\n  $scope.perfilPath \t\t= App.images + 'perfil/'\n  $scope.views \t\t\t= App.views\n  $scope.mostrar_faltante   = false\n\n  $scope.datos = { grupo: '' }\n\n\n\n  r = informes_datos\n  $scope.year_actual \t\t\t= r.year\n  $scope.grupos \t\t\t\t\t= r.grupos\n  $scope.profesores \t\t\t= r.profesores\n  $scope.imgs_public \t\t\t= r.imagenes\n  $scope.periodos_grupos \t= r.periodos_grupos\n\n  if r.periodos_desactualizados\n    $scope.periodos_desactualizados \t= r.periodos_desactualizados\n\n  # Grupo seleccionado\n  if $state.params.grupo_id\n    $tempParam \t\t\t\t      = parseInt($state.params.grupo_id)\n    $scope.datos.grupo \t\t  = $filter('filter')($scope.grupos, {id: $tempParam}, true)[0]\n    $scope.filtered_alumnos = $filter('orderBy')( $filter('filter')(alumnos, {grupo_id: $tempParam}, true) , 'apellidos')\n\n\n  # Profesor seleccionado\n  if $state.params.profesor_id\n    $tempParam \t\t\t\t= parseInt($state.params.profesor_id)\n    $scope.datos.profesor \t= $filter('filter')($scope.profesores, {profesor_id: $tempParam}, true)[0]\n\n\n\n  if localStorage.tipo_boletin\n    $scope.tipo_boletin \t\t\t\t= localStorage.tipo_boletin\n\n  if localStorage.tipo_boletin_final\n    $scope.tipo_boletin_final \t= localStorage.tipo_boletin_final\n    if $scope.USER.tipo == 'Profesor'\n      $scope.tipo_boletin_final \t= 1\n\n  $scope.eligirTipo = (n)->\n    localStorage.tipo_boletin \t= n\n    $scope.tipo_boletin \t\t\t\t= n\n\n\n\n  $scope.calcularPromovido = ()->\n    modalInstance = $modal.open({\n      templateUrl: '==informes2/calcularPromovidosModal.tpl.html'\n      controller: 'CalcularPromovidosModalCtrl'\n      resolve:\n        USER: ()->\n          $scope.USER\n        grupos: ()->\n          $scope.grupos\n    })\n    modalInstance.result.then( (alum)->\n      # nada\n    , ()->\n      # nada\n    )\n\n\n\n  $scope.eligirTipoFinal = (n)->\n    localStorage.tipo_boletin_final \t= n\n    $scope.tipo_boletin_final \t\t\t\t= n\n\n\n  $scope.range = (n)->\n    return new Array(n);\n\n\n  if $cookies.getObject 'config'\n    $scope.config = $cookies.getObject 'config'\n    #console.log '$scope.config', $scope.config\n  else\n    $scope.config.orientacion   = 'vertical'\n    $scope.config.cant_imagenes = 7\n\n\n  if $cookies.getObject 'requested_alumnos'\n    requ = $cookies.getObject 'requested_alumnos'\n\n    if requ.length > 0\n\n      founds = []\n      angular.forEach requ, (value, key) ->\n        found = $filter('filter')(alumnos, {alumno_id: value.alumno_id}, true)[0]\n        founds.push found\n\n      $scope.datos.selected_alumnos = founds\n      #console.log 'Mas de uno: ', $scope.datos.selected_alumnos\n    else\n      $scope.datos.selected_alumno = requ[0]\n\n\n  if $cookies.getObject 'requested_alumno'\n    requ = $cookies.getObject 'requested_alumno'\n\n    found = $filter('filter')(alumnos, {alumno_id: requ[0].alumno_id}, true)[0]\n    $scope.datos.selected_alumno = found\n\n  $scope.$watch 'config', (newVal, oldVal)->\n    #console.log 'oldVal, newVal', oldVal, newVal\n    $cookies.putObject 'config', newVal\n\n    $scope.$broadcast 'change_config'\n\n  , true\n\n  $scope.selectTab = (tab)->\n    $scope.config.informe_tab_actual = tab\n    $cookies.putObject 'config', $scope.config\n\n\n\n\n  $scope.putConfigCookie = ()->\n    $cookies.putObject 'config', $scope.config\n\n\n\n\n  $scope.calcularGrupoPeriodo = (grupo, periodo)->\n\n    grupo.desabilitado = true\n    $http.put('::definitivas_periodos/calcular-grupo-periodo', {grupo_id: grupo.grupo_id, periodo_id: periodo.id, num_periodo: periodo.numero}).then((r)->\n      toastr.success grupo.nombre + ' calculado con éxito'\n      #grupo.desabilitado = false\n    , (r2)->\n      grupo.desabilitado = false\n      toastr.error 'No se pudo calcular las definitivas del grupo ' + grupo.nombre + ', Per ' + periodo.numero\n    )\n\n\n\n\n  $scope.calcularPeriodo = (periodo)->\n\n    $scope.porcentaje   = 0\n    periodo.bloqueado   = true\n\n    $scope.grupo_temp_calculado = true\n    $scope.grupo_temp_indce     = 0\n\n    $scope.intervalo = $interval(()->\n\n      if $scope.grupo_temp_calculado\n\n        $scope.grupo_temp_calculado = false\n        grupo \t\t\t\t\t\t\t= periodo.grupos[$scope.grupo_temp_indce]\n        $scope.porcentaje \t= parseInt(($scope.grupo_temp_indce+1) * 100 / periodo.grupos.length)\n\n        $http.put('::definitivas_periodos/calcular-grupo-periodo', {grupo_id: grupo.grupo_id, periodo_id: periodo.id, num_periodo: periodo.numero}).then((r)->\n          toastr.success grupo.nombre + ' calculado con éxito'\n          $scope.grupo_temp_calculado = true\n          $scope.grupo_temp_indce     = $scope.grupo_temp_indce + 1\n          if $scope.grupo_temp_indce == periodo.grupos.length\n            $interval.cancel($scope.intervalo)\n\n        , (r2)->\n          $scope.grupo_temp_calculado = true\n          toastr.warning 'No se pudo calcular ' + grupo.nombre + ', Per ' + periodo.numero + '. Intentaremos de nuevo.'\n        )\n\n    , 20)\n\n\n\n  $scope.verBoletinesGrupo = (tipo)->\n\n    if $scope.config.generar_bol_final_prees\n      $scope.config.orientacion = 'vertical'\n      $state.go 'panel.informes.boletines_finales_preescolar', {grupo_id: $scope.datos.grupo.id}, {reload: true}\n      return\n\n    if $scope.periodos_desactualizados\n      found = false\n      grupo = {}\n\n      for perDesact in $scope.periodos_desactualizados\n\n        if $scope.USER.numero_periodo == perDesact.numero\n          for grup in perDesact.grupos\n\n            if grup.grupo_id == $scope.datos.grupo.id\n              found = true\n              grupo = grup\n\n      if found\n        $http.put('::definitivas_periodos/calcular-grupo-periodo', {grupo_id: grupo.grupo_id, periodo_id: $scope.USER.periodo_id, num_periodo: $scope.USER.numero_periodo}).then((r)->\n          $scope.verBoletinesGrupoCargar(tipo)\n\n        , (r2)->\n          toastr.warning 'No se pudo calcular ' + grupo.nombre + ', Per ' + $scope.USER.numero_periodo + '. Intentaremos de nuevo.'\n        )\n      else\n        $scope.verBoletinesGrupoCargar(tipo)\n\n\n    else\n      $scope.verBoletinesGrupoCargar(tipo)\n\n\n  $scope.verBoletinesGrupoCargar = (tipo)->\n    if tipo == '1' or tipo == 1\n      tipo = ''\n    $cookies.remove 'requested_alumnos'\n    $cookies.remove 'requested_alumno'\n\n    if !$scope.datos.grupo.id\n      toastr.warning 'Debes seleccionar el grupo'\n      return\n    delete localStorage.alumno_boletin\n    localStorage.grupo_boletines = 'Boletines ' + $scope.datos.grupo.nombre\n    $scope.config.orientacion = 'vertical'\n    $state.go 'panel.informes.boletines_periodo'+tipo, {grupo_id: $scope.datos.grupo.id, periodo_a_calcular: $scope.USER.numero_periodo}, {reload: true}\n\n  $scope.verBoletinesAlumnos = (tipo)->\n    if tipo == '1' or tipo == 1\n      tipo = ''\n    if $scope.datos.selected_alumnos.length > 0\n      \n      if $scope.datos.selected_alumnos.length == 1\n        delete localStorage.grupo_boletines\n        localStorage.alumno_boletin = $scope.datos.selected_alumnos[0].apellidos + ' ' + $scope.datos.selected_alumnos[0].nombres + ' - ' + $scope.datos.grupo.abrev + ' Per' + $scope.USER.numero_periodo \n      else \n        delete localStorage.alumno_boletin\n        localStorage.grupo_boletines = 'Boletines ' + $scope.datos.grupo.nombre\n      \n      $scope.config.orientacion = 'vertical'\n      $cookies.putObject 'requested_alumnos', $scope.datos.selected_alumnos\n      $state.go 'panel.informes.boletines_periodo'+tipo, {grupo_id: $scope.datos.grupo.id, periodo_a_calcular: $scope.USER.numero_periodo}, {reload: true}\n    else\n      toastr.warning 'Debes seleccionar al menos un alumno o cargar boletines del grupo completo'\n\n\n  $scope.verBoletinAlumno = (tipo)->\n    if tipo == '1' or tipo == 1\n      tipo = ''\n    $cookies.remove 'requested_alumnos'\n    \n    delete localStorage.grupo_boletines\n    localStorage.alumno_boletin = $scope.datos.selected_alumno.apellidos + ' ' + $scope.datos.selected_alumno.nombres + ' - ' + $scope.datos.grupo.abrev + ' Per' + $scope.USER.numero_periodo \n    \n    if $scope.datos.selected_alumno\n      $cookies.putObject 'requested_alumno', [$scope.datos.selected_alumno]\n      $state.go 'panel.informes'\n      $scope.config.orientacion = 'vertical'\n      $interval ()->\n        $state.go 'panel.informes.boletines_periodo'+tipo, {periodo_a_calcular: $scope.USER.numero_periodo}\n      , 1, 1\n    else\n      toastr.warning 'Elige un alumno o carga el grupo completo'\n\n\n\n\n\n\n\n\n  #######################\n  # VARIOS\n  #######################\n\n  $scope.verNotasActualesAlumno = ()->\n    $cookies.remove 'requested_alumno'\n    if $scope.datos.selected_alumno\n      $cookies.putObject 'requested_alumno', [$scope.datos.selected_alumno]\n      $state.go 'panel.informes'\n      $scope.config.orientacion = 'vertical'\n      $interval ()->\n        $state.go 'panel.informes.notas_actuales_alumnos', {periodo_a_calcular: $scope.USER.numero_periodo}\n      , 1, 1\n\n\n    else\n      toastr.warning 'Debes seleccionar al menos un alumno'\n\n\n  $scope.verNotasActualesAlumnos = ()->\n    if $scope.datos.selected_alumnos.length > 0\n      $scope.config.orientacion = 'vertical'\n      $cookies.putObject 'requested_alumnos', $scope.datos.selected_alumnos\n      $state.go 'panel.informes.notas_actuales_alumnos', {grupo_id: $scope.datos.grupo.id, periodo_a_calcular: $scope.USER.numero_periodo}, {reload: true}\n    else\n      toastr.warning 'Debes seleccionar al menos un alumno'\n\n\n\n\n  $scope.verNotasPerdidasActualesAlumno = ()->\n    if $scope.datos.selected_alumno\n      $cookies.putObject 'requested_alumno', [$scope.datos.selected_alumno]\n      $state.go 'panel.informes'\n      $scope.config.orientacion = 'vertical'\n      $interval ()->\n        $state.go 'panel.informes.notas_perdidas_actuales_alumnos', {periodo_a_calcular: $scope.USER.numero_periodo}\n      , 1, 1\n\n\n    else\n      toastr.warning 'Debes seleccionar al menos un alumno'\n\n\n  $scope.verNotasPerdidasActualesAlumnos = ()->\n    if $scope.datos.selected_alumnos.length > 0\n      $scope.config.orientacion = 'vertical'\n      $cookies.putObject 'requested_alumnos', $scope.datos.selected_alumnos\n      $state.go 'panel.informes.notas_perdidas_actuales_alumnos', {grupo_id: $scope.datos.grupo.id, periodo_a_calcular: $scope.USER.numero_periodo}, {reload: true}\n    else\n      toastr.warning 'Debes seleccionar al menos un alumno'\n\n\n  $scope.verListadoDocentes = ()->\n    $scope.config.orientacion = 'oficio_horizontal'\n    $state.go 'panel.informes.listado_profesores'\n\n\n  $scope.excelListadoDocentes = ()->\n    DownloadServ.download('::excel-docentes/docentes/'+$scope.USER.year+'/'+$scope.USER.year_id, 'Listado docentes '+$scope.USER.year+'.xls')\n\n\n  $scope.verCantAlumnosEnGrupos = ()->\n    $scope.config.orientacion = 'vertical'\n    $state.go 'panel.informes.ver_cant_alumnos_por_grupos'\n\n\n\n\n\n\n\n\n\n\n  #######################\n  # PLANILLAS\n  #######################\n\n  $scope.verPuestosPeriodo = ()->\n    if !$scope.datos.grupo.id\n      toastr.warning 'Debes seleccionar el grupo'\n      return\n    $scope.config.orientacion = 'vertical'\n    $state.go 'panel.informes.puestos_grupo_periodo', {grupo_id: $scope.datos.grupo.id, periodos_a_calcular: $scope.config.periodos_a_calcular}\n\n\n  $scope.verPuestosYear = ()->\n    if !$scope.datos.grupo.id\n      toastr.warning 'Debes seleccionar el grupo'\n      return\n    $scope.config.orientacion = 'vertical'\n    $state.go 'panel.informes.puestos_grupo_year', {grupo_id: $scope.datos.grupo.id, periodo_a_calcular: $scope.config.periodo_a_calcular}\n\n\n\n\n\n  $scope.verTodosPuestosPeriodo = ()->\n    localStorage.grupos_puestos = JSON.stringify($scope.grupos)\n    $scope.config.orientacion = 'vertical'\n    $state.go 'panel.informes.puestos_todos_periodo', {periodos_a_calcular: $scope.config.periodos_a_calcular}\n\n\n  $scope.verTodosPuestosYear = ()->\n    localStorage.grupos_puestos = JSON.stringify($scope.grupos)\n    $scope.config.orientacion = 'vertical'\n    $state.go 'panel.informes.puestos_todos_year', {periodo_a_calcular: $scope.config.periodo_a_calcular}\n\n\n  $scope.mostrar_nota_faltante = ()->\n    if parseInt($state.params.periodo_a_calcular) == 3 and ($state.is('panel.informes.puestos_todos_year') or $state.is('panel.informes.puestos_grupo_year'))\n      $scope.mostrar_faltante   = !$scope.mostrar_faltante\n    else\n      toastr.info 'Debe calcular PUESTOS DEL AÑO (no periodo) y hasta el periodo 3 '\n\n  ####### // Puestos\n\n  $scope.verPlanillasGrupo = ()->\n    if $scope.datos.grupo.id\n      $scope.config.orientacion = 'oficio_horizontal'\n      $state.go 'panel.informes.planillas_grupo', {grupo_id: $scope.datos.grupo.id, periodos_a_calcular: $scope.config.periodos_a_calcular}, {reload: true}\n    else\n      toastr.warning 'Elige un grupo'\n\n\n  $scope.verPlanillasProfe = ()->\n    if $scope.datos.profesor\n      $scope.config.orientacion = 'oficio_horizontal'\n      $state.go 'panel.informes.planillas_profesor', {profesor_id: $scope.datos.profesor.profesor_id, periodos_a_calcular: $scope.config.periodos_a_calcular}, {reload: true}\n    else\n      toastr.warning 'Elige un profesor'\n\n  $scope.verAusencias = ()->\n    $state.go 'panel.informes.ver_ausencias', {periodos_a_calcular: $scope.config.periodos_a_calcular}, {reload: true}\n\n\n\n\n\n  $scope.listasPersonalizadas = ()->\n    $state.go 'panel.informes.listas_personalizadas', {reload: true}\n\n\n  $scope.verSimat = ()->\n    DownloadServ.download('::simat/alumnos', 'Alumnos con acudientes '+$scope.USER.year+'.xls')\n    $state.go 'panel.informes.ver_simat', {reload: true}\n\n  $scope.asistenciaPadres = ()->\n    $state.go 'panel.informes.planillas-ausencias-acudientes', {reload: true}\n\n  $scope.importarSimat = (file, errFiles)->\n    $scope.f = file;\n    $scope.errFile = errFiles && errFiles[0];\n    if (file)\n      file.upload = Upload.upload({\n          url: App.Server + 'importar/algo/'+$scope.USER.year,\n          data: {file: file}\n      });\n\n      file.upload.then( (response)->\n          $timeout( ()->\n              file.result = response.data;\n          );\n      ,  (response)->\n          if (response.status > 0)\n              $scope.errorMsg = response.status + ': ' + response.data;\n      , (evt)->\n          file.progress = Math.min(100, parseInt(100.0 * evt.loaded / evt.total));\n      );\n\n\n\n\n\n\n  $scope.verObservadorVertical = ()->\n    #DownloadServ.download('::simat/alumnos', 'Grupos alumnos.xls')\n    if !$scope.datos.grupo.id\n      toastr.warning 'Debes seleccionar el grupo'\n      return\n\n    $state.go 'panel.informes.ver_observador_vertical', {grupo_id: $scope.datos.grupo.id}, {reload: true}\n\n\n\n  $scope.verObservadorHorizontal = ()->\n    #DownloadServ.download('::simat/alumnos', 'Grupos alumnos.xls')\n    if !$scope.datos.grupo.id\n      toastr.warning 'Debes seleccionar el grupo'\n      return\n\n    $state.go 'panel.informes.ver_observador_horizontal', {grupo_id: $scope.datos.grupo.id}, {reload: true}\n\n\n  $scope.verObservadorVerticalTodos = ()->\n    $state.go 'panel.informes.ver_observador_vertical_todos', {reload: true}\n\n\n  $scope.verPlanillasControlTardanzas = ()->\n    $scope.config.orientacion = 'oficio_horizontal'\n    $state.go 'panel.informes.control_tardanza_entrada', {reload: true}\n\n\n  $scope.verPlanillasAsistenciaClase = ()->\n    $scope.config.orientacion = 'oficio_horizontal'\n    $state.go 'panel.informes.control_asistencia_clase', {reload: true}\n\n  $scope.verNotasPerdidasProfesor = (solo_periodo)->\n    if $scope.datos.profesor\n      $scope.config.orientacion = 'carta_horizontal'\n      $state.go 'panel.informes.notas_perdidas_profesor', {profesor_id: $scope.datos.profesor.profesor_id, periodo_a_calcular: $scope.config.periodo_a_calcular, solo_periodo: solo_periodo}, {reload: true}\n    else\n      toastr.warning 'Elige un profesor'\n\n\n  $scope.verNotasPerdidasTodos = (solo_periodo)->\n    $scope.config.orientacion = 'carta_horizontal'\n    $state.go 'panel.informes.notas_perdidas_todos', {periodo_a_calcular: $scope.config.periodo_a_calcular, solo_periodo: solo_periodo}, {reload: true}\n\n\n  $scope.verCumpleanosPorMeses = ()->\n    $scope.config.orientacion = 'carta_horizontal'\n    $state.go 'panel.informes.cumpleanos_por_meses'\n\n\n\n  $scope.verActaEvaluacionPromocion = ()->\n    $scope.config.orientacion = 'carta_horizontal'\n    $state.go 'panel.informes.acta_evaluacion_promocion', {}, {reload: true}\n\n\n\n  $scope.mostrarUnidadesProfe = ()->\n    if $scope.datos.profesor\n      $scope.config.orientacion = 'vertical'\n      $state.go 'panel.informes.unidades_profesor', {profesor_id: $scope.datos.profesor.profesor_id}, {reload: true}\n    else\n      toastr.warning 'Elige un profesor'\n\n  $scope.verAusencias = ()->\n    $state.go 'panel.informes.ver_ausencias', {periodos_a_calcular: $scope.config.periodos_a_calcular}, {reload: true}\n\n\n\n  $scope.selectGrupo = (item)->\n    if item\n      $scope.filtered_alumnos = $filter('orderBy')( $filter('filter')(alumnos, {grupo_id: item.id}, true) , 'apellidos')\n    else\n      $scope.filtered_alumnos = alumnos\n\n      $cookies.putObject 'requested_alumno', ''\n      $cookies.putObject 'requested_alumnos', ''\n\n\n    $scope.datos.selected_alumnos = ''\n    $scope.datos.selected_alumno = ''\n\n  $scope.selectAlumnos = (item)->\n    #console.log item\n\n  $scope.selectAlumno = (item)->\n    #console.log item\n\n\n  $scope.$on 'cambia_descripcion', (event, descrip)->\n    $scope.descripcion_informe = descrip\n\n\n  $scope.pdfMaker = ()->\n\n    docDefinition = {\n      content: [\n        ['Este es un ejemplo de reporte en pdf'],\n        {\n          table: {\n            headerRows: 1,\n            widths: [ '*', 'auto', 100, '*' ],\n\n            body: [\n                [ 'No', 'Primero', 'Segundo', 'Tercero' ],\n                [ '0', 'No me gusta!!', 'No queda bonito', 'FACILMENTE!' ],\n                [ '1', { text: 'En negrita', bold: true }, 'Así que ', 'me mordió la vaca' ]\n              ]\n          }\n        }\n      ]\n    }\n\n    pdfMake.createPdf(docDefinition).open()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  $scope.verBoletinesFinalesGrupo = ()->\n    $cookies.remove 'requested_alumnos'\n    $cookies.remove 'requested_alumno'\n\n    if !$scope.datos.grupo.id\n      toastr.warning 'Debes seleccionar el grupo'\n      return\n\n    datos = {grupo_id: $scope.datos.grupo.id, periodos_a_calcular: $scope.config.periodos_a_calcular};\n    \n    delete localStorage.alumno_boletin\n    localStorage.grupo_boletines = 'Boletines finales ' + $scope.datos.grupo.nombre\n        \n    if $scope.tipo_boletin_final == 2 || $scope.tipo_boletin_final == '2'\n      datos.year_selected = true\n\n    $state.go 'panel.informes.boletines_finales', datos, {reload: true}\n\n\n  $scope.verBoletinesFinalesAlumnos = ()->\n\n    if $scope.datos.selected_alumnos.length > 0\n      $cookies.putObject 'requested_alumnos', $scope.datos.selected_alumnos\n\n      if $scope.datos.selected_alumnos.length == 1\n        delete localStorage.grupo_boletines\n        localStorage.alumno_boletin = $scope.datos.selected_alumnos[0].apellidos + ' ' + $scope.datos.selected_alumnos[0].nombres + ' - ' + $scope.datos.grupo.abrev + ' Per' + $scope.USER.numero_periodo \n      else \n        delete localStorage.alumno_boletin\n        localStorage.grupo_boletines = 'Boletines finales ' + $scope.datos.grupo.nombre\n      \n      datos = {grupo_id: $scope.datos.grupo.id, periodos_a_calcular: $scope.config.periodos_a_calcular}\n      if $scope.tipo_boletin_final == 2 || $scope.tipo_boletin_final == '2'\n        datos.year_selected = true\n\n      $state.go 'panel.informes.boletines_finales', datos, {reload: true}\n    else\n      toastr.warning 'Debes seleccionar al menos un alumno o cargar boletines del grupo completo'\n\n\n  $scope.verBoletinFinalAlumno = ()->\n\n    if $scope.datos.selected_alumno\n      $cookies.remove 'requested_alumnos'\n      $cookies.putObject 'requested_alumno', [$scope.datos.selected_alumno]\n      \n      delete localStorage.grupo_boletines\n      localStorage.alumno_boletin = $scope.datos.selected_alumno.apellidos + ' ' + $scope.datos.selected_alumno.nombres + ' - ' + $scope.datos.grupo.abrev + ' Per' + $scope.USER.numero_periodo \n        \n      $state.go 'panel.informes'\n      $interval ()->\n        datos = {grupo_id: $scope.datos.grupo.id, periodos_a_calcular: $scope.config.periodos_a_calcular}\n        if $scope.tipo_boletin_final == 2 || $scope.tipo_boletin_final == '2'\n          datos.year_selected = true\n\n        $state.go 'panel.informes.boletines_finales', datos\n      , 1, 1\n    else\n      toastr.warning 'Elige un alumno o carga el grupo completo'\n\n\n\n  $scope.verCertificadosEstudioGrupo = (periodo)->\n\n    $cookies.remove 'requested_alumnos'\n    $cookies.remove 'requested_alumno'\n\n    if !$scope.datos.grupo.id\n      toastr.warning 'Debes seleccionar el grupo'\n      return\n\n    if periodo\n      $state.go 'panel.informes.certificados_estudio_periodo', {grupo_id: $scope.datos.grupo.id, periodo_a_calcular: periodo}, {reload: true}\n    else\n      $state.go 'panel.informes.certificados_estudio', {grupo_id: $scope.datos.grupo.id}, {reload: true}\n\n\n  $scope.verCertificadosEstudioAlumnos = (periodo)->\n    if periodo\n      if $scope.datos.selected_alumnos.length > 0\n        $cookies.putObject 'requested_alumnos', $scope.datos.selected_alumnos\n        $state.go 'panel.informes.certificados_estudio_periodo', {grupo_id: $scope.datos.grupo.id, periodo_a_calcular: periodo}, {reload: true}\n      else\n        toastr.warning 'Debes seleccionar al menos un alumno o cargar boletines del grupo completo'\n\n    else\n      if $scope.datos.selected_alumnos.length > 0\n        $cookies.putObject 'requested_alumnos', $scope.datos.selected_alumnos\n        $state.go 'panel.informes.certificados_estudio', {grupo_id: $scope.datos.grupo.id, periodo_a_calcular: periodo}, {reload: true}\n      else\n        toastr.warning 'Debes seleccionar al menos un alumno o cargar boletines del grupo completo'\n\n\n\n  $scope.verCertificadosEstudioAlumno = (periodo)->\n    if periodo\n      if $scope.datos.selected_alumno\n        $cookies.remove 'requested_alumnos'\n        $cookies.putObject 'requested_alumno', [$scope.datos.selected_alumno]\n        $state.go 'panel.informes'\n        $interval ()->\n          $state.go 'panel.informes.certificados_estudio_periodo', { periodo_a_calcular: periodo }\n        , 1, 1\n      else\n        toastr.warning 'Elige un alumno o carga el grupo completo'\n\n    else\n      if $scope.datos.selected_alumno\n        $cookies.remove 'requested_alumnos'\n        $cookies.putObject 'requested_alumno', [$scope.datos.selected_alumno]\n        $state.go 'panel.informes'\n        $interval ()->\n          $state.go 'panel.informes.certificados_estudio'\n        , 1, 1\n      else\n        toastr.warning 'Elige un alumno o carga el grupo completo'\n\n\n\n\n\n\n\n  # CALCULOS PARA DÍAS Y MESES\n  $scope.meses = [\n    {nombre: 'Enero'}\n    {nombre: 'Febrero'}\n    {nombre: 'Marzo'}\n    {nombre: 'Abril'}\n    {nombre: 'Mayo'}\n    {nombre: 'Junio'}\n    {nombre: 'Julio'}\n    {nombre: 'Agosto'}\n    {nombre: 'Septiembre'}\n    {nombre: 'Octubre'}\n    {nombre: 'Noviembre'}\n    {nombre: 'Diciembre'}\n  ]\n\n  $scope.numYearActual = $scope.USER.year\n\n  DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n  getDaysInMonth = ( year, month )->\n    if ((month == 1) and (year % 4 == 0) and ((year % 100 != 0) or (year % 400 == 0)))\n      return 29\n    else\n      return DAYS_IN_MONTH[month]\n\n  $scope.getAllDaysInMonth = (month)->\n\n    num = getDaysInMonth($scope.numYearActual, month)\n    r = []\n    for i in [1..num]\n      d = new Date($scope.numYearActual, parseInt(month), i)\n      n = d.getDay()\n\n      if n != 0 and n != 6\n        r.push i\n\n    return r\n\n  # //\n\n\n\n\n\n])\n\n\n\n.filter('fechaHoraStringShort', ['$filter', ($filter)->\n  (fecha_hora, created_at) ->\n\n    if fecha_hora\n      fecha_hora = new Date(fecha_hora)\n      if isNaN(fecha_hora)\n        fecha_hora = new Date(fecha_hora)\n      else\n        fecha_hora = new Date(created_at)\n\n      fecha_hora = $filter('date')(fecha_hora, 'MMMdd H:mm')\n      return fecha_hora\n\n    else\n      return ''\n\n\n])\n\n\n\n\n"
  ]
}