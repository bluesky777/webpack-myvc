{
  "version": 3,
  "file": "AnunciosCtrl.js",
  "sourceRoot": "",
  "sources": [
    "AnunciosCtrl.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "angular.module('myvcFrontApp')\n\n\n.controller('AnunciosDirCtrl', ['$scope', '$uibModal', 'AuthService', '$http', 'toastr', '$filter', 'App', '$timeout', 'Upload', '$sce', 'uiCalendarConfig', '$compile', 'EscalasValorativasServ', ($scope, $modal, AuthService, $http, toastr, $filter, App, $timeout, $upload, $sce, uiCalendarConfig, $compile, EscalasValorativasServ)->\n\n  $scope.hasRoleOrPerm          = AuthService.hasRoleOrPerm\n  $scope.perfilPath             = App.images+'perfil/'\n  $scope.views \t\t\t            = App.views\n  $scope.srcCant \t\t\t\t        = $scope.views + 'informes2/verCantAlumnosPorGrupos.tpl.html'\n  #$scope.fileReaderSupported \t  = window.FileReader != null && (window.FileAPI == null || FileAPI.html5 != false);\n  $scope.fileReaderSupported \t  = window.FileReader != null && (window.FileAPI == null);\n  $scope.imgFiles               = []\n  $scope.imagen_subida          = true\n  $scope.mostrar_publicaciones  = true\n  $scope.guardando_publicacion  = false\n  $scope.USER                   = $scope.USER\n  $scope.profe_seleccionado     = false\n  $scope.mostrando_edit_evento  = false\n  $scope.actualizando_cumples   = false\n  $scope.IS_PROF_ADMIN \t\t      = $scope.hasRoleOrPerm(['admin', 'profesor']);\n  $scope.IS_ALUM_ACUD \t\t      = $scope.hasRoleOrPerm(['alumno', 'acudiente', 'psicólogo', 'enfermero']) || $scope.USER.tipo == 'Acudiente';\n\n\n  $scope.new_publicacion  = {\n    publi_para: 'publi_para_todos',\n    para_alumnos: 1\n  }\n\n  $scope.evento_actual =\n    title:  ''\n    start:  null\n    end:    null\n    allDay: 1\n    solo_profes: 0\n\n\n\n  # CALENDARIO\n  $scope.data = {} # Para el popup del Datapicker\n\n  $scope.dateOptions =\n    formatYear: 'yyyy'\n\n  if localStorage.panel_tab_actual\n    $scope.panel_tab_actual = localStorage.panel_tab_actual\n\n\n  $scope.guardarEvento = (evento)->\n    if evento.title.length==0 or !evento.start\n      toastr.warning 'Escribe título y fecha inicio'\n      return\n\n    if !evento.allDay and !evento.end\n      toastr.warning 'Escribe fecha fin o elige Todo el día'\n      return\n\n    evento.guardando = true\n\n    if evento.editar\n      $http.put('::calendario/guardar-evento', evento).then(()->\n        toastr.success 'Guardado'\n        evento.guardando  = false\n        evento.editar     = false\n\n        $scope.evento_actual =\n          title:  ''\n          start:  null\n          end:    null\n          allDay: 1\n          solo_profes: 0\n          id:     null\n\n      , ()->\n        toastr.error 'Error guardando'\n        evento.guardando = false\n      )\n    else\n      $http.put('::calendario/crear-evento', evento).then((r)->\n        toastr.success 'Creado'\n        evento.guardando  = false\n\n        evento.id = r.data.evento_id\n        $scope.eventos[0].push(evento)\n\n        $scope.evento_actual =\n          title:  ''\n          start:  null\n          end:    null\n          allDay: 1\n          solo_profes: 0\n          id:     null\n\n      , ()->\n        toastr.error 'Error creando'\n        evento.guardando = false\n      )\n\n\n  $scope.actualizarEventos = ()->\n    $http.put('::calendario/this-year', { is_prof_admin: $scope.IS_PROF_ADMIN }).then((r)->\n      $scope.eventos = null\n\n      $timeout(()->\n        for evento in r.data\n          evento.start      = new Date(evento.start);\n          evento.end        = if evento.end then new Date(evento.end) else null;\n          if evento.solo_profes\n            evento.className  = 'evento-solo-profes'\n          else\n            evento.className  = if evento.cumple_alumno_id or evento.cumple_profe_id then 'evento-cumpleanios' else null\n\n        $scope.eventos = [\n          r.data\n        ];\n        toastr.success 'Actualizado'\n      , 500)\n\n    , ()->\n      toastr.error 'Error actualizando'\n    )\n\n\n\n  $scope.noMostrarEditEvento = ()->\n    $scope.mostrando_edit_evento = false\n\n\n  $scope.mostrarEditEvento = ()->\n    $scope.mostrando_edit_evento = true\n\n\n  $scope.cancelarEdicion = ()->\n    $scope.evento_actual =\n      title:  ''\n      start:  null\n      end:    null\n      allDay: 1\n      id:     null\n\n  $scope.eliminarEvento = (evento)->\n    if evento.guardando\n      return\n\n    respu = confirm('¿Seguro que desea eliminar evento?')\n    if !respu\n      return\n\n    evento.guardando = true\n\n    if evento.editar\n      $http.put('::calendario/eliminar-evento', evento).then(()->\n        toastr.success 'Eliminado'\n        evento.guardando  = false\n\n        $scope.evento_actual =\n          title:  ''\n          start:  null\n          end:    null\n          solo_profes: 0\n          allDay: 1\n\n      , ()->\n        toastr.error 'Error eliminando'\n        evento.guardando = false\n      )\n\n  $scope.actualizarCumplesEnCalendario = ()->\n\n    respu = confirm('Esto borrará y creará de nuevo los cumpleaños, ¿continuar?')\n    if !respu\n      return\n\n    $scope.actualizando_cumples = true\n\n    $http.put('::calendario/sincronizar-cumples').then(()->\n      toastr.success 'Sincronizado', 'Actualice'\n      $scope.actualizando_cumples = false\n    , ()->\n      toastr.error 'Error sincronizando'\n      $scope.actualizando_cumples = false\n    )\n\n\n  $scope.fromEventoToActual = (date)->\n\n    $scope.evento_actual =\n      title:  date.title\n      start:  if date.start then new Date(date.start) else null\n      end:    if date.end then new Date(date.end) else null\n      allDay: if date.allDay then 1 else 0\n      solo_profes: date.solo_profes\n      editar: true\n      id:     date.id\n\n\n  $scope.alertOnEventClick = ( date, jsEvent, view)->\n    $scope.fromEventoToActual(date)\n    $scope.mostrando_edit_evento = true\n\n\n  $scope.alertOnDrop = (event, delta, revertFunc, jsEvent, ui, view)->\n    $scope.fromEventoToActual(event)\n    $scope.guardarEvento($scope.evento_actual)\n    console.log('Event Droped to make dayDelta ' + delta, event);\n\n\n  $scope.alertOnResize = (event, delta, revertFunc, jsEvent, ui, view )->\n    $scope.fromEventoToActual(event)\n    $scope.guardarEvento($scope.evento_actual)\n    console.log('Event Resized to make dayDelta ' + delta, event);\n\n  ###\n  $scope.changeView = (view)->\n    $timeout(()->\n      uiCalendarConfig.calendars['myCalendar'].fullCalendar('changeView',view);\n    , 100)\n  ###\n\n  $scope.eventRender = ( event, element, view)->\n    element.attr({'uib-tooltip-html': \"\\'<p>\" + event.title + \"</p>Por: \" + event.created_by_nombres + \"\\'\", 'tooltip-append-to-body': true})\n    $compile(element)($scope);\n\n\n\n  $scope.uiConfig = {\n    calendar:{\n      height: 450,\n      editable: if $scope.IS_PROF_ADMIN then true else false,\n      eventRender: $scope.eventRender\n      header:{\n        left: 'month agendaWeek agendaDay',\n        center: 'title',\n        right: 'today prev,next'\n      },\n      eventDurationEditable: if $scope.IS_PROF_ADMIN then true else false\n      eventClick: $scope.alertOnEventClick,\n      eventDrop: $scope.alertOnDrop,\n      eventResize: if $scope.IS_PROF_ADMIN then $scope.alertOnResize else null\n      buttonText: {\n        today:'Hoy',\n        month: 'Mes',\n        agendaWeek: 'Semana',\n        agendaDay: 'Día'\n      },\n    }\n  }\n\n\n  $scope.selectTab = (tab)->\n    $scope.panel_tab_actual = tab\n    localStorage.panel_tab_actual = $scope.panel_tab_actual\n    if tab == 'calendario'\n      $scope.actualizarEventos();\n\n\n\n  # **************************************\n  # HORARIO\n  $scope.UNIDAD \t\t\t  = $scope.USER.unidad_displayname\n  $scope.GENERO_UNI \t\t= $scope.USER.genero_unidad\n  $scope.SUBUNIDAD \t\t  = $scope.USER.subunidad_displayname\n  $scope.GENERO_SUB \t\t= $scope.USER.genero_subunidad\n  $scope.UNIDADES \t\t  = $scope.USER.unidades_displayname\n  $scope.SUBUNIDADES \t\t= $scope.USER.subunidades_displayname\n  $scope.nota_minima_aceptada = parseInt($scope.USER.nota_minima_aceptada)\n\n\n  EscalasValorativasServ.escalas().then((r)->\n    $scope.escalas = r\n    $scope.escala_maxima = EscalasValorativasServ.escala_maxima()\n  , (r2)->\n    console.log 'No se trajeron las escalas valorativas', r2\n  )\n\n\n\n\n  $scope.mostrarClasesDeHoy = ()->\n    $scope.mostrandoHoy = true\n\n  $scope.mostrarClasesDeManana = ()->\n    $scope.mostrandoHoy = false\n\n\n  $scope.seleccionarAsignatura = (asignatura)->\n    if asignatura.unidades.length == 0 and !asignatura.seleccionada\n\n      $http.get('::unidades/de-asignatura-periodo/'+asignatura.asignatura_id+'/'+$scope.USER.periodo_id).then((r)->\n        if r.data.length > 0\n          asignatura.unidades = r.data\n      ,() ->\n        toastr.error('Error comprobando notas de asignatura')\n      )\n    asignatura.seleccionada = !asignatura.seleccionada;\n\n\n  $scope.cargarAlumnosAsistencia = (asignatura, grupo_id, asignatura_id)->\n    $scope.subunidad_actual   = false\n    $scope.asignatura_actual  = asignatura\n\n    $http.put('::notas/subunidad', { grupo_id: grupo_id, asignatura_id: asignatura_id }).then((r)->\n      $scope.alumnos_subunidad  = r.data.alumnos\n      $scope.pasandoNotas       = true\n\n      for alumno in $scope.alumnos_subunidad\n        for uniforme in alumno.uniformes\n          uniforme.fecha_hora = new Date(uniforme.fecha_hora.replace(/-/g, '\\/'))\n          \n        $scope.verificarFallaHoy(alumno)\n\n    ,() ->\n      toastr.error('Error trayendo notas')\n    )\n\n\n  $scope.verificarFallaHoy = (alumno)->\n    d = new Date()\n    alumno.falla_hoy = ''\n    alumno.uniforme_hoy = false\n\n    for tardanza in alumno.tardanzas\n      if tardanza.fecha_hora\n        if tardanza.fecha_hora.replace\n          tardanza.fecha_hora   = new Date(tardanza.fecha_hora.replace(/-/g, '\\/'))\n\n        if d.toDateString() == tardanza.fecha_hora.toDateString()\n          alumno.falla_hoy = 'tardanza'\n\n    for ausencia in alumno.ausencias\n      if ausencia.fecha_hora\n        if ausencia.fecha_hora.replace\n          ausencia.fecha_hora   = new Date(ausencia.fecha_hora.replace(/-/g, '\\/'))\n\n        if d.toDateString() == ausencia.fecha_hora.toDateString()\n          alumno.falla_hoy = 'ausencia'\n\n    for uniforme in alumno.uniformes\n      if uniforme.fecha_hora\n        if uniforme.fecha_hora.replace\n          uniforme.fecha_hora   = new Date(uniforme.fecha_hora.replace(/-/g, '\\/'))\n\n        if d.toDateString() == uniforme.fecha_hora.toDateString()\n          alumno.uniforme_hoy = true\n\n\n\n  $scope.cargarAlumnosSubunidad = (subunidad, asignatura, grupo_id, asignatura_id)->\n    $scope.subunidad_actual   = subunidad\n    $scope.asignatura_actual  = asignatura\n\n    $http.put('::notas/subunidad', { subunidad: subunidad, grupo_id: grupo_id, asignatura_id: asignatura_id }).then((r)->\n      $scope.alumnos_subunidad  = r.data.alumnos\n      $scope.pasandoNotas       = true\n\n      for alumno in $scope.alumnos_subunidad\n        $scope.verificarFallaHoy(alumno)\n\n    ,() ->\n      toastr.error('Error trayendo notas')\n    )\n\n  $scope.cambiarNota = (alumno, nota)->\n    modalInstance = $modal.open({\n      templateUrl: '==panel/cambiarNotaModal.tpl.html'\n      controller: 'CambiarNotaModalCtrl'\n      animation: false\n      resolve:\n        alumno: ()->\n          alumno\n        subunidad: ()->\n          $scope.subunidad_actual\n        nota: ()->\n          nota\n    })\n    modalInstance.result.then( (r)->\n      console.log(r)\n    , ()->\n      # nada\n    )\n\n  $scope.quitarAusenciaHoy = (alumno, tipo)->\n    if alumno.quitandoAusenciaHoy\n      return\n    alumno.quitandoAusenciaHoy = true\n    d = new Date()\n    d = d.toDateString()\n\n    for ausencia in alumno.tardanzas\n      if ausencia.fecha_hora\n        if d == ausencia.fecha_hora.toDateString()\n          $scope.eliminarAusencia(ausencia, alumno, true);\n\n    for ausencia in alumno.ausencias\n      if ausencia.fecha_hora\n        if d == ausencia.fecha_hora.toDateString()\n          $scope.eliminarAusencia(ausencia, alumno, true);\n\n    $timeout(()->\n      alumno.quitandoAusenciaHoy = false\n      $scope.verificarFallaHoy(alumno)\n    , 500)\n\n\n\n  $scope.verTardanzasAusencias = (alumno)->\n    alumno.mostrandoFallas = !alumno.mostrandoFallas\n    return\n\n  \n  \n  # Ver uniformes de alumno\n  $scope.verUniformes = (alumno)->\n    alumno.mostrandoUniformes = !alumno.mostrandoUniformes\n    return\n\n  $scope.verAgregarUniforme = (alumno)->\n    alumno.new_uni = {\n      fecha_hora: new Date()\n    }\n    alumno.creandoUniforme = !alumno.creandoUniforme\n    return\n\n  $scope.cancelarGuardarUniforme = (alumno)->\n    alumno.guardando_uniforme = false\n    alumno.creandoUniforme = false\n\n\n  # Crear uniforme en la nube\n  $scope.guardarUniforme = (alumno)->\n    if alumno.guardando_uniforme\n      return\n\n    alumno.guardando_uniforme = true\n  \n    alumno.new_uni.alumno_id = alumno.alumno_id\n    alumno.new_uni.asignatura_id = $scope.asignatura_actual.asignatura_id\n    alumno.new_uni.materia = $scope.asignatura_actual.materia\n    alumno.new_uni.fecha_hora = alumno.new_uni.fecha_hora.yyyymmdd() + ' ' + window.fixHora(alumno.new_uni.fecha_hora);\n\n    $http.put('::uniformes/agregar', alumno.new_uni ).then((r)->\n      alumno.uniforme_hoy = true\n      alumno.guardando_uniforme = false\n      r.data.uniforme.fecha_hora = new Date(r.data.uniforme.fecha_hora.replace(/-/g, '\\/'))\n      alumno.uniformes.push(r.data.uniforme)\n      alumno.uniformes_count++\n      alumno.creandoUniforme = false\n    ,() ->\n      toastr.error('Error agregando uniformes')\n      alumno.guardando_uniforme = false\n      alumno.creandoUniforme = false\n    )\n    return\n    \n    \n  $scope.editarUniforme = (uniforme, alumno)->\n    uniforme.editando = !uniforme.editando\n\n    \n  $scope.cancelarGuardarUniformeEditado = (uniforme)->\n    uniforme.guardando = false\n    uniforme.editando = false\n\n\n  $scope.guardarUniformeEditado = (uniforme, alumno)->\n    if uniforme.guardando\n      return\n\n    uniforme.guardando = true\n\n    $http.put('::uniformes/actualizar', uniforme ).then((r)->\n      uniforme.guardando = false\n      toastr.success('Uniforme actualizado.')\n      uniforme.editando = false\n    ,() ->\n      toastr.error('Error actualizado uniforme.')\n      uniforme.guardando = false\n    )\n    return\n    \n    \n    \n  # Función no utilizada\n  $scope.guardarValorUniforme = (uniforme, propiedad, valor, alumno)->\n\n    datos =\n      uniforme_id: uniforme.id\n      fecha_hora: $filter('date')(uniforme.fecha_hora, 'yyyy-MM-dd HH:mm:ss')\n\n    $http.put('::uniformes/guardar-cambios-uniforme', datos).then((r)->\n      $scope.verificarFallaHoy(alumno);\n    , (r2)->\n      toastr.warning 'No se pudo cambiar.', 'Problema'\n    )\n    \n    \n  $scope.eliminarUniforme = (uniforme, alumno)->\n    res = confirm('¿Seguro que deseas eliminar este registro de uniforme?')\n    \n    if res\n      $http.put('::uniformes/eliminar', {uniforme_id: uniforme.id, alumno_id: alumno.alumno_id, asignatura_id: $scope.asignatura_actual.asignatura_id }).then((r)->\n        alumno.uniformes = r.data.uniformes\n        alumno.uniformes_count = r.data.uniformes_count\n        $scope.verificarFallaHoy(alumno);\n      , (r2)->\n        toastr.warning 'No se pudo cambiar.', 'Problema'\n      )\n\n\n    \n    \n\n\n\n  $scope.volverClases = ()->\n    $scope.pasandoNotas = false\n\n\n  $scope.agregarTardanza = (alumno)->\n    if alumno.guardando_falla\n      return\n\n    alumno.guardando_falla = true\n\n    d = new Date();\n    now = d.yyyymmdd() + ' ' + window.fixHora(d);\n\n    $http.post('::ausencias/agregar-tardanza', { now: now, alumno_id: alumno.alumno_id, asignatura_id: $scope.asignatura_actual.asignatura_id }).then((r)->\n      alumno.falla_hoy = 'tardanza'\n      alumno.guardando_falla = false\n      r.data.fecha_hora = new Date(r.data.fecha_hora.date.replace(/-/g, '\\/'))\n      alumno.tardanzas.push(r.data)\n      alumno.tardanzas_count++\n    ,() ->\n      toastr.error('Error agregando tardanza')\n      alumno.guardando_falla = false\n    )\n\n\n  $scope.agregarAusencia = (alumno)->\n    if alumno.guardando_falla\n      return\n\n    alumno.guardando_falla = true\n\n    d = new Date();\n    now = d.yyyymmdd() + ' ' + window.fixHora(d);\n\n    $http.post('::ausencias/agregar-ausencia', { now: now, alumno_id: alumno.alumno_id, asignatura_id: $scope.asignatura_actual.asignatura_id }).then((r)->\n      alumno.falla_hoy = 'ausencia'\n      alumno.guardando_falla = false\n      r.data.fecha_hora   = new Date(r.data.fecha_hora.date.replace(/-/g, '\\/'))\n      alumno.ausencias.push(r.data)\n      alumno.ausencias_count++\n    ,() ->\n      toastr.error('Error agregando ausencia')\n      alumno.guardando_falla = false\n    )\n\n\n\n  $scope.cambiarTipo = (ausencia, new_tipo, alumno)->\n\n    datos =\n      ausencia_id: ausencia.id\n      new_tipo: new_tipo\n\n    $http.put('::ausencias/cambiar-tipo-ausencia', datos).then((r)->\n\n      if new_tipo == 'tardanza'\n        ausencia.tipo = 'tardanza'\n        ausencia.cantidad_ausencia = ausencia.cantidad_tardanza\n        ausencia.tardanzas_count++\n        ausencia.ausencias_count--\n        alumno.tardanzas.push(ausencia)\n        alumno.ausencias = $filter('filter')(alumno.ausencias, { id: '!'+ausencia.id })\n\n        d = new Date()\n        if ausencia.fecha_hora\n          if d.toDateString() == ausencia.fecha_hora.toDateString()\n            alumno.falla_hoy = 'tardanza'\n\n      if new_tipo == 'ausencia'\n        ausencia.tipo = 'ausencia'\n        ausencia.cantidad_tardanza = ausencia.cantidad_ausencia\n        ausencia.tardanzas_count--\n        ausencia.ausencias_count++\n        alumno.ausencias.push(ausencia)\n        alumno.tardanzas = $filter('filter')(alumno.tardanzas, { id: '!'+ausencia.id })\n\n\n        d = new Date()\n        if ausencia.fecha_hora\n          if d.toDateString() == ausencia.fecha_hora.toDateString()\n            alumno.falla_hoy = 'ausencia'\n\n    , (r2)->\n      toastr.warning 'No se pudo cambiar el tipo.', 'Problema'\n    )\n\n\n  $scope.guardarValorAusencia = (ausencia, propiedad, valor, alumno)->\n\n    datos =\n      ausencia_id: ausencia.id\n      fecha_hora: $filter('date')(ausencia.fecha_hora, 'yyyy-MM-dd HH:mm:ss')\n\n    $http.put('::ausencias/guardar-cambios-ausencia', datos).then((r)->\n      $scope.verificarFallaHoy(alumno);\n    , (r2)->\n      toastr.warning 'No se pudo cambiar.', 'Problema'\n    )\n\n\n\n  $scope.eliminarAusencia = (ausencia, alumno, omitir_preg)->\n    if ausencia.eliminando\n      return\n    ausencia.eliminando = true\n\n    res = true\n    if !omitir_preg\n      res = confirm('¿Seguro que quiere eliminar?')\n\n    if res\n      $http.delete('::ausencias/destroy/' + ausencia.id).then((r)->\n        r \t\t= r.data\n        if ausencia.tipo == 'tardanza'\n          alumno.tardanzas = $filter('filter')(alumno.tardanzas, { id: '!'+r.id })\n          alumno.tardanzas_count--\n\n        if ausencia.tipo == 'ausencia'\n          alumno.ausencias = $filter('filter')(alumno.ausencias, { id: '!'+r.id })\n          alumno.ausencias_count--\n\n        if !omitir_preg\n          $timeout(()->\n            $scope.verificarFallaHoy(alumno)\n          , 100)\n        ausencia.isOpen = false\n      , (r2)->\n        toastr.warning 'No se pudo quitar ausencia.', 'Problema'\n      )\n    else\n      ausencia.eliminando = false\n\n\n\n\n\n  # ****************************************************\n  # PUBLICACIONES\n  $scope.editarPublicacion = (publicacion)->\n    if publicacion.para_todos\n      publicacion.publi_para = 'publi_para_todos'\n    else\n      publicacion.publi_para = 'publi_privada'\n\n    publicacion.editar          = true\n    $scope.new_publicacion      = publicacion\n    $scope.creando_publicacion  = true\n\n\n\n\n  $scope.verPublicacion = (publi, $index)->\n    if $index > -1\n      $scope.publicaciones_actuales   = [ publi ]\n\n      if $scope.changes_asked.publicaciones.length > ($index + 1)\n        $scope.publicaciones_actuales.push($scope.changes_asked.publicaciones[$index + 1])\n\n      $scope.creando_publicacion      = false\n    else\n      $scope.publicacion_actual   = publi\n      $scope.creando_publicacion  = false\n\n\n  $scope.eliminarPublicacion = (publi)->\n    $http.put('::publicaciones/delete', { publi_id: publi.id }).then((r)->\n\n      toastr.success 'Eliminada.'\n      publi.deleted_at = new Date().toString()\n\n    , (r2)->\n      toastr.error 'Error al eliminar', 'Problema'\n      return {}\n    )\n\n  $scope.verPublicacionDetalle = (publica)->\n\n    modalInstance = $modal.open({\n      templateUrl: '==panel/VerPublicacionModal.tpl.html'\n      controller: 'VerPublicacionModalCtrl'\n      size: 'lg',\n      windowClass: 'modal-publicacion'\n      resolve:\n        publicacion_actual: ()->\n          publica\n        USER: ()->\n          $scope.USER\n    })\n    modalInstance.result.then( (imag)->\n      console.log 'Cerrado'\n    )\n\n\n  $scope.restaurarPublicacion = (publi)->\n    $http.put('::publicaciones/restaurar', { publi_id: publi.id }).then((r)->\n\n      toastr.success 'Restaurada.'\n      publi.deleted_at = null\n\n    , (r2)->\n      toastr.error 'Error al Restaur', 'Problema'\n      return {}\n    )\n\n\n  $scope.crearPublicacion = (new_publicacion)->\n    $scope.guardando_publicacion = true\n\n    if new_publicacion.editar\n      $http.put('::publicaciones/guardar-edicion', new_publicacion).then((r)->\n\n        new_publicacion.id          \t\t= r.data.publicacion_id\n        new_publicacion.imagen_nombre \t= if $scope.new_publicacion.imagen then $scope.new_publicacion.imagen.nombre else null\n        new_publicacion.contenido_tr \t\t= $sce.trustAsHtml(new_publicacion.contenido)\n        new_publicacion.updated_at \t\t\t= $filter('date')(new Date(), 'short')\n\n        $scope.imagen_temporal = undefined\n\n        toastr.success 'Guardado. Recargue la página'\n\n        $scope.new_publicacion  = {\n          publi_para: 'publi_para_todos',\n          para_alumnos: 1\n        }\n        $scope.creando_publicacion    = false\n        $scope.guardando_publicacion  = false\n\n      , (r2)->\n        toastr.error 'Error al publicar', 'Problema'\n        $scope.guardando_publicacion = false\n        return {}\n      )\n    else\n      $http.put('::publicaciones/store', new_publicacion).then((r)->\n\n        new_publicacion.id          \t\t= r.data.publicacion_id\n        new_publicacion.imagen_nombre \t= if $scope.new_publicacion.imagen then $scope.new_publicacion.imagen.name else null\n        new_publicacion.contenido_tr \t\t= $sce.trustAsHtml(new_publicacion.contenido)\n        new_publicacion.updated_at \t\t\t= $filter('date')(new Date(), 'short')\n\n        $scope.changes_asked.mis_publicaciones.unshift new_publicacion\n        $scope.changes_asked.publicaciones.unshift new_publicacion\n\n        $scope.imagen_temporal = undefined\n\n        toastr.success 'Publicado con éxito'\n\n        $scope.new_publicacion  = {\n          publi_para: 'publi_para_todos',\n          publi_para_alumnos: 1\n        }\n        $scope.creando_publicacion    = false\n        $scope.guardando_publicacion  = false\n\n      , (r2)->\n        toastr.error 'Error al publicar', 'Problema'\n        $scope.guardando_publicacion = false\n        return {}\n      )\n\n  $scope.toggle_mis_publicaciones = (publi)->\n    $scope.mostrar_publicaciones = false\n    $scope.mostrar_mis_publicaciones = !$scope.mostrar_mis_publicaciones\n\n  $scope.toggle_publicaciones = (publi)->\n    $scope.mostrar_mis_publicaciones = false\n    $scope.mostrar_publicaciones = !$scope.mostrar_publicaciones\n\n\n  ###########################################################\n  ############### \tSUBIDA DE IMÁGENES \t\t###############\n  ###########################################################\n  $scope.uploadFiles =  (files)->\n\n    $scope.errorMsg       = ''\n\n    if files and files.length\n\n      for i in [0...files.length]\n        file = files[i]\n        $scope.imagen_temporal = file\n        generateThumbAndUpload file\n\n\n  generateThumbAndUpload = (file)->\n    $scope.errorMsg = null\n    uploadUsing$upload(file)\n    $scope.generateThumb(file)\n\n  $scope.generateThumb = (file)->\n    console.log file\n    if file != null\n      if $scope.fileReaderSupported and file.type.indexOf('image') > -1\n        $timeout ()->\n          fileReader = new FileReader()\n          fileReader.readAsDataURL(file)\n          fileReader.onload = (e)->\n            $timeout(()->\n              file.dataUrl = e.target.result\n              $scope.imgFiles.push file\n            )\n\n  uploadUsing$upload = (file)->\n\n    $scope.imagen_subida  = false\n\n    if file.size > 5000000\n      $scope.errorMsg = 'Archivo excede los 5MB permitidos.'\n      return\n\n    $upload.upload({\n      url: App.Server + 'myimages/store-intacta-privada',\n      file: file\n    }).progress( (evt)->\n      progressPercentage = parseInt(100.0 * evt.loaded / evt.total)\n      file.porcentaje = progressPercentage\n      #console.log('progress: ' + progressPercentage + '% ' + evt.config.file.name, evt.config)\n    ).success( (data, status, headers, config)->\n      $scope.new_publicacion.imagen = data\n      $scope.imagen_subida          = true\n    ).error((r2)->\n      $scope.imagen_subida          = true\n      console.log 'Falla uploading: ', r2\n    )\n\n\n\n  $scope.borrarImagen = (imagen_temp)->\n    imagen = {}\n    angular.copy(imagen_temp, imagen)\n\n    if imagen.imagen_id\n      imagen.id     = imagen.imagen_id\n      imagen.nombre = imagen.imagen_nombre\n\n    modalInstance = $modal.open({\n      templateUrl: '==fileManager/removeImage.tpl.html'\n      controller: 'RemoveImageCtrl'\n      size: 'md',\n      resolve:\n        imagen: ()->\n          imagen\n        user_id: ()->\n          $scope.USER.user_id\n        datos_imagen: ()->\n\n          codigos =\n            imagen_id: if imagen.imagen_id then imagen.imagen_id else imagen.id\n            user_id: $scope.USER.user_id\n\n          $http.put('::myimages/datos-imagen', codigos).then((r)->\n            return $scope.datos_imagen = r.data\n          , (r2)->\n            toastr.error 'Error al traer datos de imagen', 'Problema'\n            return {}\n          )\n\n    })\n    modalInstance.result.then( (imag)->\n      $scope.new_publicacion.imagen \t\t\t\t= undefined\n      $scope.new_publicacion.imagen_nombre \t= undefined\n      $scope.new_publicacion.imagen_id \t\t\t= undefined\n      $scope.imgFiles               \t\t\t\t= []\n    )\n\n\n\n\n\n\n\n  $scope.seleccionar_profe = (profesor)->\n\n    $http.put('::historiales/de-usuario', {user_id: profesor.user_id}).then((r)->\n      $scope.profe_seleccionado = r.data\n      $scope.profe_seleccionado.profesor = profesor\n    , (r2)->\n      console.log 'Error trayendo detalles', r2\n    )\n\n  $scope.mostrar_crear_publicacion = ()->\n    $scope.creando_publicacion = true\n    $timeout(()->\n      $('#textarea-new-publicacion').focus()\n    )\n\n  # Editor options.\n  $scope.options = {\n    language: 'es',\n    allowedContent: true,\n    entities: false\n  };\n\n  # Called when the editor is completely ready.\n  $scope.onReady = ()->\n    console.log('Listo para editar')\n\n\n  $scope.desseleccionar_profe = ()->\n    $scope.profe_seleccionado = false\n\n\n\n  $scope.verDetalles = (change_asked)->\n    if change_asked.mostrando\n      change_asked.mostrando = false\n    else\n      change_asked.mostrando = true\n\n      if not change_asked.detalles\n        datos = { asked_id: change_asked.asked_id,  }\n\n        $http.put('::ChangesAsked/ver-detalles', datos).then((r)->\n          change_asked.detalles = r.data.detalles\n        , (r2)->\n          console.log 'Error trayendo detalles', r2\n        )\n\n\n\n  $scope.traerCatAlumnosPorGrupos = ()->\n\n    $http.put('::grupos/con-cantidad-alumnos').then((r)->\n      $scope.grupos_cantidades  = r.data.grupos\n      $scope.periodos_total     = r.data.periodos_total\n\n      $scope.cant_total_alumnos = 0\n\n      for grup in $scope.grupos_cantidades\n        $scope.cant_total_alumnos = $scope.cant_total_alumnos + grup.cant_alumnos\n\n    , (r2)->\n      console.log 'Error trayendo cantidad de alumnos', r2\n    )\n\n\n  $scope.rechazarCambio = (asked, tipo)->\n\n    modalInstance = $modal.open({\n      templateUrl: '==panel/rechazarAsked.tpl.html'\n      controller: 'RechazarAskedCtrl'\n      resolve:\n        asked: ()->\n          asked\n        tipo: ()->\n          tipo\n    })\n    modalInstance.result.then( (r)->\n      toastr.info 'Pedido rechazado.'\n      asked.finalizado = r.finalizado\n\n      if tipo == 'img_perfil' \tthen asked.detalles.image_id_accepted = false\n      if tipo == 'foto_oficial' \tthen asked.detalles.foto_id_accepted = false\n      if tipo == 'img_delete' \tthen asked.detalles.image_to_delete_accepted = false\n      if tipo == 'nombres' \tthen asked.detalles.nombres_accepted = false\n      if tipo == 'apellidos' \tthen asked.detalles.apellidos_accepted = false\n      if tipo == 'sexo' \tthen asked.detalles.sexo_accepted = false\n      if tipo == 'fecha_nac' \tthen asked.detalles.fecha_nac_accepted = false\n    )\n\n  $scope.aprobarCambio = (asked, tipo, valor_nuevo)->\n\n    modalInstance = $modal.open({\n      templateUrl: '==panel/aceptarAsked.tpl.html'\n      controller: 'AceptarAskedCtrl'\n      resolve:\n        asked: ()->\n          asked\n        tipo: ()->\n          tipo\n        valor_nuevo: ()->\n          valor_nuevo\n    })\n    modalInstance.result.then( (r)->\n      toastr.success 'Pedido aceptado.'\n      asked.finalizado = r.finalizado\n\n      if tipo == 'img_perfil' \tthen asked.detalles.image_id_accepted = true\n      if tipo == 'img_delete' \tthen asked.detalles.image_to_delete_accepted = true\n      if tipo == 'nombres' \t    then asked.detalles.nombres_accepted = true\n      if tipo == 'apellidos' \t  then asked.detalles.apellidos_accepted = true\n      if tipo == 'sexo' \t      then asked.detalles.sexo_accepted = true\n      if tipo == 'fecha_nac' \t  then asked.detalles.fecha_nac_accepted = true\n      if tipo == 'foto_oficial'\n        asked.detalles.foto_id_accepted = true\n        asked.foto_nombre \t\t\t\t= asked.detalles.foto_new_nombre\n\n      if tipo == 'asignatura' then asked.finalizado = true\n\n    )\n\n  $scope.eliminarSolicitudes = (asked)->\n\n    modalInstance = $modal.open({\n      templateUrl: '==panel/eliminarAsked.tpl.html'\n      controller: 'EliminarAskedCtrl'\n      resolve:\n        asked: ()->\n          asked\n    })\n    modalInstance.result.then( (r)->\n      toastr.success 'Pedido eliminado.'\n      asked.finalizado = true\n    )\n\n\n  $scope.verDetalleDeMiSesion = (historial)->\n\n\n    $http.put('::historiales/sesion', { historial_id: historial.id, tipo: historial.tipo }).then((r)->\n\n      modalInstance = $modal.open({\n        templateUrl: '==panel/modalDetallesSesion.tpl.html'\n        controller: 'ModalDetallesSesionCtrl'\n        resolve:\n          historial: ()->\n            r.data.historial\n      })\n      modalInstance.result.then( (r)->\n        console.log historial\n      )\n\n    , (r2)->\n      toastr.error 'No se pudo traer el detalle'\n    )\n\n\n\n\n  $scope.eliminarIntentoFallido = (intento)->\n    res = false\n    res = confirm('¿Está seguro de eliminar este registro?')\n\n    if res\n\n      $http.delete('::bitacoras/destroy/'+intento.id).then((r)->\n          toastr.success 'Eliminado. Recargue para ver los cambios.'\n          intento.eliminada = true\n          $scope.changes_asked.intentos_fallidos = $filter('filter')($scope.changes_asked.intentos_fallidos, {id: '!'+intento.id}, true)\n      , (r2)->\n        toastr.error 'No se pudo eliminar'\n      )\n\n\n\n])\n\n\n\n"
  ]
}