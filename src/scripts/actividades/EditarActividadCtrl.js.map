{
  "version": 3,
  "file": "EditarActividadCtrl.js",
  "sourceRoot": "",
  "sources": [
    "EditarActividadCtrl.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "'use strict'\n\nangular.module(\"myvcFrontApp\")\n\n.controller('EditarActividadCtrl', ['$scope', 'App', '$rootScope', '$state', '$http', '$uibModal', '$filter', 'AuthService', 'datos', 'toastr', '$stateParams', '$timeout', '$location', '$anchorScroll', ($scope, App, $rootScope, $state, $http, $modal, $filter, AuthService, datos, toastr, $stateParams, $timeout, $location, $anchorScroll)->\n\n\tAuthService.verificar_acceso()\n\n\t$scope.actividad_id \t= $stateParams.actividad_id\n\t$scope.datos \t\t\t= { selected_grupos: [] }\n\t$scope.mostrando_detalles_actividad = true\n\n\t$scope.perfilPath \t\t= App.images + 'perfil/'\n\t$scope.views \t\t\t= App.views\n\n\t$scope.actividad \t= datos.actividad\n\t$scope.grupos \t\t= datos.grupos\n\t$scope.compartidas \t= datos.compartidas\n\n\n\tfor compart in $scope.compartidas\n\t\tfor grupo in $scope.grupos\n\t\t\tif grupo.id == compart.grupo_id\n\t\t\t\t$scope.datos.selected_grupos.push grupo\n\n\n\n\tif $scope.actividad.finaliza_at\n\t\t$scope.actividad.finaliza_at = new Date($scope.actividad.finaliza_at)\n\telse\n\t\t$scope.actividad.finaliza_at = new Date()\n\t\n\tif $scope.actividad.inicia_at\n\t\t$scope.actividad.inicia_at = new Date($scope.actividad.inicia_at)\n\telse\n\t\t$scope.actividad.inicia_at = new Date()\n\n\t$scope.actividad.para_alumnos \t\t= if $scope.actividad.para_alumnos \t\tthen true else false\n\t$scope.actividad.para_profesores \t= if $scope.actividad.para_profesores \tthen true else false\n\t$scope.actividad.para_acudientes \t= if $scope.actividad.para_acudientes \tthen true else false\n\t\n\t$scope.editor_options = \n\t\tallowedContent: true,\n\t\tentities: false\n\n\n\n\t$scope.restar = (modelo)->\n\t\tif $scope.actividad[modelo] > 0\n\t\t\t$scope.actividad[modelo] = $scope.actividad[modelo] - 1\n\t$scope.sumar = (modelo)->\n\t\tif $scope.actividad[modelo] < 1000\n\t\t\t$scope.actividad[modelo] = parseInt($scope.actividad[modelo]) + 1\n\n\t$scope.onEditorReady = ()->\n\t\tconsole.log 'Editor listo'\n\n\taddZero = (i)->\n\t\tif (i < 10)\n\t\t\ti = \"0\" + i;\n\t\treturn i;\n\n\n\t$scope.ftime_to_string = (ftime)->\n\t\th = addZero(ftime.getHours());\n\t\tm = addZero(ftime.getMinutes());\n\t\ts = addZero(ftime.getSeconds());\n\t\td = ftime.yyyymmdd();\n\t\tres = d + \"T\" + h + \":\" + m + \":\" + s + \".000Z\";\n\n\t$scope.guardarActividad = (salir)->\n\t\tfinaliza_at \t= $scope.ftime_to_string($scope.actividad.finaliza_at)\n\t\t$scope.actividad.finaliza_at_str \t= finaliza_at\n\t\tinicia_at \t\t= $scope.ftime_to_string($scope.actividad.inicia_at)\n\t\t$scope.actividad.inicia_at_str \t\t= inicia_at\n\n\t\t$http.put('::actividades/guardar', $scope.actividad ).then((r)->\n\t\t\tr = r.data\n\t\t\ttoastr.success 'Cambios guardados'\n\t\t\t\n\t\t\tif salir\n\t\t\t\t$state.go('panel.actividades', { asign_id: $scope.actividad.asignatura_id })\n\n\t\t(r2)->\n\t\t\ttoastr.error 'No se pudo guardar cambios'\n\t\t)\n\n\n\n\t$scope.editar_pregunta = (pregunta)->\n\t\t$state.go('panel.editar_actividad', { actividad_id: $scope.actividad.id })\n\t\tlocalStorage.pregunta_edit = JSON.stringify(pregunta)\n\t\t\n\t\t$timeout ()->\n\t\t\t$state.go 'panel.editar_actividad.pregunta'\n\n\t\t\n\t$scope.crearPregunta = ()->\n\t\tdatos = \n\t\t\tactividad_id: $scope.actividad_id\n\n\t\t$http.post('::preguntas/crear', datos ).then((r)->\n\t\t\tr = r.data\n\t\t\t$scope.actividad.preguntas.push r\n\t\t\t$scope.editar_pregunta(r)\n\t\t(r2)->\n\t\t\ttoastr.error 'No se pudo crear pregunta'\n\t\t)\n\n\t$scope.cambios_pregunta_guardados = (preg_editada)->\n\t\t$scope.actividad.preguntas = $filter('filter')($scope.actividad.preguntas, {id: '!'+preg_editada.id})\n\t\t$scope.actividad.preguntas.push preg_editada\n\t\t$scope.actividad.preguntas = $filter('orderBy')($scope.actividad.preguntas, 'orden')\n\n\n\t\t\n\n\t$scope.duplicar_pregunta = (pregunta)->\n\t\tpregunta.orden = $scope.actividad.preguntas.length\n\t\t$http.put('::preguntas/duplicar-pregunta', pregunta ).then((r)->\n\t\t\tr = r.data\n\t\t\ttoastr.success 'Pregunta duplicada'\n\t\t\t$scope.actividad.preguntas.push r\n\t\t\t$timeout(()->\n\t\t\t\t$location.hash('end-preguntas');\n\t\t\t\t$anchorScroll();\n\t\t\t)\n\t\t(r2)->\n\t\t\ttoastr.error 'No se pudo duplicar'\n\t\t)\n\n\n\t$scope.on_sort_preguntas = ($item, $partFrom, $partTo, $indexFrom, $indexTo)->\n\t\t\n\t\tsortHash = []\n\n\t\tfor pregunta, index in $partFrom #subunidades\n\t\t\tpregunta.orden = index\n\n\t\t\thashEntry = {}\n\t\t\thashEntry[\"\" + pregunta.id] = index\n\t\t\tsortHash.push(hashEntry)\n\t\t\n\t\tdatos = \n\t\t\tsortHash: sortHash\n\t\t\n\t\t$http.put('::preguntas/update-orden', datos).then((r)->\n\t\t\treturn true\n\t\t, (r2)->\n\t\t\ttoastr.warning 'No se pudo ordenar', 'Problema'\n\t\t\treturn false;\n\t\t)\n\n\n\t$scope.para_alumnos_toggle = (para)->\n\t\t\n\t\t$http.put('::actividades/para-alumnos-toggle', {actividad_id: $scope.actividad.id, para_alumnos: para}).then((r)->\n\t\t\tif para\n\t\t\t\ttoastr.success 'Debe haber al menos un grupo seleccionado'\n\t\t\telse\n\t\t\t\ttoastr.info 'No la realizarán los alumnos'\n\t\t, (r2)->\n\t\t\ttoastr.warning 'No se pudo guardar cambio', 'Problema'\n\t\t\treturn false;\n\t\t)\n\n\t$scope.para_profesores_toggle = (para_prof)->\n\t\t\n\t\t$http.put('::actividades/para-profesores-toggle', {actividad_id: $scope.actividad.id, para_profesores: para_prof}).then((r)->\n\t\t\tif para_prof\n\t\t\t\ttoastr.success 'La realizarán los docentes'\n\t\t\telse\n\t\t\t\ttoastr.info 'No la realizarán los docentes'\n\t\t, (r2)->\n\t\t\ttoastr.warning 'No se pudo guardar cambio', 'Problema'\n\t\t\treturn false;\n\t\t)\n\n\n\t$scope.para_acudientes_toggle = (para)->\n\t\t\n\t\t$http.put('::actividades/para-acudientes-toggle', {actividad_id: $scope.actividad.id, para_acudientes: para}).then((r)->\n\t\t\tif para\n\t\t\t\ttoastr.success 'La realizarán los acudientes'\n\t\t\telse\n\t\t\t\ttoastr.info 'No la realizarán los acudientes'\n\t\t, (r2)->\n\t\t\ttoastr.warning 'No se pudo guardar cambio', 'Problema'\n\t\t\treturn false;\n\t\t)\n\n\n\t$scope.toggle_compartida = (compar)->\n\t\t\n\t\t$http.put('::actividades/set-compartida', {actividad_id: $scope.actividad.id, compartida: compar}).then((r)->\n\t\t\ttoastr.success 'Compartida: ' + compar\n\t\t, (r2)->\n\t\t\ttoastr.warning 'No se pudo establecer compartida', 'Problema'\n\t\t\treturn false;\n\t\t)\n\n\n\t$scope.select_grupo_compartido = ($item)->\n\t\t\n\t\t$http.put('::actividades/insert-grupo-compartido', {actividad_id: $scope.actividad.id, grupo_id: $item.id}).then((r)->\n\t\t\ttoastr.success 'Grupo agregado'\n\t\t, (r2)->\n\t\t\ttoastr.warning 'No se pudo agregar grupo', 'Problema'\n\t\t\treturn false;\n\t\t)\n\n\n\t$scope.quitando_grupo_compartido = ($item)->\n\t\t\n\t\t$http.put('::actividades/quitando-grupo-compartido', {actividad_id: $scope.actividad.id, grupo_id: $item.id}).then((r)->\n\t\t\ttoastr.success 'Grupo quitado'\n\t\t, (r2)->\n\t\t\ttoastr.warning 'No se pudo quitar grupo', 'Problema'\n\t\t\treturn false;\n\t\t)\n\n\t$scope.ver_preguntas = ()->\n\t\t$scope.mostrando_preguntas = true\n\t\t$scope.mostrando_detalles_actividad = false\n\n\t$scope.ver_detalles_actividad = ()->\n\t\t$scope.mostrando_detalles_actividad = true\n\n\treturn\n])\n\n\n"
  ]
}