{
  "version": 3,
  "file": "YearsCtrl.js",
  "sourceRoot": "",
  "sources": [
    "YearsCtrl.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "'use strict'\n\nangular.module('myvcFrontApp')\n.controller('YearsCtrl', ['App', '$scope', '$http', '$uibModal', '$state', 'ProfesoresServ', '$cookies', '$rootScope', '$filter', 'toastr', '$timeout',\n\t(App, $scope, $http, $modal, $state, ProfesoresServ, $cookies, $rootScope, $filter, toastr, $timeout) ->\n\n\t\t#$scope.config = {alumnos_can_see_notas: $scope.USER.alumnos_can_see_notas}\n\t\t$scope.perfilPath = App.images + 'perfil/'\n\t\t$scope.status     = {\n\t\t\topen_year: true\n\t\t}\n\n\t\t$http.get('::years/colegio').then((r)->\n\t\t\tr = r.data\n\n\t\t\tfor anio in r.years\n\t\t\t\tfor perio in anio.periodos\n\t\t\t\t\tconsole.log(perio)\n\t\t\t\t\tperio.fecha_inicio \t= new Date(perio.fecha_inicio)\n\t\t\t\t\tperio.fecha_fin \t= new Date(perio.fecha_fin)\n\t\t\t\t\tperio.fecha_plazo \t= new Date(perio.fecha_plazo)\n\n\t\t\t$scope.years \t\t\t= r.years\n\t\t\t$scope.certificados \t= r.certificados\n\t\t\t$scope.imagenes \t\t= r.imagenes\n\n\n\t\t\t$http.get('::profesores/todos').then((r)->\n\t\t\t\t$scope.profesores = r.data\n\t\t\t\t# Arreglamos paneles y selects cuando ya han llegado todos los datos\n\t\t\t\t$scope.fixControles()\n\t\t\t, (r2)->\n\t\t\t\ttoastr.error 'No se pudo traer los profesores'\n\t\t\t)\n\n\t\t\t$timeout(()->\n\t\t\t\t$scope.cargado = true;\n\t\t\t, 100)\n\n\t\t, (r)->\n\t\t\ttoastr.error 'No se trajeron los años'\n\t\t)\n\n\n\t\t$scope.fixControles = ()->\n\t\t\tultimo = $scope.years.length-1\n\n\t\t\t$scope.newcertif = {}\n\t\t\t$scope.newYear = {\n\t\t\t\tnombre_colegio:\t\t\t$scope.years[ultimo].nombre_colegio\n\t\t\t\tabrev_colegio:\t\t\t$scope.years[ultimo].abrev_colegio\n\t\t\t\tyear: \t\t\t\t\t$scope.years[ultimo].year + 1\n\t\t\t\tactual:\t\t\t\t\ttrue\n\t\t\t\talumnos_can_see_notas:\ttrue\n\t\t\t\tnota_minima_aceptada:\t$scope.years[ultimo].nota_minima_aceptada\n\t\t\t\tresolucion:\t\t\t\t$scope.years[ultimo].resolucion\n\t\t\t\tcodigo_dane:\t\t\t$scope.years[ultimo].codigo_dane\n\t\t\t\ttelefono:\t\t\t\t$scope.years[ultimo].telefono\n\t\t\t\tcelular:\t\t\t\t$scope.years[ultimo].celular\n\t\t\t\tunidad_displayname:\t\t$scope.years[ultimo].unidad_displayname\n\t\t\t\tunidades_displayname:\t$scope.years[ultimo].unidades_displayname\n\t\t\t\tgenero_unidad:\t\t\t$scope.years[ultimo].genero_unidad\n\t\t\t\tsubunidad_displayname:\t$scope.years[ultimo].subunidad_displayname\n\t\t\t\tsubunidades_displayname:$scope.years[ultimo].subunidades_displayname\n\t\t\t\tgenero_subunidad:\t\t$scope.years[ultimo].genero_subunidad\n\t\t\t}\n\n\n\t\t\tfor year_cambiar in $scope.years\n\t\t\t\t# Abramos panel del año actual\n\t\t\t\tyear_cambiar.ocultando = if year_cambiar.actual then false else true\n\n\t\t\t\t# Arreglemos los selects\n\t\t\t\tyear_cambiar.rector \t=\t$filter('filter')($scope.profesores, profesor_id: year_cambiar.rector_id, true)[0]\n\t\t\t\tyear_cambiar.secretario =\t$filter('filter')($scope.profesores, profesor_id: year_cambiar.secretario_id, true)[0]\n\t\t\t\tyear_cambiar.tesorero \t=\t$filter('filter')($scope.profesores, profesor_id: year_cambiar.tesorero_id, true)[0]\n\n\n\n\n\t\t$scope.addPeriodo = (year)->\n\n\t\t\tmodalInstance = $modal.open({\n\t\t\ttemplateUrl: '==colegio/addPeriodo.tpl.html'\n\t\t\tcontroller: 'AddPeriodoCtrl'\n\t\t\tresolve:\n\t\t\t\tyear: ()->\n\t\t\t\t\tyear\n\t\t\t})\n\t\t\tmodalInstance.result.then( (periodo)->\n\t\t\t\tyear.periodos.push periodo\n\t\t\t)\n\n\n\n\t\t$scope.removePeriodo = (year, periodo)->\n\n\t\t\tmodalInstance = $modal.open({\n\t\t\ttemplateUrl: '==colegio/removePeriodo.tpl.html'\n\t\t\tcontroller: 'RemovePeriodoCtrl'\n\t\t\tresolve:\n\t\t\t\tperiodo: ()->\n\t\t\t\t\tperiodo\n\t\t\t})\n\t\t\tmodalInstance.result.then( (periodo)->\n\t\t\t\tyear.periodos = $filter('filter')(year.periodos, {id: '!'+periodo.id})\n\t\t\t)\n\n\n\t\t$scope.toggleAnioActual = (year_id, can)->\n\t\t\t$http.put('::years/set-actual', { can: can, year_id: year_id }).then((r)->\n\t\t\t\ttoastr.success r.data\n\t\t\t, (r2)->\n\t\t\t\ttoastr.warning 'No se establecer como actual.', 'Problema'\n\t\t\t)\n\n\n\n\t\t$scope.toggleBloquearNotas = (year_id, can)->\n\t\t\t$http.put('::years/alumnos-can-see-notas', { can: can, year_id: year_id }).then((r)->\n\t\t\t\ttoastr.success r.data\n\t\t\t, (r2)->\n\t\t\t\ttoastr.warning 'No se pudo bloquear o desbloquear el sistema.', 'Problema'\n\t\t\t)\n\n\n\n\t\t$scope.toggleBloquearProfesEditAlumnos = (year_id, can)->\n\t\t\t$http.put('::years/profes-can-edit-alumnos', { can: can, year_id: year_id }).then((r)->\n\t\t\t\ttoastr.success r.data\n\t\t\t, (r2)->\n\t\t\t\ttoastr.warning 'No se pudo bloquear o desbloquear la edición.', 'Problema'\n\t\t\t)\n\n\n\t\t$scope.toggleMostrarPuestoEnBoletin = (year_id, can)->\n\t\t\t$http.put('::years/toggle-mostrar-puestos-en-boletin', { can: can, year_id: year_id }).then((r)->\n\t\t\t\ttoastr.success r.data\n\t\t\t, (r2)->\n\t\t\t\ttoastr.warning 'No se pudo bloquear o desbloquear la edición.', 'Problema'\n\t\t\t)\n\n\t\t$scope.toggleMostrarNotaComportamientoEnBoletin = (year_id, can)->\n\t\t\t$http.put('::years/toggle-mostrar-nota-comport-en-boletin', { can: can, year_id: year_id }).then((r)->\n\t\t\t\ttoastr.success r.data\n\t\t\t, (r2)->\n\t\t\t\ttoastr.warning 'No se pudo cambiar.', 'Problema'\n\t\t\t)\n\n\n\t\t$scope.toggleMostrarAnioPasado = (year_id, can)->\n\t\t\t$http.put('::years/toggle-mostrar-anio-pasado-en-boletin', { can: can, year_id: year_id }).then((r)->\n\t\t\t\ttoastr.success r.data\n\t\t\t, (r2)->\n\t\t\t\ttoastr.warning 'No se pudo cambiar.', 'Problema'\n\t\t\t)\n\n\n\t\t$scope.toggleIgnorarNotasPerdidas = (year_id, can)->\n\t\t\t$http.put('::years/toggle-ignorar-notas-perdidas', { can: can, year_id: year_id }).then((r)->\n\t\t\t\ttoastr.success r.data\n\t\t\t, (r2)->\n\t\t\t\ttoastr.warning 'No se pudo bloquear o desbloquear la edición.', 'Problema'\n\t\t\t)\n\n\n\t\t$scope.restarNewYear = ()->\n\t\t\tif $scope.newYear.year > 1990\n\t\t\t\t$scope.newYear.year = $scope.newYear.year - 1\n\t\t$scope.sumarNewYear = ()->\n\t\t\tif $scope.newYear.year < 3000\n\t\t\t\t$scope.newYear.year = $scope.newYear.year + 1\n\n\n\n\t\t$scope.restarNewNota = ()->\n\t\t\tif $scope.newYear.nota_minima_aceptada > 0\n\t\t\t\t$scope.newYear.nota_minima_aceptada = $scope.newYear.nota_minima_aceptada - 0.1\n\t\t$scope.sumarNewNota = ()->\n\t\t\tif $scope.newYear.nota_minima_aceptada < 1000\n\t\t\t\t$scope.newYear.nota_minima_aceptada = $scope.newYear.nota_minima_aceptada + 0.1\n\n\n\n\t\t$scope.actualPeriodo = (year, periodo)->\n\n\t\t\t$http.put('::periodos/establecer-actual/'+periodo.id).then((r)->\n\t\t\t\ttoastr.success 'Periodo ' + periodo.numero + ' establecido como actual.'\n\t\t\t\tfor peri in year.periodos\n\t\t\t\t\tperi.actual = false\n\t\t\t\tperiodo.actual = true\n\n\t\t\t, (r2)->\n\t\t\t\ttoastr.warning 'No se pudo establecer como actual.', 'Problema'\n\t\t\t)\n\n\n\n\t\t$scope.crearNewYear = ()->\n\n\t\t\t$http.post('::years/store', $scope.newYear).then((r)->\n\t\t\t\ttoastr.success 'Año ' + $scope.newYear.year + ' creado. Por favor configúrelo.'\n\t\t\t\t$scope.nonuevo = false\n\n\t\t\t\tfor year in $scope.years\n\t\t\t\t\tyear.actual = 0\n\n\t\t\t\t$scope.years.push r.data\n\t\t\t, (r2)->\n\t\t\t\ttoastr.warning 'No se pudo crear año.', 'Problema'\n\t\t\t)\n\n\n\t\t$scope.guardar_cambios = (year)->\n\t\t\tyear.rector_id \t\t\t= if year['rector'] then year['rector'].profesor_id else null\n\t\t\tyear.secretario_id \t\t= if year['secretario'] then year['secretario'].profesor_id else null\n\t\t\tyear.tesorero_id \t\t= if year['tesorero'] then year['tesorero'].profesor_id else null\n\n\t\t\t$http.put('::years/guardar-cambios', year).then((r)->\n\t\t\t\ttoastr.success 'Cambios guardados.'\n\t\t\t, (r2)->\n\t\t\t\ttoastr.warning 'No se pudo guardar cambios.', 'Problema'\n\t\t\t)\n\n\n\n\n\t\t$scope.deleteYear = (year)->\n\n\t\t\tmodalInstance = $modal.open({\n\t\t\t\ttemplateUrl: '==colegio/removeYear.tpl.html'\n\t\t\t\tcontroller: 'RemoveYearCtrl'\n\t\t\t\tresolve:\n\t\t\t\t\tyear: ()->\n\t\t\t\t\t\tyear\n\t\t\t})\n\t\t\tmodalInstance.result.then( (year)->\n\t\t\t\t$scope.years = $filter('filter')($scope.years, {id: '!'+year.id})\n\t\t\t)\n\n\t\t$scope.cambiarFechaInicio = (periodo, fecha)->\n\t\t\t$http.put('::periodos/cambiar-fecha-inicio', {periodo_id: periodo.id, fecha: fecha }).then((r)->\n\t\t\t\ttoastr.success 'Fecha guardada.'\n\t\t\t, (r2)->\n\t\t\t\ttoastr.warning 'No se pudo guardar fecha.', 'Problema'\n\t\t\t)\n\n\t\t$scope.cambiarFechaFin = (periodo, fecha)->\n\t\t\t$http.put('::periodos/cambiar-fecha-fin', {periodo_id: periodo.id, fecha: fecha }).then((r)->\n\t\t\t\ttoastr.success 'Fecha guardada.'\n\t\t\t, (r2)->\n\t\t\t\ttoastr.warning 'No se pudo guardar fecha.', 'Problema'\n\t\t\t)\n\n\t\t$scope.toggleProfesPuedenEditarNotas = (periodo, pueden)->\n\t\t\t$http.put('::periodos/toggle-profes-pueden-editar-notas', {periodo_id: periodo.id, pueden: pueden }).then((r)->\n\t\t\t\ttoastr.success 'Cambiado.'\n\t\t\t, (r2)->\n\t\t\t\ttoastr.warning 'No se pudo guardar fecha.', 'Problema'\n\t\t\t)\n\n\t\t$scope.toggleProfesPuedenNivelar = (periodo, pueden)->\n\t\t\t$http.put('::periodos/toggle-profes-pueden-nivelar', {periodo_id: periodo.id, pueden: pueden }).then((r)->\n\t\t\t\ttoastr.success 'Cambiado.'\n\t\t\t, (r2)->\n\t\t\t\ttoastr.warning 'No se pudo guardar fecha.', 'Problema'\n\t\t\t)\n\n\n\n\n\n\n\t\treturn\n\n\n\n\t]\n)\n\n\n.controller('RemoveYearCtrl', ['$scope', '$uibModalInstance', 'year', '$http', 'toastr', ($scope, $modalInstance, year, $http, toastr)->\n\t$scope.year = year\n\n\t$scope.ok = ()->\n\n\t\t$http.delete('::years/delete/'+year.id).then((r)->\n\t\t\ttoastr.success 'Año ' + year.year + ' enviado a la papelera.'\n\t\t\t$modalInstance.close(year)\n\t\t, (r2)->\n\t\t\ttoastr.warning 'No se pudo eliminar el año.', 'Problema'\n\t\t\t$modalInstance.dismiss()\n\t\t)\n\n\n\n\t$scope.cancel = ()->\n\t\t$modalInstance.dismiss('cancel')\n\n])\n\n.controller('RemovePeriodoCtrl', ['$scope', '$uibModalInstance', 'periodo', '$http', 'toastr', ($scope, $modalInstance, periodo, $http, toastr)->\n\t$scope.periodo = periodo\n\n\t$scope.ok = ()->\n\n\t\t$http.delete('::periodos/destroy/'+periodo.id).then((r)->\n\t\t\ttoastr.success 'Periodo eliminado con éxito.', 'Eliminado'\n\t\t\t$modalInstance.close(periodo)\n\t\t, (r2)->\n\t\t\ttoastr.warning 'No se pudo eliminar el periodo.', 'Problema'\n\t\t\t$modalInstance.dismiss()\n\t\t)\n\n\n\t$scope.cancel = ()->\n\t\t$modalInstance.dismiss('cancel')\n\n])\n\n.controller('AddPeriodoCtrl', ['$scope', '$uibModalInstance', 'year', '$http', 'toastr', ($scope, $modalInstance, year, $http, toastr)->\n\t$scope.year = year\n\n\t$scope.new_periodo = {}\n\t$scope.year_id = $scope.year.id\n\n\n\t$scope.ok = ()->\n\n\t\t$http.post('::periodos/store/'+year.id, $scope.new_periodo).then((r)->\n\t\t\ttoastr.success 'Periodo creado con éxito.', 'Creado'\n\t\t\t$modalInstance.close(r.data)\n\t\t, (r2)->\n\t\t\ttoastr.warning 'No se pudo crear el periodo.', 'Problema'\n\t\t\t$modalInstance.dismiss()\n\t\t)\n\n\t$scope.cancel = ()->\n\t\t$modalInstance.dismiss('cancel')\n\n])\n"
  ]
}