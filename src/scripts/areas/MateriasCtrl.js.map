{
  "version": 3,
  "file": "MateriasCtrl.js",
  "sourceRoot": "",
  "sources": [
    "MateriasCtrl.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "angular.module(\"myvcFrontApp\")\n\n.controller('MateriasCtrl', ['$scope', 'toastr', '$http', 'areas', '$uibModal', '$filter', ($scope, toastr, $http, areas, $modal, $filter)->\n\n\t$scope.creando = false\n\t$scope.editando = false\n\t$scope.currentmateria = {}\n\t$scope.currenmateriaEdit = {}\n\t$scope.areas = areas\n\n\t$scope.gridScope = $scope # Para getExternalScopes de ui-Grid\n\n\t$scope.cancelarCrear = ()->\n\t\t$scope.creando = false\n\n\t$scope.cancelarEdit = ()->\n\t\t$scope.editando = false\n\n\t$scope.crear = ()->\n\t\t$http.post('::materias', $scope.currentmateria).then((r)->\n\t\t\t$scope.gridOptions.data.push r.data\n\t\t\tdelete $scope.currentmateria\n\t\t\ttoastr.success 'Materia creada con éxito'\n\t\t, (r2)->\n\t\t\ttoastr.error 'Error creando', 'Problema'\n\t\t)\n\n\t$scope.guardar = ()->\n\t\t$http.put('::materias/update/'+$scope.currentmateriaEdit.id, $scope.currentmateriaEdit).then((r)->\n\t\t\t$scope.currentmateriaEdit.area_id = r.data.area_id # Para actulizar el grid\n\t\t\tdelete $scope.currentmateriaEdit\n\t\t\ttoastr.success 'Materia actualizada con éxito'\n\t\t\t$scope.cancelarEdit()\n\t\t, (r2)->\n\t\t\ttoastr.error 'Error guardando', 'Problema'\n\t\t)\n\n\t$scope.editar = (row)->\n\t\trow.area = $filter('filter')(areas, id: row.area_id)[0]\n\t\t$scope.currentmateriaEdit = row\n\t\t$scope.editando = true\n\n\t$scope.eliminar = (row)->\n\n\t\tmodalInstance = $modal.open({\n\t\t\ttemplateUrl: '==areas/removeMateria.tpl.html'\n\t\t\tcontroller: 'RemovemateriaCtrl'\n\t\t\tresolve:\n\t\t\t\tmateria: ()->\n\t\t\t\t\trow\n\t\t})\n\t\tmodalInstance.result.then( (materia)->\n\t\t\t$scope.gridOptions.data = $filter('filter')($scope.gridOptions.data, {id: '!'+materia.id})\n\t\t)\n\n\tbtGrid1 = '<a uib-tooltip=\"Editar\" tooltip-placement=\"right\" class=\"btn btn-default btn-xs shiny icon-only info\" ng-click=\"grid.appScope.editar(row.entity)\"><i class=\"fa fa-edit \"></i></a>'\n\tbtGrid2 = '<a uib-tooltip=\"X Eliminar\" tooltip-placement=\"right\" class=\"btn btn-default btn-xs shiny icon-only danger\" ng-click=\"grid.appScope.eliminar(row.entity)\"><i class=\"fa fa-times \"></i></a>'\n\t$scope.gridOptions =\n\t\tenableSorting: true,\n\t\tenableFiltering: true,\n\t\tenebleGridColumnMenu: false,\n\t\tenableCellEditOnFocus: true,\n\t\tmultiSelect: false,\n\t\tcolumnDefs: [\n\t\t\t{ field: 'id', type: 'number', maxWidth: 50, enableFiltering: false }\n\t\t\t{ name: 'edicion', displayName:'Edición', maxWidth: 50, enableSorting: false, enableFiltering: false, cellTemplate: btGrid1 + btGrid2, enableCellEdit: false}\n\t\t\t{ field: 'materia', enableHiding: false,\n\t\t\tfilter: {\n\t\t\t\tcondition: (searchTerm, cellValue, row)->\n\t\t\t\t\tfoundG \t= $filter('filter')($scope.gridOptions.data, {materia: searchTerm})\n\t\t\t\t\tactual \t= $filter('filter')(foundG, {materia: cellValue})\n\t\t\t\t\treturn actual.length > 0;\n\t\t\t}\n\t\t\t}\n\t\t\t{ field: 'alias', displayName:'Alias' }\n\t\t\t{ field: 'area_id', displayName: 'Area', editDropdownOptionsArray: areas, cellFilter: 'mapAreas:grid.appScope.areas', editableCellTemplate: 'ui-grid/dropdownEditor',\n\t\t\tfilter: {\n\t\t\t\tcondition: (searchTerm, cellValue)->\n\t\t\t\t\tfoundG \t= $filter('filter')($scope.areas, {nombre: searchTerm})\n\t\t\t\t\tactual \t= $filter('filter')(foundG, {id: cellValue}, true)\n\t\t\t\t\treturn actual.length > 0;\n\t\t\t}\n\t\t\teditDropdownIdLabel: 'id', editDropdownValueLabel: 'nombre' }\n\t\t\t{ name: 'nn', displayName: '', maxWidth: 20, enableSorting: false, enableFiltering: false }\n\t\t],\n\t\tonRegisterApi: ( gridApi ) ->\n\t\t\t$scope.gridApi = gridApi\n\t\t\tgridApi.edit.on.afterCellEdit($scope, (rowEntity, colDef, newValue, oldValue)->\n\n\t\t\t\tif newValue != oldValue\n\t\t\t\t\t$scope.currentmateriaEdit = rowEntity\n\t\t\t\t\t$scope.guardar()\n\t\t\t\t$scope.$apply()\n\t\t\t)\n\n\n\n\t$http.get('::materias').then((r)->\n\t\t$scope.gridOptions.data = r.data.materias\n\t\t$scope.areas            = r.data.mat_por_areas\n\t\t$scope.areas            = $filter('orderBy')($scope.areas, 'orden')\n\t\tfor area in $scope.areas\n\t\t\tarea.materias            = $filter('orderBy')(area.materias, 'orden')\n\n\t)\n\n\n\n\n\t$scope.onSortMaterias = ($item, $partFrom, $partTo, $indexFrom, $indexTo, $modeloPadre)->\n\n\t\tsortHash1 \t= []\n\t\tsortHash2 \t= []\n\t\tdatos \t\t= {}\n\n\t\tconsole.log $partTo, $item, $modeloPadre.area\n\n\t\tfor materia, index in $partFrom\n\t\t\tmateria.orden = index\n\n\t\t\thashEntry = {}\n\t\t\thashEntry[\"\" + materia.id] = index\n\t\t\tsortHash1.push(hashEntry)\n\n\t\tdatos.partFrom =\n\t\t\tsortHash: sortHash1\n\n\n\t\tif $partFrom != $partTo\n\t\t\tfor materia, index in $partTo\n\t\t\t\tmateria.orden = index\n\n\t\t\t\thashEntry = {}\n\t\t\t\thashEntry[\"\" + materia.id] = index\n\t\t\t\tsortHash2.push(hashEntry)\n\n\t\t\tdatos.partTo =\n\t\t\t\tsortHash: sortHash2\n\t\t\t\tarea_id:  $modeloPadre.area.id\n\n\n\n\t\t$http.put('::materias/update-orden', datos).then((r)->\n\t\t\treturn true\n\t\t, (r2)->\n\t\t\ttoastr.warning 'No se pudo ordenar', 'Problema'\n\t\t\treturn false;\n\t\t)\n\n\n\n\t$scope.onSortAreas = ($item, $partFrom, $partTo, $indexFrom, $indexTo)->\n\n\t\tsortHash = []\n\n\t\tconsole.log $item, $partFrom, $partTo, $indexFrom, $indexTo\n\n\t\tfor area, index in $partFrom\n\t\t\tarea.orden = index\n\n\t\t\thashEntry = {}\n\t\t\thashEntry[\"\" + area.id] = index\n\t\t\tsortHash.push(hashEntry)\n\n\t\tdatos =\n\t\t\tsortHash: sortHash\n\n\t\t$http.put('::areas/update-orden', datos).then((r)->\n\t\t\treturn true\n\t\t, (r2)->\n\t\t\ttoastr.warning 'No se pudo ordenar', 'Problema'\n\t\t\treturn false;\n\t\t)\n\n\n\n\n\n\n\n])\n\n.filter('mapAreas', ['$filter', ($filter)->\n\n\treturn (input, areas)->\n\t\tif not input\n\t\t\treturn 'Elija...'\n\t\telse\n\t\t\tarea = $filter('filter')(areas, {id: input})[0]\n\t\t\tif area\n\t\t\t\treturn  area.nombre\n\t\t\telse\n\t\t\t\treturn 'Elija...'\n])\n\n.controller('RemovemateriaCtrl', ['$scope', '$uibModalInstance', 'materia', '$http', 'toastr', ($scope, $modalInstance, materia, $http, toastr)->\n\t$scope.materia = materia\n\n\t$scope.ok = ()->\n\n\t\t$http.delete('::materias/destroy/'+materia.id).then((r)->\n\t\t\ttoastr.success 'Materia '+materia.nombre+' eliminada con éxito.', 'Eliminada'\n\t\t, (r2)->\n\t\t\ttoastr.warning 'Problema', 'No se pudo eliminar la Materia.'\n\t\t)\n\t\t$modalInstance.close(materia)\n\n\t$scope.cancel = ()->\n\t\t$modalInstance.dismiss('cancel')\n\n])\n"
  ]
}