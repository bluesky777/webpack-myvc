{
  "version": 3,
  "file": "DownloadServ.js",
  "sourceRoot": "",
  "sources": [
    "DownloadServ.coffee"
  ],
  "names": [],
  "mappings": "AAAA;EAAA,OAAO,CAAC,MAAR,CAAe,cAAf,CAEA,CAAC,OAFD,CAES,cAFT,EAEyB;IAAC,OAAD;IAAU,IAAV;IAAgB,QAAA,CAAC,KAAD;IAAQ,EAAR,CAAA;AACxC,UAAA;MAAA,GAAA,GAAM,CAAA;MAEN,GAAG,CAAC,QAAJ,GAAe,QAAA,CAAC,GAAD;IAAM,eAAN,CAAA;AAEd,YAAA;QAAA,QAAA,GAAY,EAAE,CAAC,KAAH,CAAA;QACZ,KAAK,CAAC,GAAN,CAAU,GAAV;IAAe;UAAE,YAAA,EAAc;QAAhB,CAAf,CAAwC,CAAC,IAAzC,CAA+C,QAAA,CAAC,IAAD,CAAA;AAC7C,cAAA,IAAA;IAAA,WAAA;IAAA,KAAA;IAAA;UAAA,IAAA,GAAgB,IAAI,CAAC,OAAL,CAAa,cAAb;UAChB,WAAA,GAAgB,IAAI,CAAC,OAAL,CAAa,qBAAb;UAChB,IAAI,WAAJ;YACE,KAAA,GAAQ,WAAW,CAAC,KAAZ,CAAkB,8BAAlB;YACR,IAAI,KAAM,CAAA,CAAA,CAAV;cACE,eAAA,GAAkB,KAAM,CAAA,CAAA,EAD1B;aAFF;;UAKA,eAAA,GAAkB,eAAe,CAAC,OAAhB,CAAwB,iBAAxB;IAA2C,GAA3C;UAClB,IAAA,GAAO,IAAI,IAAJ,CAAS,CAAC,IAAI,CAAC,IAAN,CAAT;IAAsB;YAAE,IAAA,EAAM;UAAR,CAAtB;UACP,MAAM,CAAC,MAAP,CAAc,IAAd;IAAoB,eAApB;iBACA,QAAQ,CAAC,OAAT,CAAiB,eAAjB;QAX6C,CAA/C;IAYE,QAAA,CAAC,EAAD,CAAA;UACA,OAAO,CAAC,GAAR,CAAY,EAAZ;iBACA,QAAQ,CAAC,MAAT,CAAgB,EAAhB;QAFA,CAZF;AAgBA,eAAO,QAAQ,CAAC;MAnBF;MAuBf,GAAG,CAAC,SAAJ,GAAgB,QAAA,CAAC,GAAD;IAAM,eAAN,CAAA;AAEf,YAAA;QAAA,QAAA,GAAY,EAAE,CAAC,KAAH,CAAA;QACZ,KAAK,CAAC,GAAN,CAAU,GAAV;IAAe;UAAE,YAAA,EAAc;QAAhB,CAAf,CACC,CAAC,IADF,CACO,QAAA,CAAC,QAAD,CAAA;AACL,cAAA,IAAA;IAAA;UAAA,IAAA,GAAO,IAAI,IAAJ,CAAS,CAAC,QAAD,CAAT;IAAqB;YAAE,IAAA,EAAM;UAAR,CAArB;UACP,OAAA,GAAU,GAAG,CAAC,eAAJ,CAAoB,IAApB;UACV,MAAM,CAAC,IAAP,CAAY,OAAZ;iBACA,QAAQ,CAAC,OAAT,CAAiB,eAAjB;QAJK,CADP;IAMG,QAAA,CAAC,EAAD,CAAA;UACD,OAAO,CAAC,GAAR,CAAY,aAAZ;IAA2B,EAA3B;iBACA,QAAQ,CAAC,MAAT,CAAgB,EAAhB;QAFC,CANH;AAUA,eAAO,QAAQ,CAAC;MAbD;AAehB,aAAO;IAzCiC,CAAhB;GAFzB;AAAA",
  "sourcesContent": [
    "angular.module('myvcFrontApp')\n\n.factory('DownloadServ', ['$http', '$q', ($http, $q) ->\n\tres = {}\n\n\tres.download = (url, defaultFileName)->\n\n\t\tdeferred  = $q.defer()\n\t\t$http.get(url, { responseType: \"blob\" }).then( (data)->\n\t\t\t\ttype          = data.headers('Content-Type');\n\t\t\t\tdisposition   = data.headers('Content-Disposition');\n\t\t\t\tif (disposition)\n\t\t\t\t\t\tmatch = disposition.match(/.*filename=\\\"?([^;\\\"]+)\\\"?.*/);\n\t\t\t\t\t\tif (match[1])\n\t\t\t\t\t\t\t\tdefaultFileName = match[1];\n\n\t\t\t\tdefaultFileName = defaultFileName.replace(/[<>:\"\\/\\\\|?*]+/g, '_')\n\t\t\t\tblob = new Blob([data.data], { type: type });\n\t\t\t\twindow.saveAs(blob, defaultFileName);\n\t\t\t\tdeferred.resolve(defaultFileName);\n\t\t, (r2)->\n\t\t\t\tconsole.log r2\n\t\t\t\tdeferred.reject(r2);\n\t\t);\n\t\treturn deferred.promise\n\n\n\n\tres.download2 = (url, defaultFileName)->\n\n\t\tdeferred  = $q.defer()\n\t\t$http.get(url, { responseType: 'arraybuffer' })\n\t\t\t.then((response)->\n\t\t\t\tfile = new Blob([response], { type: \"Type:application/vnd.ms-excel; charset=UTF-8\" })\n\t\t\t\tfileURL = URL.createObjectURL(file);\n\t\t\t\twindow.open(fileURL);\n\t\t\t\tdeferred.resolve(defaultFileName);\n\t\t\t, (r2)->\n\t\t\t\tconsole.log 'Pailaaassss', r2\n\t\t\t\tdeferred.reject(r2);\n\t\t\t);\n\t\treturn deferred.promise\n\n\treturn res\n\n])\n"
  ]
}